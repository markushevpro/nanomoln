import{A as Da,B as ya,C as w,D as va,E as Fa,F as je,a as We,b as ca,c as da,d as ua,e as ia,f as lt,g as pa,h as ma,j as Ia,k as or,m as Ge,n as Ve,o as rr,p as xa,q as ga,r as ha,s as ae,t as Co,u as Ca,v as be,w as So,x as tr,y as Sa,z as Pe}from"/build/_shared/chunk-FXL7N7GQ.js";import{a as S,e as ze,m as u}from"/build/_shared/chunk-ELF33S6B.js";import{b as ho,c as zs,d as l}from"/build/_shared/chunk-T36URGAI.js";var pe=ho((mi,nr)=>{(function(){"use strict";var o={}.hasOwnProperty;function e(){for(var a="",n=0;n<arguments.length;n++){var f=arguments[n];f&&(a=t(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var n="";for(var f in a)o.call(a,f)&&a[f]&&(n=t(n,f));return n}function t(a,n){return n?a?a+" "+n:a+n:a}typeof nr<"u"&&nr.exports?(e.default=e,nr.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var of=ho((fI,ef)=>{"use strict";ef.exports=function o(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,a,n;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(a=t;a--!==0;)if(!o(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),t=n.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;for(a=t;a--!==0;){var f=n[a];if(!o(e[f],r[f]))return!1}return!0}return e!==e&&r!==r}});var Wl=ho((RC,zl)=>{"use strict";var nd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";zl.exports=nd});var Xl=ho((AC,jl)=>{"use strict";var fd=Wl();function Gl(){}function Vl(){}Vl.resetWarningCache=Gl;jl.exports=function(){function o(t,a,n,f,s,c){if(c!==fd){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}o.isRequired=o;function e(){return o}var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vl,resetWarningCache:Gl};return r.PropTypes=r,r}});var Yl=ho((EC,Kl)=>{Kl.exports=Xl()();var MC,kC});function _d(){return[{title:"nanomoln"},{name:"description",content:"Simple files manipulation"}]}var ba=l(S(),1),st=(0,ba.createContext)(void 0),Wd=st.Provider;var Do=l(S(),1);var Pa={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};var N=(o,e,r,t)=>{let a=(0,Do.forwardRef)(({color:n="currentColor",size:f=24,stroke:s=2,className:c,children:i,...d},p)=>(0,Do.createElement)("svg",{ref:p,...Pa[o],width:f,height:f,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...o==="filled"?{fill:n}:{strokeWidth:s,stroke:n},...d},[...t.map(([C,P])=>(0,Do.createElement)(C,P)),...Array.isArray(i)?i:[i]]));return a.displayName=`${r}`,a};var ct=N("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var dt=N("outline","folder-up","IconFolderUp",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M19 22v-6",key:"svg-1"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-2"}]]);var ut=N("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);var yo=N("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var it=N("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);var pt=N("filled","file-filled","IconFileFilled",[["path",{d:"M12 2l.117 .007a1 1 0 0 1 .876 .876l.007 .117v4l.005 .15a2 2 0 0 0 1.838 1.844l.157 .006h4l.117 .007a1 1 0 0 1 .876 .876l.007 .117v9a3 3 0 0 1 -2.824 2.995l-.176 .005h-10a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-14a3 3 0 0 1 2.824 -2.995l.176 -.005h5z",key:"svg-0"}],["path",{d:"M19 7h-4l-.001 -4.001z",key:"svg-1"}]]);var Oe=N("filled","folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",key:"svg-0"}]]);var mt=N("filled","trash-filled","IconTrashFilled",[["path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z",key:"svg-0"}],["path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z",key:"svg-1"}]]);var Ke=l(S(),1);var Be=l(S(),1);var It=class{async post(e,r){return await(await fetch(e,{method:"POST",body:JSON.stringify(r)})).json()}async rename(e,r,t){await this.post("/api/folders/rename",{path:e,original:r,update:t})}async createFolder(e,r){await this.post("/api/folders/create",{path:e,name:r})}async getFolders(e,r){return await this.post("/api/folders",{path:e,top:r})}async getFiles(e){return await this.post("/api/folders/files",{path:e})}async moveFiles(e,r){await this.post("/api/folders/move",{files:e,target:r})}async uploadFiles(e,r){let t=new FormData;e.forEach(a=>{t.append("file",a)}),await fetch(`/api/folders/upload?target=${encodeURIComponent(r)}`,{method:"POST",body:t})}async removeFiles(e){await this.post("/api/folders/remove",{list:e})}},ce=new It;function Oa(o){return{type:"directory",dir:o?.path??"",draft:!0,relative:"",path:"",filename:"",size:0,files:[],folders:[]}}function Ws(o,e){return{dir:e,filename:o.name,path:`${e}/${o.name}`,type:"file",size:File.length}}function Ba(o,e){return o.map(r=>Ws(r,e))}function ar(o){return Object.keys(o)}function Gs(o,e){let r={};return e.forEach(t=>{r[t]=o[t]}),r}function wa(o){return e=>Gs(e,o)}function Vs(o,e){let r={};return ar(o).forEach(a=>{e.includes(a)||(r[a]=o[a])}),r}function Ta(o){return e=>Vs(e,o)}function La(o,e){return[()=>e(wa(ar(o))),()=>e(Ta(ar(o)))]}var vo={top:void 0,paths:void 0,folder:void 0,locked:[],temporary:[]};var Ra=Fa(o=>({...vo,lock:e=>{o({locked:e})},temp:e=>{o({temporary:e})},force:e=>{o({...vo,...e})},update:e=>{o({...e,temporary:[]})}}));var[M,ie]=La(vo,Ra);var Ya=l(S(),1);var Wa=l(S(),1);var Aa={dir:{draft:Oa}};async function Ma(o,e,r){return{[o]:{...e,folders:await ce.getFolders(e.path,r),files:await ce.getFiles(e.path)}}}async function Ua(o,e){return o?await Ma("folder",o,e?.path??o.path):e?await Ma("top",e,e.path):{}}function ka(o){return!!o?.folders.find(e=>!!e.draft)}function js(o){return!!o.relative}function Ea(o,e){return o&&{...o,folders:[...o.folders,e]}}function Na(o,e){return o.map(r=>r.path===e.path?{...r,draft:!0}:r)}function Ha(o){return{...o,folders:o.folders.map(e=>({...e,draft:!1})),files:o.files.map(e=>({...e,draft:!1}))}}function qa(o,e){return!e||!o?e:js(o)?{...e,folders:Na(e.folders,o)}:{...e,files:Na(e.files,o)}}function _a(o,e){let r=Aa.dir.draft();if(o&&!ka(o))return{folder:Ea(o,r)};if(e&&!ka(e))return{top:Ea(e,r)}}function za(o,e,r){if(e)return{folder:qa(o,Ha(e))};if(r)return{top:qa(o,Ha(r))}}function Ga(){let{folder:o,top:e}=M(),{update:r}=ie();return(0,Wa.useCallback)(()=>{if(r){let a=_a(o,e);a&&r(a)}},[o,e,r])}var Va=l(S(),1);function ja(){let{folder:o,top:e}=M(),{update:r}=ie();return(0,Va.useCallback)(a=>{if(r){let n=za(a,o,e);n&&r(n)}},[o,e,r])}var Xa=l(S(),1);function Ka(){let{top:o,folder:e}=M(),{update:r}=ie();return(0,Xa.useCallback)(()=>{r&&Ua(e,o).then(r)},[e,o,r])}function H(){let{folder:o,top:e,temporary:r}=M(),t=Ka(),a=Ga(),n=ja(),f=o??e;return{data:(0,Ya.useMemo)(()=>f&&{...f,files:[...f.files,...r.filter(c=>!f.files.find(i=>i.path!==c.path))].sort((c,i)=>i.filename.localeCompare(c.filename))},[r,f]),reload:t,create:a,edit:n}}function Xe(){let{data:o,reload:e}=H(),{lock:r,temp:t}=ie(),a=(0,Be.useCallback)(async(c,i)=>{let d=i.split(/(\/|\\)/)[0];o&&c.draft&&(d&&d!==c.text&&(c.text?await ce.rename(o.path,c.text,d):await ce.createFolder(o.path,d)),e?.())},[o,e]),n=(0,Be.useCallback)(async(c,i)=>{c.includes(i)||(r(c),await ce.moveFiles(c,i),e?.(),r([]))},[e,r]),f=(0,Be.useCallback)(async(c,i)=>{let d=Ba(c,i);t(d),r(d.map(p=>p.path)),await ce.uploadFiles(c,i),e?.(),r([])},[r,t,e]),s=(0,Be.useCallback)(async c=>{r(c),await ce.removeFiles(c),e?.(),r([])},[r,e]);return(0,Be.useMemo)(()=>({rename:a,move:n,upload:f,remove:s}),[a,n,f,s])}var $=l(u(),1);function Xs({list:o}){let{data:e}=H(),r=(0,Ke.useCallback)(()=>{let t=o.filter(f=>e?.folders.find(s=>s.path===f)),a=o.filter(f=>e?.files.find(s=>s.path===f)),n="";return a.length>0&&t.length>0?n=`${a.length} ${a.length===1?"file":"files"} and ${t.length} ${t.length===1?"directory":"directories"}`:a.length>0?n=a.length===1?a[0]:`${a.length} files`:t.length>0&&(n=t.length===1?t[0]:`${t.length} directories`),n},[o,e]);return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("p",{children:["Are you sure to remove ",r(),"?"]})})}function Ks({list:o,onRemove:e}){let{hide:r}=je(),{remove:t}=Xe(),a=(0,Ke.useCallback)(()=>{t(o),r(),e?.()},[o,r,t,e]);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Pe,{style:{marginRight:"auto"},variant:"subtle",onClick:r,children:"Cancel"}),(0,$.jsx)(Pe,{color:"red",onClick:a,children:"Remove"})]})}function Za(o,e){let{show:r}=je(),t=(0,Ke.useCallback)(()=>{r("Removing files",(0,$.jsx)(Xs,{list:o}),(0,$.jsx)(Ks,{list:o,onRemove:e}))},[r,o,e]);return(0,Ke.useMemo)(()=>({confirm:t}),[t])}var Ye=l(u(),1);function Ze({files:o,size:e,onRemove:r}){let{confirm:t}=Za(o,r);return(0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsx)(ae,{color:"red",size:e??"lg",variant:"subtle",onClick:t,children:(0,Ye.jsx)(mt,{size:20})})})}var we=l(u(),1);function Qa({selection:o}){return!o||o.selected.length<1?(0,we.jsx)(we.Fragment,{}):(0,we.jsx)(we.Fragment,{children:(0,we.jsx)(Ze,{files:o.selected,onRemove:o.reset})})}var $a=l(pe(),1);var fr="200px";var U={faded:"gnp3A",link:"HN-kO",hideOnHover:"_-1MGa",showOnHover:"kxecj",pullRight:"w5N5L",actions:"_70m97",icon:"_3ydyO",fixed:"jrqHC"};var xt=l(u(),1);function gt({visible:o,actions:e}){return!o||!e?null:(0,xt.jsx)(w.Td,{className:(0,$a.default)(U.pullRight,U.showOnHover),w:fr,children:(0,xt.jsx)("div",{className:U.actions,children:e})})}var en=l(pe(),1);var Ja={link:"_7dNV8"};var ht=l(u(),1);function on({to:o,children:e,className:r}){return(0,ht.jsx)(be,{c:"primary.1",className:(0,en.default)(Ja.link,r),component:ze,to:o,children:(0,ht.jsx)("span",{children:e})})}var Fo=l(S(),1),tn=l(u(),1);function rn({value:o,onSave:e}){let[r,t]=(0,Fo.useState)(o??""),[a,n]=(0,Fo.useState)(!1),f=i=>{t(i.currentTarget.value)},s=i=>{i.key==="Enter"&&c()},c=(0,Fo.useCallback)(()=>{n(!0),e(r)},[r,e]);return(0,tn.jsx)(va,{autoFocus:!0,disabled:a,value:r,onChange:f,onKeyUp:s})}var bo=l(u(),1);function Ct({visible:o,draft:e,text:r,link:t,onSave:a}){return o?(0,bo.jsx)(w.Td,{maw:"100%",children:e&&a?(0,bo.jsx)(rn,{value:r,onSave:a}):t?(0,bo.jsx)(on,{className:U.link,to:t,children:r}):(0,bo.jsx)("div",{className:U.file,children:r})}):null}var an=l(pe(),1);var St=l(u(),1);function Dt({visible:o,icon:e}){return o?(0,St.jsx)(w.Td,{className:(0,an.default)(U.icon,U.faded),w:"40px",children:(0,St.jsx)(Da,{children:e})}):null}var nn=l(pe(),1);var fn=l(u(),1);function yt({visible:o,info:e,actions:r}){return o?(0,fn.jsx)(w.Td,{className:(0,nn.default)(U.faded,r&&U.hideOnHover),w:fr,children:e}):null}var ln=l(S(),1);var vt=l(u(),1);function Ft({visible:o,checked:e,onToggle:r}){let t=(0,ln.useCallback)(a=>{r?.(a.currentTarget.checked)},[r]);return o?(0,vt.jsx)(w.Td,{className:U.fixed,w:"40px",children:(0,vt.jsx)(tr,{checked:e,onChange:t})}):null}var ne=l(u(),1);function lr({item:o,checked:e,onToggle:r,onSave:t}){return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Ft,{checked:e,visible:o.selectable,onToggle:r}),(0,ne.jsx)(Dt,{visible:o.showIcon,...o}),(0,ne.jsx)(Ct,{visible:!0,...o,onSave:t}),(0,ne.jsx)(yt,{visible:!o.draft,...o,actions:!!o.actions}),(0,ne.jsx)(gt,{visible:!o.draft,...o})]})}var sn=l(S(),1),sr=(0,sn.createContext)({dragDropManager:void 0});var Qn=l(u(),1);function J(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var cn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),bt=function(){return Math.random().toString(36).substring(7).split("").join(".")},dn={INIT:"@@redux/INIT"+bt(),REPLACE:"@@redux/REPLACE"+bt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+bt()}};function Zs(o){if(typeof o!="object"||o===null)return!1;for(var e=o;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(o)===e}function Pt(o,e,r){var t;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(J(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(J(1));return r(Pt)(o,e)}if(typeof o!="function")throw new Error(J(2));var a=o,n=e,f=[],s=f,c=!1;function i(){s===f&&(s=f.slice())}function d(){if(c)throw new Error(J(3));return n}function p(y){if(typeof y!="function")throw new Error(J(4));if(c)throw new Error(J(5));var b=!0;return i(),s.push(y),function(){if(b){if(c)throw new Error(J(6));b=!1,i();var F=s.indexOf(y);s.splice(F,1),f=null}}}function C(y){if(!Zs(y))throw new Error(J(7));if(typeof y.type>"u")throw new Error(J(8));if(c)throw new Error(J(9));try{c=!0,n=a(n,y)}finally{c=!1}for(var b=f=s,g=0;g<b.length;g++){var F=b[g];F()}return y}function P(y){if(typeof y!="function")throw new Error(J(10));a=y,C({type:dn.REPLACE})}function x(){var y,b=p;return y={subscribe:function(F){if(typeof F!="object"||F===null)throw new Error(J(11));function h(){F.next&&F.next(d())}h();var B=b(h);return{unsubscribe:B}}},y[cn]=function(){return this},y}return C({type:dn.INIT}),t={dispatch:C,subscribe:p,getState:d,replaceReducer:P},t[cn]=x,t}function I(o,e,...r){if(Qs()&&e===void 0)throw new Error("invariant requires an error message argument");if(!o){let t;if(e===void 0)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;t=new Error(e.replace(/%s/g,function(){return r[a++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function Qs(){return typeof process<"u"&&!0}function un(o,e,r){return e.split(".").reduce((t,a)=>t&&t[a]?t[a]:r||null,o)}function pn(o,e){return o.filter(r=>r!==e)}function cr(o){return typeof o=="object"}function mn(o,e){let r=new Map,t=n=>{r.set(n,r.has(n)?r.get(n)+1:1)};o.forEach(t),e.forEach(t);let a=[];return r.forEach((n,f)=>{n===1&&a.push(f)}),a}function In(o,e){return o.filter(r=>e.indexOf(r)>-1)}var Qe="dnd-core/INIT_COORDS",me="dnd-core/BEGIN_DRAG",$e="dnd-core/PUBLISH_DRAG_SOURCE",Ie="dnd-core/HOVER",xe="dnd-core/DROP",ge="dnd-core/END_DRAG";function Ot(o,e){return{type:Qe,payload:{sourceClientOffset:e||null,clientOffset:o||null}}}var $s={type:Qe,payload:{clientOffset:null,sourceClientOffset:null}};function xn(o){return function(r=[],t={publishSource:!0}){let{publishSource:a=!0,clientOffset:n,getSourceClientOffset:f}=t,s=o.getMonitor(),c=o.getRegistry();o.dispatch(Ot(n)),Js(r,s,c);let i=rc(r,s);if(i==null){o.dispatch($s);return}let d=null;if(n){if(!f)throw new Error("getSourceClientOffset must be defined");ec(f),d=f(i)}o.dispatch(Ot(n,d));let C=c.getSource(i).beginDrag(s,i);if(C==null)return;oc(C),c.pinSource(i);let P=c.getSourceType(i);return{type:me,payload:{itemType:P,item:C,sourceId:i,clientOffset:n||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}function Js(o,e,r){I(!e.isDragging(),"Cannot call beginDrag while dragging."),o.forEach(function(t){I(r.getSource(t),"Expected sourceIds to be registered.")})}function ec(o){I(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function oc(o){I(cr(o),"Item must be an object.")}function rc(o,e){let r=null;for(let t=o.length-1;t>=0;t--)if(e.canDragSource(o[t])){r=o[t];break}return r}function tc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function ac(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){tc(o,a,r[a])})}return o}function gn(o){return function(r={}){let t=o.getMonitor(),a=o.getRegistry();nc(t),sc(t).forEach((f,s)=>{let c=fc(f,s,a,t),i={type:xe,payload:{dropResult:ac({},r,c)}};o.dispatch(i)})}}function nc(o){I(o.isDragging(),"Cannot call drop while not dragging."),I(!o.didDrop(),"Cannot call drop twice during one drag operation.")}function fc(o,e,r,t){let a=r.getTarget(o),n=a?a.drop(t,o):void 0;return lc(n),typeof n>"u"&&(n=e===0?{}:t.getDropResult()),n}function lc(o){I(typeof o>"u"||cr(o),"Drop result must either be an object or undefined.")}function sc(o){let e=o.getTargetIds().filter(o.canDropOnTarget,o);return e.reverse(),e}function hn(o){return function(){let r=o.getMonitor(),t=o.getRegistry();cc(r);let a=r.getSourceId();return a!=null&&(t.getSource(a,!0).endDrag(r,a),t.unpinSource()),{type:ge}}}function cc(o){I(o.isDragging(),"Cannot call endDrag while not dragging.")}function Po(o,e){return e===null?o===null:Array.isArray(o)?o.some(r=>r===e):o===e}function Cn(o){return function(r,{clientOffset:t}={}){dc(r);let a=r.slice(0),n=o.getMonitor(),f=o.getRegistry(),s=n.getItemType();return ic(a,f,s),uc(a,n,f),pc(a,n,f),{type:Ie,payload:{targetIds:a,clientOffset:t||null}}}}function dc(o){I(Array.isArray(o),"Expected targetIds to be an array.")}function uc(o,e,r){I(e.isDragging(),"Cannot call hover while not dragging."),I(!e.didDrop(),"Cannot call hover after drop.");for(let t=0;t<o.length;t++){let a=o[t];I(o.lastIndexOf(a)===t,"Expected targetIds to be unique in the passed array.");let n=r.getTarget(a);I(n,"Expected targetIds to be registered.")}}function ic(o,e,r){for(let t=o.length-1;t>=0;t--){let a=o[t],n=e.getTargetType(a);Po(n,r)||o.splice(t,1)}}function pc(o,e,r){o.forEach(function(t){r.getTarget(t).hover(e,t)})}function Sn(o){return function(){if(o.getMonitor().isDragging())return{type:$e}}}function Dn(o){return{beginDrag:xn(o),publishDragSource:Sn(o),hover:Cn(o),drop:gn(o),endDrag:hn(o)}}var dr=class{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let e=this,{dispatch:r}=this.store;function t(n){return(...f)=>{let s=n.apply(e,f);typeof s<"u"&&r(s)}}let a=Dn(this);return Object.keys(a).reduce((n,f)=>{let s=a[f];return n[f]=t(s),n},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{let t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}};function mc(o,e){return{x:o.x+e.x,y:o.y+e.y}}function yn(o,e){return{x:o.x-e.x,y:o.y-e.y}}function vn(o){let{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:t}=o;return!e||!r||!t?null:yn(mc(e,t),r)}function Fn(o){let{clientOffset:e,initialClientOffset:r}=o;return!e||!r?null:yn(e,r)}var Je=[],ur=[];Je.__IS_NONE__=!0;ur.__IS_ALL__=!0;function bn(o,e){return o===Je?!1:o===ur||typeof e>"u"?!0:In(e,o).length>0}var ir=class{subscribeToStateChange(e,r={}){let{handlerIds:t}=r;I(typeof e=="function","listener must be a function."),I(typeof t>"u"||Array.isArray(t),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId,n=()=>{let f=this.store.getState(),s=f.stateId;try{s===a||s===a+1&&!bn(f.dirtyHandlerIds,t)||e()}finally{a=s}};return this.store.subscribe(n)}subscribeToOffsetChange(e){I(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset,t=()=>{let a=this.store.getState().dragOffset;a!==r&&(r=a,e())};return this.store.subscribe(t)}canDragSource(e){if(!e)return!1;let r=this.registry.getSource(e);return I(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let r=this.registry.getTarget(e);if(I(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let t=this.registry.getTargetType(e),a=this.getItemType();return Po(t,a)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;let r=this.registry.getSource(e,!0);if(I(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;let t=this.registry.getSourceType(e),a=this.getItemType();return t!==a?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;let{shallow:t}=r;if(!this.isDragging())return!1;let a=this.registry.getTargetType(e),n=this.getItemType();if(n&&!Po(a,n))return!1;let f=this.getTargetIds();if(!f.length)return!1;let s=f.indexOf(e);return t?s===f.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return vn(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Fn(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}};var Pn=typeof globalThis<"u"?globalThis:self,On=Pn.MutationObserver||Pn.WebKitMutationObserver;function Bt(o){return function(){let r=setTimeout(a,0),t=setInterval(a,50);function a(){clearTimeout(r),clearInterval(t),o()}}}function Ic(o){let e=1,r=new On(o),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){e=-e,t.data=e}}var Bn=typeof On=="function"?Ic:Bt;var pr=class{enqueueTask(e){let{queue:r,requestFlush:t}=this;r.length||(t(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let t=0,a=e.length-this.index;t<a;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Bn(this.flush),this.requestErrorThrow=Bt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var mr=class{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}};var Ir=class{create(e){let r=this.freeTasks,t=r.length?r.pop():new mr(this.onError,a=>r[r.length]=a);return t.task=e,t}constructor(e){this.onError=e,this.freeTasks=[]}};var wn=new pr,xc=new Ir(wn.registerPendingError);function Tn(o){wn.enqueueTask(xc.create(o))}var Oo="dnd-core/ADD_SOURCE",Bo="dnd-core/ADD_TARGET",wo="dnd-core/REMOVE_SOURCE",Te="dnd-core/REMOVE_TARGET";function Ln(o){return{type:Oo,payload:{sourceId:o}}}function Rn(o){return{type:Bo,payload:{targetId:o}}}function An(o){return{type:wo,payload:{sourceId:o}}}function Mn(o){return{type:Te,payload:{targetId:o}}}function kn(o){I(typeof o.canDrag=="function","Expected canDrag to be a function."),I(typeof o.beginDrag=="function","Expected beginDrag to be a function."),I(typeof o.endDrag=="function","Expected endDrag to be a function.")}function En(o){I(typeof o.canDrop=="function","Expected canDrop to be a function."),I(typeof o.hover=="function","Expected hover to be a function."),I(typeof o.drop=="function","Expected beginDrag to be a function.")}function xr(o,e){if(e&&Array.isArray(o)){o.forEach(r=>xr(r,!1));return}I(typeof o=="string"||typeof o=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var X;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(X||(X={}));var gc=0;function Nn(){return gc++}function hc(o){let e=Nn().toString();switch(o){case X.SOURCE:return`S${e}`;case X.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${o}`)}}function Hn(o){switch(o[0]){case"S":return X.SOURCE;case"T":return X.TARGET;default:throw new Error(`Cannot parse handler ID: ${o}`)}}function qn(o,e){let r=o.entries(),t=!1;do{let{done:a,value:[,n]}=r.next();if(n===e)return!0;t=!!a}while(!t);return!1}var gr=class{addSource(e,r){xr(e),kn(r);let t=this.addHandler(X.SOURCE,e,r);return this.store.dispatch(Ln(t)),t}addTarget(e,r){xr(e,!0),En(r);let t=this.addHandler(X.TARGET,e,r);return this.store.dispatch(Rn(t)),t}containsHandler(e){return qn(this.dragSources,e)||qn(this.dropTargets,e)}getSource(e,r=!1){return I(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return I(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return I(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return I(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Hn(e)===X.SOURCE}isTargetId(e){return Hn(e)===X.TARGET}removeSource(e){I(this.getSource(e),"Expected an existing source."),this.store.dispatch(An(e)),Tn(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){I(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Mn(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let r=this.getSource(e);I(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){I(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,t){let a=hc(e);return this.types.set(a,r),e===X.SOURCE?this.dragSources.set(a,t):e===X.TARGET&&this.dropTargets.set(a,t),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}};var Cc=(o,e)=>o===e;function Un(o,e){return!o&&!e?!0:!o||!e?!1:o.x===e.x&&o.y===e.y}function _n(o,e,r=Cc){if(o.length!==e.length)return!1;for(let t=0;t<o.length;++t)if(!r(o[t],e[t]))return!1;return!0}function zn(o=Je,e){switch(e.type){case Ie:break;case Oo:case Bo:case Te:case wo:return Je;case me:case $e:case ge:case xe:default:return ur}let{targetIds:r=[],prevTargetIds:t=[]}=e.payload,a=mn(r,t);if(!(a.length>0||!_n(r,t)))return Je;let f=t[t.length-1],s=r[r.length-1];return f!==s&&(f&&a.push(f),s&&a.push(s)),a}function Sc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Dc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Sc(o,a,r[a])})}return o}var Wn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Gn(o=Wn,e){let{payload:r}=e;switch(e.type){case Qe:case me:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ie:return Un(o.clientOffset,r.clientOffset)?o:Dc({},o,{clientOffset:r.clientOffset});case ge:case xe:return Wn;default:return o}}function yc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function eo(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){yc(o,a,r[a])})}return o}var vc={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Vn(o=vc,e){let{payload:r}=e;switch(e.type){case me:return eo({},o,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case $e:return eo({},o,{isSourcePublic:!0});case Ie:return eo({},o,{targetIds:r.targetIds});case Te:return o.targetIds.indexOf(r.targetId)===-1?o:eo({},o,{targetIds:pn(o.targetIds,r.targetId)});case xe:return eo({},o,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case ge:return eo({},o,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return o}}function jn(o=0,e){switch(e.type){case Oo:case Bo:return o+1;case wo:case Te:return o-1;default:return o}}function Xn(o=0){return o+1}function Fc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function bc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Fc(o,a,r[a])})}return o}function Kn(o={},e){return{dirtyHandlerIds:zn(o.dirtyHandlerIds,{type:e.type,payload:bc({},e.payload,{prevTargetIds:un(o,"dragOperation.targetIds",[])})}),dragOffset:Gn(o.dragOffset,e),refCount:jn(o.refCount,e),dragOperation:Vn(o.dragOperation,e),stateId:Xn(o.stateId)}}function Yn(o,e=void 0,r={},t=!1){let a=Pc(t),n=new ir(a,new gr(a)),f=new dr(a,n),s=o(f,e,r);return f.receiveBackend(s),f}function Pc(o){let e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Pt(Kn,o&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var Cr=l(S(),1);function Oc(o,e){if(o==null)return{};var r=Bc(o,e),t,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);for(a=0;a<n.length;a++)t=n[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(o,t)&&(r[t]=o[t])}return r}function Bc(o,e){if(o==null)return{};var r={},t=Object.keys(o),a,n;for(n=0;n<t.length;n++)a=t[n],!(e.indexOf(a)>=0)&&(r[a]=o[a]);return r}var Zn=0,hr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),$n=(0,Cr.memo)(function(e){var{children:r}=e,t=Oc(e,["children"]);let[a,n]=wc(t);return(0,Cr.useEffect)(()=>{if(n){let f=Jn();return++Zn,()=>{--Zn===0&&(f[hr]=null)}}},[]),(0,Qn.jsx)(sr.Provider,{value:a,children:r})});function wc(o){if("manager"in o)return[{dragDropManager:o.manager},!1];let e=Tc(o.backend,o.context,o.options,o.debugMode),r=!o.context;return[e,r]}function Tc(o,e=Jn(),r,t){let a=e;return a[hr]||(a[hr]={dragDropManager:Yn(o,e,r,t)}),a[hr]}function Jn(){return typeof globalThis<"u"?globalThis:window}var rf=l(of(),1),Dr=l(S(),1);var Sr=l(S(),1),K=typeof window<"u"?Sr.useLayoutEffect:Sr.useEffect;function tf(o,e,r){let[t,a]=(0,Dr.useState)(()=>e(o)),n=(0,Dr.useCallback)(()=>{let f=e(o);(0,rf.default)(t,f)||(a(f),r&&r())},[t,o,r]);return K(n),[t,n]}function af(o,e,r){let[t,a]=tf(o,e,r);return K(function(){let f=o.getHandlerId();if(f!=null)return o.subscribeToStateChange(a,{handlerIds:[f]})},[o,a]),t}function yr(o,e,r){return af(e,o||(()=>({})),()=>r.reconnect())}var nf=l(S(),1);function vr(o,e){let r=[...e||[]];return e==null&&typeof o!="function"&&r.push(o),(0,nf.useMemo)(()=>typeof o=="function"?o():o,r)}var wt=l(S(),1);function ff(o){return(0,wt.useMemo)(()=>o.hooks.dragSource(),[o])}function lf(o){return(0,wt.useMemo)(()=>o.hooks.dragPreview(),[o])}var pf=l(S(),1);var Tt=!1,Lt=!1,Fr=class{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){I(!Tt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Tt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Tt=!1}}isDragging(){if(!this.sourceId)return!1;I(!Lt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Lt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Lt=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}};var Rt=!1,br=class{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;I(!Rt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Rt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Rt=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}};function sf(o,e,r){let t=r.getRegistry(),a=t.addTarget(o,e);return[a,()=>t.removeTarget(a)]}function cf(o,e,r){let t=r.getRegistry(),a=t.addSource(o,e);return[a,()=>t.removeSource(a)]}function To(o,e,r,t){let a=r?r.call(t,o,e):void 0;if(a!==void 0)return!!a;if(o===e)return!0;if(typeof o!="object"||!o||typeof e!="object"||!e)return!1;let n=Object.keys(o),f=Object.keys(e);if(n.length!==f.length)return!1;let s=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<n.length;c++){let i=n[c];if(!s(i))return!1;let d=o[i],p=e[i];if(a=r?r.call(t,d,p,i):void 0,a===!1||a===void 0&&d!==p)return!1}return!0}function Lo(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}var Ro=l(S(),1);function Lc(o){if(typeof o.type=="string")return;let e=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Rc(o){return(e=null,r=null)=>{if(!(0,Ro.isValidElement)(e)){let n=e;return o(n,r),n}let t=e;return Lc(t),Ac(t,r?n=>o(n,r):o)}}function Pr(o){let e={};return Object.keys(o).forEach(r=>{let t=o[r];if(r.endsWith("Ref"))e[r]=o[r];else{let a=Rc(t);e[r]=()=>a}}),e}function df(o,e){typeof o=="function"?o(e):o.current=e}function Ac(o,e){let r=o.ref;return I(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,Ro.cloneElement)(o,{ref:t=>{df(r,t),df(e,t)}}):(0,Ro.cloneElement)(o,{ref:e})}var Or=class{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){let r=this.dragPreview,t=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!To(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!To(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Pr({dragSource:(r,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Lo(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Lo(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}};var Br=class{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!To(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Pr({dropTarget:(r,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Lo(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}};var uf=l(S(),1);function ee(){let{dragDropManager:o}=(0,uf.useContext)(sr);return I(o!=null,"Expected drag drop context"),o}function mf(o,e){let r=ee(),t=(0,pf.useMemo)(()=>new Or(r.getBackend()),[r]);return K(()=>(t.dragSourceOptions=o||null,t.reconnect(),()=>t.disconnectDragSource()),[t,o]),K(()=>(t.dragPreviewOptions=e||null,t.reconnect(),()=>t.disconnectDragPreview()),[t,e]),t}var If=l(S(),1);function xf(){let o=ee();return(0,If.useMemo)(()=>new Fr(o),[o])}var Tr=l(S(),1);var wr=class{beginDrag(){let e=this.spec,r=this.monitor,t=null;return typeof e.item=="object"?t=e.item:typeof e.item=="function"?t=e.item(r):t={},t??null}canDrag(){let e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){let t=this.spec,a=this.monitor,{isDragging:n}=t;return n?n(a):r===e.getSourceId()}endDrag(){let e=this.spec,r=this.monitor,t=this.connector,{end:a}=e;a&&a(r.getItem(),r),t.reconnect()}constructor(e,r,t){this.spec=e,this.monitor=r,this.connector=t}};function gf(o,e,r){let t=(0,Tr.useMemo)(()=>new wr(o,e,r),[e,r]);return(0,Tr.useEffect)(()=>{t.spec=o},[o]),t}var hf=l(S(),1);function Cf(o){return(0,hf.useMemo)(()=>{let e=o.type;return I(e!=null,"spec.type must be defined"),e},[o])}function Sf(o,e,r){let t=ee(),a=gf(o,e,r),n=Cf(o);K(function(){if(n!=null){let[s,c]=cf(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c}},[t,e,r,a,n])}function Df(o,e){let r=vr(o,e);I(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let t=xf(),a=mf(r.options,r.previewOptions);return Sf(r,t,a),[yr(r.collect,t,a),ff(a),lf(a)]}var yf=l(S(),1);function vf(o){return(0,yf.useMemo)(()=>o.hooks.dropTarget(),[o])}var Ff=l(S(),1);function bf(o){let e=ee(),r=(0,Ff.useMemo)(()=>new Br(e.getBackend()),[e]);return K(()=>(r.dropTargetOptions=o||null,r.reconnect(),()=>r.disconnectDropTarget()),[o]),r}var Pf=l(S(),1);function Of(){let o=ee();return(0,Pf.useMemo)(()=>new br(o),[o])}var Bf=l(S(),1);function wf(o){let{accept:e}=o;return(0,Bf.useMemo)(()=>(I(o.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}var Rr=l(S(),1);var Lr=class{canDrop(){let e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){let e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){let e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}};function Tf(o,e){let r=(0,Rr.useMemo)(()=>new Lr(o,e),[e]);return(0,Rr.useEffect)(()=>{r.spec=o},[o]),r}function Lf(o,e,r){let t=ee(),a=Tf(o,e),n=wf(o);K(function(){let[s,c]=sf(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c},[t,e,a,r,n.map(f=>f.toString()).join("|")])}function Rf(o,e){let r=vr(o,e),t=Of(),a=bf(r.options);return Lf(r,t,a),[yr(r.collect,t,a),vf(a)]}function At(o){let e=null;return()=>(e==null&&(e=o()),e)}function Af(o,e){return o.filter(r=>r!==e)}function Mf(o,e){let r=new Set,t=n=>r.add(n);o.forEach(t),e.forEach(t);let a=[];return r.forEach(n=>a.push(n)),a}var Ar=class{enter(e){let r=this.entered.length,t=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=Mf(this.entered.filter(t),[e]),r===0&&this.entered.length>0}leave(e){let r=this.entered.length;return this.entered=Af(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}};var Mr=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){let r={};Object.keys(this.config.exposeProperties).forEach(t=>{let a=this.config.exposeProperties[t];a!=null&&(r[t]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}};var Ao={};zs(Ao,{FILE:()=>Mt,HTML:()=>Nt,TEXT:()=>Et,URL:()=>kt});var Mt="__NATIVE_FILE__",kt="__NATIVE_URL__",Et="__NATIVE_TEXT__",Nt="__NATIVE_HTML__";function kr(o,e,r){let t=e.reduce((a,n)=>a||o.getData(n),"");return t??r}var Er={[Mt]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[Nt]:{exposeProperties:{html:(o,e)=>kr(o,e,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[kt]:{exposeProperties:{urls:(o,e)=>kr(o,e,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[Et]:{exposeProperties:{text:(o,e)=>kr(o,e,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function kf(o,e){let r=Er[o];if(!r)throw new Error(`native type ${o} has no configuration`);let t=new Mr(r);return t.loadDataTransfer(e),t}function Nr(o){if(!o)return null;let e=Array.prototype.slice.call(o.types||[]);return Object.keys(Er).filter(r=>{let t=Er[r];return t?.matchesTypes?t.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}var Ef=At(()=>/firefox/i.test(navigator.userAgent)),Ht=At(()=>Boolean(window.safari));var Mo=class{interpolate(e){let{xs:r,ys:t,c1s:a,c2s:n,c3s:f}=this,s=r.length-1;if(e===r[s])return t[s];let c=0,i=f.length-1,d;for(;c<=i;){d=Math.floor(.5*(c+i));let P=r[d];if(P<e)c=d+1;else if(P>e)i=d-1;else return t[d]}s=Math.max(0,i);let p=e-r[s],C=p*p;return t[s]+a[s]*p+n[s]*C+f[s]*p*C}constructor(e,r){let{length:t}=e,a=[];for(let x=0;x<t;x++)a.push(x);a.sort((x,y)=>e[x]<e[y]?-1:1);let n=[],f=[],s=[],c,i;for(let x=0;x<t-1;x++)c=e[x+1]-e[x],i=r[x+1]-r[x],f.push(c),n.push(i),s.push(i/c);let d=[s[0]];for(let x=0;x<f.length-1;x++){let y=s[x],b=s[x+1];if(y*b<=0)d.push(0);else{c=f[x];let g=f[x+1],F=c+g;d.push(3*F/((F+g)/y+(F+c)/b))}}d.push(s[s.length-1]);let p=[],C=[],P;for(let x=0;x<d.length-1;x++){P=s[x];let y=d[x],b=1/f[x],g=y+d[x+1]-P-P;p.push((P-y-g)*b),C.push(g*b*b)}this.xs=e,this.ys=r,this.c1s=d,this.c2s=p,this.c3s=C}};var Mc=1;function qt(o){let e=o.nodeType===Mc?o:o.parentElement;if(!e)return null;let{top:r,left:t}=e.getBoundingClientRect();return{x:t,y:r}}function ko(o){return{x:o.clientX,y:o.clientY}}function kc(o){var e;return o.nodeName==="IMG"&&(Ef()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(o)))}function Ec(o,e,r,t){let a=o?e.width:r,n=o?e.height:t;return Ht()&&o&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}function Nf(o,e,r,t,a){let n=kc(e),s=qt(n?o:e),c={x:r.x-s.x,y:r.y-s.y},{offsetWidth:i,offsetHeight:d}=o,{anchorX:p,anchorY:C}=t,{dragPreviewWidth:P,dragPreviewHeight:x}=Ec(n,e,i,d),y=()=>{let R=new Mo([0,.5,1],[c.y,c.y/d*x,c.y+x-d]).interpolate(C);return Ht()&&n&&(R+=(window.devicePixelRatio-1)*x),R},b=()=>new Mo([0,.5,1],[c.x,c.x/i*P,c.x+P-i]).interpolate(p),{offsetX:g,offsetY:F}=a,h=g===0||g,B=F===0||F;return{x:h?g:b(),y:B?F:y()}}var Hr=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function Nc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Hf(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Nc(o,a,r[a])})}return o}var qr=class{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,t){return this.sourcePreviewNodeOptions.set(e,t),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,t){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,t);let a=f=>this.handleDragStart(f,e),n=f=>this.handleSelectStart(f);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",n),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",n),r.setAttribute("draggable","false")}}connectDropTarget(e,r){let t=f=>this.handleDragEnter(f,e),a=f=>this.handleDragOver(f,e),n=f=>this.handleDrop(f,e);return r.addEventListener("dragenter",t),r.addEventListener("dragover",a),r.addEventListener("drop",n),()=>{r.removeEventListener("dragenter",t),r.removeEventListener("dragover",a),r.removeEventListener("drop",n)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Hf({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Hf({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(Ao).some(r=>Ao[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=kf(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;let r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,t){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{let n=this.sourceNodes.get(a);return n&&qt(n)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>Boolean(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{let a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;let{dragStartSourceIds:n}=this;this.dragStartSourceIds=null;let f=ko(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});let{dataTransfer:s}=a,c=Nr(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),C=this.sourcePreviewNodes.get(d)||p;if(C){let{anchorX:P,anchorY:x,offsetX:y,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),h=Nf(p,C,f,{anchorX:P,anchorY:x},{offsetX:y,offsetY:b});s.setDragImage(C,h.x,h.y)}}try{s?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);let{captureDraggingState:i}=this.getCurrentSourcePreviewNodeOptions();i?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;let{dataTransfer:s}=a,c=Nr(s);c&&this.beginDragNativeItem(c,s)},this.handleTopDragEnter=a=>{let{dragEnterTargetIds:n}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,n.length>0&&this.actions.hover(n,{clientOffset:ko(a)}),n.some(s=>this.monitor.canDropOnTarget(s))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{let{dragOverTargetIds:n}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=ko(a),this.scheduleHover(n),(n||[]).some(s=>this.monitor.canDropOnTarget(s))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var n;a.preventDefault(),(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}else Nr(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{let{dropTargetIds:n}=this;this.dropTargetIds=[],this.actions.hover(n,{clientOffset:ko(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{let n=a.target;typeof n.dragDrop=="function"&&(n.tagName==="INPUT"||n.tagName==="SELECT"||n.tagName==="TEXTAREA"||n.isContentEditable||(a.preventDefault(),n.dragDrop()))},this.options=new Hr(r,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Ar(this.isNodeInDocument)}};var qf=function(e,r,t){return new qr(e,r,t)};function Uf(o){let{selectable:e,draggable:r,locked:t}=o??{},a=o?.showIcons===void 0?!0:o.showIcons;return{draggable:!!r,selectable:!!e,locked:t??[],showIcons:a}}var Eo=l(S(),1);function _f(o,e,r,t){let{isSelected:a,onSelect:n}=e??{},f=(0,Eo.useCallback)(d=>()=>{d&&n?.(d)},[n]),s=(0,Eo.useCallback)(()=>{n?.(o.filter(d=>!!d.path).map(d=>d.path??""))},[n,o]),c=(0,Eo.useCallback)(d=>p=>{r?.(d,p)},[r]),i=(0,Eo.useCallback)((d,p)=>{t?.(d,p)},[t]);return{change:c,drop:i,isSelected:a,select:f,selectAll:s}}var Vf=l(pe(),1);var zf=l(S(),1);function Hc(o){return o.map(e=>({path:e}))}function Wf(o,e,r,t){let a=(0,zf.useRef)(null),[{isDragging:n},f]=Df(()=>({type:o,item:()=>r?.selected&&r?.selected?.length>0?Hc(r.selected):[e],canDrag:()=>!!e.drag,collect:d=>({isDragging:!!d.isDragging()})}),[r]),[{isOver:s,canDrop:c},i]=Rf(()=>({accept:o,canDrop:d=>!!e.drop&&!d.find(p=>p.path===e.path),drop:d=>{e.path&&t?.(d.map(p=>p.path??""),e.path)},collect:d=>({isOver:!!d.isOver(),canDrop:!!d.canDrop()})}));return i(f(a)),{ref:a,isDragging:n,isOver:c&&s}}function Gf(o){return{path:o.path,drag:!o.draft,drop:o.acceptDrop}}var oo={drag:"hYjIl",drop:"VSAdj",locked:"uCQKv"};var Ut=l(u(),1);function jf({selection:o,onDrop:e,...r}){let{item:t}=r,{ref:a,isDragging:n,isOver:f}=Wf("file",Gf(t),o,e),s=r.component;return(0,Ut.jsx)(w.Tr,{ref:a,className:(0,Vf.default)(r.locked&&oo.locked,n&&oo.drag,f&&oo.drop),children:(0,Ut.jsx)(s,{...r})})}var Xf=l(pe(),1);var _t=l(u(),1);function Kf(o){let e=o.component;return(0,_t.jsx)(w.Tr,{className:(0,Xf.default)(o.locked&&oo.locked),style:{userDrag:"none",WebkitUserDrag:"none"},children:(0,_t.jsx)(e,{...o})})}var zt=l(u(),1);function Yf({draggable:o,...e}){return o?(0,zt.jsx)(jf,{...e}):(0,zt.jsx)(Kf,{...e})}var Zf={table:"u7447",thead:"VgQ3Y",tr:"WpJ8d",td:"wRrzH",th:"y7gsS"};var Le=l(u(),1);function Qf({data:o,selection:e,component:r,config:t,children:a,handlers:n}){let{selectable:f,draggable:s,locked:c}=t??{},i=t?.showIcons===void 0?!0:t.showIcons;return(0,Le.jsx)(xa,{children:(0,Le.jsxs)(w,{highlightOnHover:!0,classNames:Zf,horizontalSpacing:"0",miw:800,verticalSpacing:"sm",children:[a,(0,Le.jsx)(w.Tbody,{children:o.map(({key:d,...p})=>(0,Le.jsx)(Yf,{checked:n.isSelected?.(d),component:r,draggable:s,locked:c?.includes(p.path??""),selection:e,item:{...p,icon:!p.icon&&c?.includes(p.path??"")?(0,Le.jsx)(ha,{color:"gray",size:"xs"}):p.icon,selectable:f,showIcon:i},onDrop:n.drop,onToggle:n.select?.(p.path),onSave:n.change({key:d,...p})},d))})]})})}var $f=l(pe(),1);var No={container:"OyLcf",selected:"BcIMD",actions:"_7OG-U"};var Y=l(u(),1);function Jf({selected:o,selection:e,total:r,selectionActions:t,onSelectAll:a}){return(0,Y.jsx)(w.Thead,{children:(0,Y.jsxs)(w.Tr,{children:[(0,Y.jsx)(w.Th,{w:"40px",children:(0,Y.jsx)(tr,{checked:o&&e.length===r,indeterminate:o&&e.length!==r,onChange:a})}),(0,Y.jsx)(w.Th,{colSpan:5,children:(0,Y.jsxs)("div",{className:No.container,children:[(0,Y.jsx)("span",{className:(0,$f.default)(No.selected,e&&e.length<1&&No.empty),children:o&&(0,Y.jsxs)(Y.Fragment,{children:[e.length," selected"]})}),(0,Y.jsx)("div",{className:No.actions,children:t})]})})]})})}var Ur=l(u(),1);function _r({data:o,component:e,config:r,selection:t,selectionActions:a,onChange:n,onDrop:f}){let s=Uf(r),c=_f(o,t,n,f),{selected:i,empty:d}=t??{},p=(0,Ur.jsx)(Qf,{component:e,config:s,data:o,handlers:c,selection:t,children:i&&(0,Ur.jsx)(Jf,{selected:!d,selection:i,selectionActions:a,total:o.length,onSelectAll:c.selectAll})});return s.draggable?(0,Ur.jsx)($n,{backend:qf,children:p}):p}var Me=l(S(),1);var Z=l(S(),1);function el(o,e,r){return r.indexOf(o)===e}function ol(o){let[e,r]=(0,Z.useState)(o),t=(0,Z.useMemo)(()=>e.length<1,[e]),a=(0,Z.useCallback)(p=>{r(p([...e]))},[e]),n=(0,Z.useCallback)(p=>{a(C=>(C.splice(C.indexOf(p),1),C))},[a]),f=(0,Z.useCallback)(p=>{a(C=>(C.push(p),C))},[a]),s=(0,Z.useCallback)(p=>{e.includes(p[0])?r(e.filter(C=>!p.includes(C))):r([...e,...p].filter(el))},[e]),c=(0,Z.useCallback)(p=>{Array.isArray(p)?s(p):e.includes(p)?n(p):f(p)},[e,n,f,s]),i=(0,Z.useCallback)(p=>!!e?.includes(p),[e]),d=(0,Z.useCallback)(()=>{r([])},[]);return(0,Z.useMemo)(()=>({selected:e,empty:t,onSelect:c,isSelected:i,reset:d,set:r}),[e,t,c,i,d])}var rl=l(S(),1);var ro=l(u(),1);function zr({item:o,size:e}){let{edit:r}=H(),t=(0,rl.useCallback)(()=>{r(o)},[r,o]);return(0,ro.jsx)(ro.Fragment,{children:(0,ro.jsx)(ae,{size:e??"lg",variant:"subtle",onClick:t,children:(0,ro.jsx)(ut,{size:20})})})}var Re=l(u(),1);function tl({dir:o}){return(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(zr,{item:o,size:"md"}),(0,Re.jsx)(Ze,{files:[o.path],size:"md"})]})}function al(o,e){return e.path.replace(/[\\]+/g,"/").replace(o.path,"")}var to=l(u(),1);function nl({file:o,size:e}){let{top:r}=M();return(0,to.jsx)(to.Fragment,{children:(0,to.jsx)(ae,{size:e??"lg",variant:"subtle",onClick:()=>{r&&window.open(`/api/download?hash=${r.hash}&file=${al(r,o)}`)},children:(0,to.jsx)(ct,{size:20})})})}var he=l(u(),1);function fl({file:o}){return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(zr,{item:o,size:"md"}),(0,he.jsx)(nl,{file:o,size:"md"}),(0,he.jsx)(Ze,{files:[o.path],size:"md"})]})}var ao=l(u(),1);function ll({prefix:o,postfix:e,text:r,styles:t}){return(0,ao.jsxs)("li",{children:[o&&(0,ao.jsx)("span",{className:t.prefix,children:o}),(0,ao.jsx)("span",{className:t.text,children:r}),e&&(0,ao.jsx)("span",{className:t.postfix,children:e})]})}var Wt={container:"oPZRi",prefix:"KJqnO",postfix:"tk45f"};var Wr=l(u(),1),qc=16;function Gr({items:o}){return(0,Wr.jsx)("ul",{className:Wt.container,children:o.map(e=>{if(!e)return null;let r=e.icon;return(0,Wr.jsx)(ll,{postfix:r&&(0,Wr.jsx)(r,{size:qc}),styles:Wt,text:e.content},e.key)})})}var Uc="array",_c="bit",sl="bits",zc="byte",cl="bytes",no="",Wc="exponent",Gc="function",dl="iec",Vc="Invalid number",jc="Invalid rounding method",Gt="jedec",Xc="object",ul=".",Kc="round",Yc="s",Zc="si",Qc="kbit",$c="kB",Jc=" ",ed="string",od="0",Vt={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function il(o,{bits:e=!1,pad:r=!1,base:t=-1,round:a=2,locale:n=no,localeOptions:f={},separator:s=no,spacer:c=Jc,symbols:i={},standard:d=no,output:p=ed,fullform:C=!1,fullforms:P=[],exponent:x=-1,roundingMethod:y=Kc,precision:b=0}={}){let g=x,F=Number(o),h=[],B=0,W=no;d===Zc?(t=10,d=Gt):d===dl||d===Gt?t=2:t===2?d=dl:(t=10,d=Gt);let R=t===10?1e3:1024,Q=C===!0,G=F<0,V=Math[y];if(typeof o!="bigint"&&isNaN(o))throw new TypeError(Vc);if(typeof V!==Gc)throw new TypeError(jc);if(G&&(F=-F),(g===-1||isNaN(g))&&(g=Math.floor(Math.log(F)/Math.log(R)),g<0&&(g=0)),g>8&&(b>0&&(b+=8-g),g=8),p===Wc)return g;if(F===0)h[0]=0,W=h[1]=Vt.symbol[d][e?sl:cl][g];else{B=F/(t===2?Math.pow(2,g*10):Math.pow(1e3,g)),e&&(B=B*8,B>=R&&g<8&&(B=B/R,g++));let A=Math.pow(10,g>0?a:0);h[0]=V(B*A)/A,h[0]===R&&g<8&&x===-1&&(h[0]=1,g++),W=h[1]=t===10&&g===1?e?Qc:$c:Vt.symbol[d][e?sl:cl][g]}if(G&&(h[0]=-h[0]),b>0&&(h[0]=h[0].toPrecision(b)),h[1]=i[h[1]]||h[1],n===!0?h[0]=h[0].toLocaleString():n.length>0?h[0]=h[0].toLocaleString(n,f):s.length>0&&(h[0]=h[0].toString().replace(ul,s)),r&&Number.isInteger(h[0])===!1&&a>0){let A=s||ul,te=h[0].toString().split(A),le=te[1]||no,T=le.length,E=a-T;h[0]=`${te[0]}${A}${le.padEnd(T+E,od)}`}return Q&&(h[1]=P[g]?P[g]:Vt.fullform[d][g]+(e?_c:zc)+(h[0]===1?no:Yc)),p===Uc?h:p===Xc?{value:h[0],symbol:h[1],exponent:g,unit:W}:h.join(c)}var pl={container:"VZst4"};var Il=l(u(),1);function ml({path:o}){let e=o.split(".").pop();return e?(0,Il.jsx)("span",{className:pl.container,children:e}):null}var gl=l(u(),1);function xl(o){let e=[];return e.push({key:"size",content:il(o.size)}),e.push({key:"ext",content:(0,gl.jsx)(ml,{path:o.filename})}),e}var Cl=l(u(),1);function hl({data:o}){return(0,Cl.jsx)(Gr,{items:xl(o)})}function Sl(o){let e=[];return e.push(o.folders.length>0&&{key:"folders",icon:Oe,content:o.folders.length}),e.push(o.files.length>0&&{key:"files",icon:pt,content:o.files.length}),e}var Dl=l(u(),1);function Vr({data:o}){return(0,Dl.jsx)(Gr,{items:Sl(o)})}var Ae=l(u(),1);function rd(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.path,path:r.path,text:r.filename,draft:r.draft,info:(0,Ae.jsx)(hl,{data:r}),actions:(0,Ae.jsx)(fl,{file:r})})}),e}function td(o,e,r){let t=[];return o&&e&&(r&&t.push({key:r,path:r,acceptDrop:!0,draft:!1,text:"..",icon:(0,Ae.jsx)(dt,{}),link:r===e.path?`/view/${e.hash}`:`/view/${e.hash}${r.replace(/\\/g,"/").replace(e.path,"")}`}),o.forEach(a=>{t.push({key:a.path,path:a.path,acceptDrop:!0,draft:a.draft,text:a.filename,link:`/view/${e.hash}/${a.relative}`,info:(0,Ae.jsx)(Vr,{data:a}),icon:(0,Ae.jsx)(Oe,{}),actions:(0,Ae.jsx)(tl,{dir:a})})})),t}function jt(o,e){let r=[],t=td(e?.folders,o,e?.hash?void 0:e?.dir),a=rd(e?.files);return t.length>0&&r.push(...t),a.length>0&&r.push(...a),r}function yl(){let o=ol([]),{set:e}=o,{top:r}=M(),{data:t}=H(),[a,n]=(0,Me.useState)(jt(r,t));return(0,Me.useEffect)(()=>{n(jt(r,t))},[r,t]),(0,Me.useEffect)(()=>{e([])},[t,e]),(0,Me.useMemo)(()=>({list:a,selection:o}),[a,o])}var Xt=l(u(),1);function vl(){let{list:o,selection:e}=yl(),{locked:r}=M(),t=Xe();return(0,Xt.jsx)(_r,{component:lr,data:o,selection:e,selectionActions:(0,Xt.jsx)(Qa,{selection:e}),config:{draggable:!0,selectable:!0,locked:r},onChange:t.rename,onDrop:t.move})}var Kt=l(u(),1);function Fl(){return(0,Kt.jsx)("div",{children:(0,Kt.jsx)(vl,{})})}var Pl=l(u(),1);function bl(){let{data:o}=H();return o?(0,Pl.jsx)(Fl,{}):null}var fo=l(S(),1);var Ol=l(u(),1);function Yt(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.hash,text:`${r.path}`,link:`/view/${r.hash}`,info:(0,Ol.jsx)(Vr,{data:r})})}),e}function Bl(){let{paths:o}=M(),[e,r]=(0,fo.useState)(Yt(o));return(0,fo.useEffect)(()=>{r(Yt(o))},[o]),(0,fo.useMemo)(()=>({list:e}),[e])}var Tl=l(u(),1);function wl(){let{list:o}=Bl();return(0,Tl.jsx)(_r,{component:lr,config:{showIcons:!1},data:o})}var Zt=l(u(),1);function Ll(){return(0,Zt.jsx)("div",{children:(0,Zt.jsx)(wl,{})})}var Rl={separator:"_7DbBF",breadcrumb:"B4n0u"};var Ce=l(S(),1);var jr="...";function Al(o){return o?.path.split("/").pop()??""}function ad(o){return{link:`/view/${o.hash}`,text:Al(o)??jr}}function Qt(o,e){return o?.filename??Al(e)??jr}function $t(o,e){if(!o||!e)return[];let r=[],t=ad(o),a=e.relative.split("/");for(let n=1;n<a.length;n++)r.push({link:`${t.link}/${a.slice(0,n).join("/")}`,text:a[n-1]??jr});return[t,...r]}function Ml(){let{folder:o,top:e}=M(),[r,t]=(0,Ce.useState)(Qt(o,e)),[a,n]=(0,Ce.useState)($t(e,o)),f=(0,Ce.useMemo)(()=>!!e,[e]);return(0,Ce.useEffect)(()=>{t(Qt(o,e)),n($t(e,o))},[e,o]),(0,Ce.useMemo)(()=>({visible:f,active:r,path:a}),[r,a,f])}var Ho=l(u(),1);function kl(){let{visible:o,path:e,active:r}=Ml();return o?(0,Ho.jsxs)(Sa,{classNames:Rl,children:[e.map(t=>(0,Ho.jsx)(be,{component:ze,to:t.link,children:t.text},t.link)),(0,Ho.jsx)(be,{c:"primary.0",underline:"never",children:r})]}):null}var El={header:"rJESL"};var lo=l(u(),1);function Nl({children:o,actions:e}){return(0,lo.jsx)(So.Header,{className:El.header,children:(0,lo.jsx)(Ve,{bg:"primary.8",children:(0,lo.jsxs)(Co,{h:"60px",px:"md",children:[o,(0,lo.jsx)(Co,{ml:"auto",children:e})]})})})}var qo=l(u(),1);function Hl(){return(0,qo.jsxs)("svg",{fill:"none",height:"30",viewBox:"0 0 1236 861",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[(0,qo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.22 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.155 3.023C785.315 53.028 826.35 97.39 841.7 150.347Z",fill:"none",fillRule:"evenodd"}),(0,qo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.221 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.154 3.023C785.315 53.028 826.35 97.39 841.7 150.347ZM738.148 292.981l-10.577-19.733-49.502 26.502 56.252 104.95.028-.015 2.655 4.954 105.008-56.22-26.517-49.474-22.836 12.226c41.64-65.635 123.329-98.347 201.398-74.756 93.903 28.374 147.003 127.454 118.613 221.301-22.1 73.069-87.09 121.422-159.108 125.859a236.615 236.615 0 0 1-9.347 48.877 240.002 240.002 0 0 1-3.151 9.67c.501.004-.5 0 0 0-37.874 117.762-161.876 183.892-280.818 147.95-20.299-6.133-39.109-14.848-56.179-25.674-27.119 18.559-62.109 25.111-96.019 14.864-43.114-13.028-72.627-49.631-78.685-91.422-2.285-15.761-1.233-32.26 3.683-48.511a113.666 113.666 0 0 1 1.894-5.712c22.592-17.165 42.218-38.487 57.575-63.267a113.09 113.09 0 0 1 5.829-2.561l8.769 16.361 49.502-26.502-56.252-104.95-.029.015-2.651-4.946-105.009 56.22 26.518 49.474 22.836-12.226c-41.641 65.635-123.329 98.347-201.398 74.756-93.9-28.374-147.005-127.454-118.615-221.301 22.104-73.069 87.095-121.422 159.11-125.859 1.355-16.262 4.431-32.628 9.347-48.877a238.962 238.962 0 0 1 3.15-9.67C330.945 96.642 456.339 29.843 575.754 65.928c21.722 6.563 41.739 16.082 59.743 27.983 23.46-10.085 50.47-12.27 76.828-4.305 42.239 12.764 71.423 48.153 78.287 88.881 2.785 16.523 1.897 33.926-3.284 51.052a114.683 114.683 0 0 1-2.069 6.194 234.335 234.335 0 0 0-46.379 56.8c-.244.15-.488.3-.732.448Z",fill:"currentColor",fillRule:"evenodd"})]})}var Jt=l(u(),1);function ql({to:o}){return(0,Jt.jsx)(be,{c:"primary.4",component:ze,h:"30px",lh:"30px",to:o,children:(0,Jt.jsx)(Hl,{})})}var Uo=l(u(),1);function Ul({actions:o}){return(0,Uo.jsxs)(Nl,{actions:o,children:[(0,Uo.jsx)(ql,{to:"/"}),(0,Uo.jsx)(kl,{})]})}var _o=l(u(),1);function _l({headerActions:o,children:e}){return(0,_o.jsxs)(So,{children:[(0,_o.jsx)(Ul,{actions:o}),(0,_o.jsx)(So.Main,{children:e})]})}var ot=l(S(),1);var Ne=l(u(),1);var D=l(S(),1),O=l(Yl(),1);var ld=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function so(o,e){let r=sd(o);if(typeof r.path!="string"){let{webkitRelativePath:t}=o;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:o.name,writable:!1,configurable:!1,enumerable:!0})}return r}function sd(o){let{name:e}=o;if(e&&e.lastIndexOf(".")!==-1&&!o.type){let t=e.split(".").pop().toLowerCase(),a=ld.get(t);a&&Object.defineProperty(o,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return o}var co=(o,e,r)=>new Promise((t,a)=>{var n=c=>{try{s(r.next(c))}catch(i){a(i)}},f=c=>{try{s(r.throw(c))}catch(i){a(i)}},s=c=>c.done?t(c.value):Promise.resolve(c.value).then(n,f);s((r=r.apply(o,e)).next())}),cd=[".DS_Store","Thumbs.db"];function $l(o){return co(this,null,function*(){return Xr(o)&&dd(o.dataTransfer)?md(o.dataTransfer,o.type):ud(o)?id(o):Array.isArray(o)&&o.every(e=>"getFile"in e&&typeof e.getFile=="function")?pd(o):[]})}function dd(o){return Xr(o)}function ud(o){return Xr(o)&&Xr(o.target)}function Xr(o){return typeof o=="object"&&o!==null}function id(o){return ea(o.target.files).map(e=>so(e))}function pd(o){return co(this,null,function*(){return(yield Promise.all(o.map(r=>r.getFile()))).map(r=>so(r))})}function md(o,e){return co(this,null,function*(){if(o.items){let r=ea(o.items).filter(a=>a.kind==="file");if(e!=="drop")return r;let t=yield Promise.all(r.map(Id));return Zl(Jl(t))}return Zl(ea(o.files).map(r=>so(r)))})}function Zl(o){return o.filter(e=>cd.indexOf(e.name)===-1)}function ea(o){if(o===null)return[];let e=[];for(let r=0;r<o.length;r++){let t=o[r];e.push(t)}return e}function Id(o){if(typeof o.webkitGetAsEntry!="function")return Ql(o);let e=o.webkitGetAsEntry();return e&&e.isDirectory?es(e):Ql(o)}function Jl(o){return o.reduce((e,r)=>[...e,...Array.isArray(r)?Jl(r):[r]],[])}function Ql(o){let e=o.getAsFile();if(!e)return Promise.reject(`${o} is not a File`);let r=so(e);return Promise.resolve(r)}function xd(o){return co(this,null,function*(){return o.isDirectory?es(o):gd(o)})}function es(o){let e=o.createReader();return new Promise((r,t)=>{let a=[];function n(){e.readEntries(f=>co(this,null,function*(){if(f.length){let s=Promise.all(f.map(xd));a.push(s),n()}else try{let s=yield Promise.all(a);r(s)}catch(s){t(s)}}),f=>{t(f)})}n()})}function gd(o){return co(this,null,function*(){return new Promise((e,r)=>{o.file(t=>{let a=so(t,o.fullPath);e(a)},t=>{r(t)})})})}function os(o,e){if(o&&e){let r=Array.isArray(e)?e:e.split(","),t=o.name||"",a=(o.type||"").toLowerCase(),n=a.replace(/\/.*$/,"");return r.some(f=>{let s=f.trim().toLowerCase();return s.charAt(0)==="."?t.toLowerCase().endsWith(s):s.endsWith("/*")?n===s.replace(/\/.*$/,""):a===s})}return!0}var hd=Object.defineProperty,Cd=Object.defineProperties,Sd=Object.getOwnPropertyDescriptors,rs=Object.getOwnPropertySymbols,Dd=Object.prototype.hasOwnProperty,yd=Object.prototype.propertyIsEnumerable,ts=(o,e,r)=>e in o?hd(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,vd=(o,e)=>{for(var r in e||(e={}))Dd.call(e,r)&&ts(o,r,e[r]);if(rs)for(var r of rs(e))yd.call(e,r)&&ts(o,r,e[r]);return o},Fd=(o,e)=>Cd(o,Sd(e)),bd="file-invalid-type",Pd="file-too-large",Od="file-too-small",Bd="too-many-files";var wd=o=>{o=Array.isArray(o)&&o.length===1?o[0]:o;let e=Array.isArray(o)?`one of ${o.join(", ")}`:o;return{code:bd,message:`File type must be ${e}`}},as=o=>({code:Pd,message:`File is larger than ${o} ${o===1?"byte":"bytes"}`}),ns=o=>({code:Od,message:`File is smaller than ${o} ${o===1?"byte":"bytes"}`}),fs={code:Bd,message:"Too many files"};function oa(o,e){let r=o.type==="application/x-moz-file"||os(o,e);return[r,r?null:wd(e)]}function ra(o,e,r){if(ke(o.size))if(ke(e)&&ke(r)){if(o.size>r)return[!1,as(r)];if(o.size<e)return[!1,ns(e)]}else{if(ke(e)&&o.size<e)return[!1,ns(e)];if(ke(r)&&o.size>r)return[!1,as(r)]}return[!0,null]}function ke(o){return o!=null}function ls({files:o,accept:e,minSize:r,maxSize:t,multiple:a,maxFiles:n,validator:f}){return!a&&o.length>1||a&&n>=1&&o.length>n?!1:o.every(s=>{let[c]=oa(s,e),[i]=ra(s,r,t),d=f?f(s):null;return c&&i&&!d})}function zo(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function Wo(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!o.target&&!!o.target.files}function ta(o){o.preventDefault()}function Td(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function Ld(o){return o.indexOf("Edge/")!==-1}function ss(o=window.navigator.userAgent){return Td(o)||Ld(o)}function oe(...o){return(e,...r)=>o.some(t=>(!zo(e)&&t&&t(e,...r),zo(e)))}function cs(){return"showOpenFilePicker"in window}function ds(o){return ke(o)?[{description:"Files",accept:Object.entries(o).filter(([r,t])=>{let a=!0;return ms(r)||(console.warn(`Skipped "${r}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),a=!1),(!Array.isArray(t)||!t.every(Is))&&(console.warn(`Skipped "${r}" because an invalid file extension was provided.`),a=!1),a}).reduce((r,[t,a])=>Fd(vd({},r),{[t]:a}),{})}]:o}function us(o){if(ke(o))return Object.entries(o).reduce((e,[r,t])=>[...e,r,...t],[]).filter(e=>ms(e)||Is(e)).join(",")}function is(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function ps(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function ms(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||/\w+\/[-+.\w]+/g.test(o)}function Is(o){return/^.*\.[\w]+$/.test(o)}var Rd=Object.defineProperty,Ad=Object.defineProperties,Md=Object.getOwnPropertyDescriptors,Kr=Object.getOwnPropertySymbols,hs=Object.prototype.hasOwnProperty,Cs=Object.prototype.propertyIsEnumerable,xs=(o,e,r)=>e in o?Rd(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,_=(o,e)=>{for(var r in e||(e={}))hs.call(e,r)&&xs(o,r,e[r]);if(Kr)for(var r of Kr(e))Cs.call(e,r)&&xs(o,r,e[r]);return o},Se=(o,e)=>Ad(o,Md(e)),Yr=(o,e)=>{var r={};for(var t in o)hs.call(o,t)&&e.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&Kr)for(var t of Kr(o))e.indexOf(t)<0&&Cs.call(o,t)&&(r[t]=o[t]);return r},na=(0,D.forwardRef)((o,e)=>{var r=o,{children:t}=r,a=Yr(r,["children"]);let n=fa(a),{open:f}=n,s=Yr(n,["open"]);return(0,D.useImperativeHandle)(e,()=>({open:f}),[f]),D.default.createElement(D.Fragment,null,t(Se(_({},s),{open:f})))});na.displayName="Dropzone";var Ss={disabled:!1,getFilesFromEvent:$l,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};na.defaultProps=Ss;na.propTypes={children:O.default.func,accept:O.default.objectOf(O.default.arrayOf(O.default.string)),multiple:O.default.bool,preventDropOnDocument:O.default.bool,noClick:O.default.bool,noKeyboard:O.default.bool,noDrag:O.default.bool,noDragEventsBubbling:O.default.bool,minSize:O.default.number,maxSize:O.default.number,maxFiles:O.default.number,disabled:O.default.bool,getFilesFromEvent:O.default.func,onFileDialogCancel:O.default.func,onFileDialogOpen:O.default.func,useFsAccessApi:O.default.bool,autoFocus:O.default.bool,onDragEnter:O.default.func,onDragLeave:O.default.func,onDragOver:O.default.func,onDrop:O.default.func,onDropAccepted:O.default.func,onDropRejected:O.default.func,onError:O.default.func,validator:O.default.func};var aa={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function fa(o={}){let{accept:e,disabled:r,getFilesFromEvent:t,maxSize:a,minSize:n,multiple:f,maxFiles:s,onDragEnter:c,onDragLeave:i,onDragOver:d,onDrop:p,onDropAccepted:C,onDropRejected:P,onFileDialogCancel:x,onFileDialogOpen:y,useFsAccessApi:b,autoFocus:g,preventDropOnDocument:F,noClick:h,noKeyboard:B,noDrag:W,noDragEventsBubbling:R,onError:Q,validator:G}=_(_({},Ss),o),V=(0,D.useMemo)(()=>us(e),[e]),A=(0,D.useMemo)(()=>ds(e),[e]),te=(0,D.useMemo)(()=>typeof y=="function"?y:gs,[y]),le=(0,D.useMemo)(()=>typeof x=="function"?x:gs,[x]),T=(0,D.useRef)(null),E=(0,D.useRef)(null),[Xo,q]=(0,D.useReducer)(kd,aa),{isFocused:rt,isFileDialogActive:uo}=Xo,He=(0,D.useRef)(typeof window<"u"&&window.isSecureContext&&b&&cs()),tt=()=>{!He.current&&uo&&setTimeout(()=>{if(E.current){let{files:m}=E.current;m.length||(q({type:"closeDialog"}),le())}},300)};(0,D.useEffect)(()=>(window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("focus",tt,!1)}),[E,uo,le,He]);let ve=(0,D.useRef)([]),Ko=m=>{T.current&&T.current.contains(m.target)||(m.preventDefault(),ve.current=[])};(0,D.useEffect)(()=>(F&&(document.addEventListener("dragover",ta,!1),document.addEventListener("drop",Ko,!1)),()=>{F&&(document.removeEventListener("dragover",ta),document.removeEventListener("drop",Ko))}),[T,F]),(0,D.useEffect)(()=>(!r&&g&&T.current&&T.current.focus(),()=>{}),[T,g,r]);let se=(0,D.useCallback)(m=>{Q?Q(m):console.error(m)},[Q]),Yo=(0,D.useCallback)(m=>{m.preventDefault(),m.persist(),er(m),ve.current=[...ve.current,m.target],Wo(m)&&Promise.resolve(t(m)).then(v=>{if(zo(m)&&!R)return;let L=v.length,k=L>0&&ls({files:v,accept:V,minSize:n,maxSize:a,multiple:f,maxFiles:s,validator:G}),j=L>0&&!k;q({isDragAccept:k,isDragReject:j,isDragActive:!0,type:"setDraggedFiles"}),c&&c(m)}).catch(v=>se(v))},[t,c,se,R,V,n,a,f,s,G]),Zo=(0,D.useCallback)(m=>{m.preventDefault(),m.persist(),er(m);let v=Wo(m);if(v&&m.dataTransfer)try{m.dataTransfer.dropEffect="copy"}catch{}return v&&d&&d(m),!1},[d,R]),Qo=(0,D.useCallback)(m=>{m.preventDefault(),m.persist(),er(m);let v=ve.current.filter(k=>T.current&&T.current.contains(k)),L=v.indexOf(m.target);L!==-1&&v.splice(L,1),ve.current=v,!(v.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Wo(m)&&i&&i(m))},[T,i,R]),Fe=(0,D.useCallback)((m,v)=>{let L=[],k=[];m.forEach(j=>{let[mo,Io]=oa(j,V),[at,nt]=ra(j,n,a),xo=G?G(j):null;if(mo&&at&&!xo)L.push(j);else{let go=[Io,nt];xo&&(go=go.concat(xo)),k.push({file:j,errors:go.filter(ft=>ft)})}}),(!f&&L.length>1||f&&s>=1&&L.length>s)&&(L.forEach(j=>{k.push({file:j,errors:[fs]})}),L.splice(0)),q({acceptedFiles:L,fileRejections:k,type:"setFiles"}),p&&p(L,k,v),k.length>0&&P&&P(k,v),L.length>0&&C&&C(L,v)},[q,f,V,n,a,s,p,C,P,G]),qe=(0,D.useCallback)(m=>{m.preventDefault(),m.persist(),er(m),ve.current=[],Wo(m)&&Promise.resolve(t(m)).then(v=>{zo(m)&&!R||Fe(v,m)}).catch(v=>se(v)),q({type:"reset"})},[t,Fe,se,R]),de=(0,D.useCallback)(()=>{if(He.current){q({type:"openDialog"}),te();let m={multiple:f,types:A};window.showOpenFilePicker(m).then(v=>t(v)).then(v=>{Fe(v,null),q({type:"closeDialog"})}).catch(v=>{is(v)?(le(v),q({type:"closeDialog"})):ps(v)?(He.current=!1,E.current?(E.current.value=null,E.current.click()):se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):se(v)});return}E.current&&(q({type:"openDialog"}),te(),E.current.value=null,E.current.click())},[q,te,le,b,Fe,se,A,f]),Ue=(0,D.useCallback)(m=>{!T.current||!T.current.isEqualNode(m.target)||(m.key===" "||m.key==="Enter"||m.keyCode===32||m.keyCode===13)&&(m.preventDefault(),de())},[T,de]),_e=(0,D.useCallback)(()=>{q({type:"focus"})},[]),$o=(0,D.useCallback)(()=>{q({type:"blur"})},[]),io=(0,D.useCallback)(()=>{h||(ss()?setTimeout(de,0):de())},[h,de]),ue=m=>r?null:m,po=m=>B?null:ue(m),Jo=m=>W?null:ue(m),er=m=>{R&&m.stopPropagation()},Hs=(0,D.useMemo)(()=>(m={})=>{var v=m,{refKey:L="ref",role:k,onKeyDown:j,onFocus:mo,onBlur:Io,onClick:at,onDragEnter:nt,onDragOver:xo,onDragLeave:go,onDrop:ft}=v,_s=Yr(v,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return _(_({onKeyDown:po(oe(j,Ue)),onFocus:po(oe(mo,_e)),onBlur:po(oe(Io,$o)),onClick:ue(oe(at,io)),onDragEnter:Jo(oe(nt,Yo)),onDragOver:Jo(oe(xo,Zo)),onDragLeave:Jo(oe(go,Qo)),onDrop:Jo(oe(ft,qe)),role:typeof k=="string"&&k!==""?k:"presentation",[L]:T},!r&&!B?{tabIndex:0}:{}),_s)},[T,Ue,_e,$o,io,Yo,Zo,Qo,qe,B,W,r]),qs=(0,D.useCallback)(m=>{m.stopPropagation()},[]),Us=(0,D.useMemo)(()=>(m={})=>{var v=m,{refKey:L="ref",onChange:k,onClick:j}=v,mo=Yr(v,["refKey","onChange","onClick"]);let Io={accept:V,multiple:f,type:"file",style:{display:"none"},onChange:ue(oe(k,qe)),onClick:ue(oe(j,qs)),tabIndex:-1,[L]:E};return _(_({},Io),mo)},[E,e,f,qe,r]);return Se(_({},Xo),{isFocused:rt&&!r,getRootProps:Hs,getInputProps:Us,rootRef:T,inputRef:E,open:ue(de)})}function kd(o,e){switch(e.type){case"focus":return Se(_({},o),{isFocused:!0});case"blur":return Se(_({},o),{isFocused:!1});case"openDialog":return Se(_({},aa),{isFileDialogActive:!0});case"closeDialog":return Se(_({},o),{isFileDialogActive:!1});case"setDraggedFiles":return Se(_({},o),{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Se(_({},o),{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return _({},aa);default:return o}}function gs(){}var[Ds,ys]=da("Dropzone component was not found in tree");var vs=l(u(),1),Fs=l(S(),1);function la(o){let e=r=>{let{children:t,...a}=Ge(`Dropzone${lt(o)}`,{},r),n=ys(),f=ca(t)?t:(0,vs.jsx)("span",{children:t});return n[o]?(0,Fs.cloneElement)(f,a):null};return e.displayName=`@mantine/dropzone/${lt(o)}`,e}var bs=la("accept"),Ps=la("reject"),Os=la("idle");var Ee={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};var Ed={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},Nd=(o,{radius:e,variant:r,acceptColor:t,rejectColor:a})=>{let n=o.variantColorResolver({color:t||o.primaryColor,theme:o,variant:r}),f=o.variantColorResolver({color:a||"red",theme:o,variant:r});return{root:{"--dropzone-radius":ia(e),"--dropzone-accept-color":n.color,"--dropzone-accept-bg":n.background,"--dropzone-reject-color":f.color,"--dropzone-reject-bg":f.background}}},fe=rr((o,e)=>{let r=Ge("Dropzone",Ed,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,radius:i,disabled:d,loading:p,multiple:C,maxSize:P,accept:x,children:y,onDropAny:b,onDrop:g,onReject:F,openRef:h,name:B,maxFiles:W,autoFocus:R,activateOnClick:Q,activateOnDrag:G,dragEventsBubbling:V,activateOnKeyboard:A,onDragEnter:te,onDragLeave:le,onDragOver:T,onFileDialogCancel:E,onFileDialogOpen:Xo,preventDropOnDocument:q,useFsAccessApi:rt,getFilesFromEvent:uo,validator:He,rejectColor:tt,acceptColor:ve,enablePointerEvents:Ko,loaderProps:se,inputProps:Yo,mod:Zo,...Qo}=r,Fe=or({name:"Dropzone",classes:Ee,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,vars:c,varsResolver:Nd}),{getRootProps:qe,getInputProps:de,isDragAccept:Ue,isDragReject:_e,open:$o}=fa({onDrop:b,onDropAccepted:g,onDropRejected:F,disabled:d||p,accept:Array.isArray(x)?x.reduce((ue,po)=>({...ue,[po]:[]}),{}):x,multiple:C,maxSize:P,maxFiles:W,autoFocus:R,noClick:!Q,noDrag:!G,noDragEventsBubbling:!V,noKeyboard:!A,onDragEnter:te,onDragLeave:le,onDragOver:T,onFileDialogCancel:E,onFileDialogOpen:Xo,preventDropOnDocument:q,useFsAccessApi:rt,validator:He,...uo?{getFilesFromEvent:uo}:null});pa(h,$o);let io=!Ue&&!_e;return(0,Ne.jsx)(Ds,{value:{accept:Ue,reject:_e,idle:io},children:(0,Ne.jsxs)(Ve,{...qe(),...Fe("root",{focusable:!0}),...Qo,mod:[{accept:Ue,reject:_e,idle:io,loading:p,"activate-on-click":Q},Zo],children:[(0,Ne.jsx)(ya,{visible:p,overlayProps:{radius:i},unstyled:s,loaderProps:se}),(0,Ne.jsx)("input",{...de(Yo),name:B}),(0,Ne.jsx)("div",{...Fe("inner"),ref:e,"data-enable-pointer-events":Ko||void 0,children:y})]})})});fe.classes=Ee;fe.displayName="@mantine/dropzone/Dropzone";fe.Accept=bs;fe.Idle=Os;fe.Reject=Ps;var Zr=l(u(),1),Go=l(S(),1);var Hd={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:ua("max"),withinPortal:!0},Qr=rr((o,e)=>{let r=Ge("DropzoneFullScreen",Hd,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,active:i,onDrop:d,onReject:p,zIndex:C,withinPortal:P,portalProps:x,...y}=r,b=or({name:"DropzoneFullScreen",classes:Ee,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,rootSelector:"fullScreen"}),{resolvedClassNames:g,resolvedStyles:F}=Ia({classNames:t,styles:f,props:r}),[h,B]=(0,Go.useState)(0),[W,{open:R,close:Q}]=ma(!1),G=A=>{A.dataTransfer?.types.includes("Files")&&(B(te=>te+1),R())},V=()=>{B(A=>A-1)};return(0,Go.useEffect)(()=>{h===0&&Q()},[h]),(0,Go.useEffect)(()=>{if(i)return document.addEventListener("dragenter",G,!1),document.addEventListener("dragleave",V,!1),()=>{document.removeEventListener("dragenter",G,!1),document.removeEventListener("dragleave",V,!1)}},[i]),(0,Zr.jsx)(ga,{...x,withinPortal:P,children:(0,Zr.jsx)(Ve,{...b("fullScreen",{style:{opacity:W?1:0,pointerEvents:W?"all":"none",zIndex:C}}),ref:e,children:(0,Zr.jsx)(fe,{...y,classNames:g,styles:F,unstyled:s,className:Ee.dropzone,onDrop:A=>{d?.(A),Q(),B(0)},onReject:A=>{p?.(A),Q(),B(0)}})})})});Qr.classes=Ee;Qr.displayName="@mantine/dropzone/DropzoneFullScreen";fe.FullScreen=Qr;var $r=fe;var et=l(S(),1);var ws=l(u(),1);function Bs(){return(0,ws.jsx)(yo,{stroke:1.5,style:{width:We(52),height:We(52),color:"var(--mantine-color-blue-6)"}})}var Vo=l(u(),1);function Ts(){return(0,Vo.jsxs)(Co,{gap:"xl",justify:"center",mih:220,style:{pointerEvents:"none"},children:[(0,Vo.jsx)(it,{stroke:1.5,style:{width:We(52),height:We(52),color:"var(--mantine-color-red-6)"}}),(0,Vo.jsx)(Ca,{inline:!0,size:"xl",children:"Unsupported file format"})]})}var sa=l(u(),1);function Ls({onClick:o}){return(0,sa.jsx)(ae,{c:"primary.0",size:"lg",onClick:o,children:(0,sa.jsx)(yo,{size:"20"})})}var De=l(S(),1);function Rs(o,e){return o.filter(r=>e.find(t=>t.filename===r.name))}var Jr=l(S(),1);var z=l(u(),1);function qd({intersection:o}){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("p",{children:"This files will be overwritten:"}),(0,z.jsx)("ul",{children:o.map(e=>(0,z.jsx)("li",{children:e.name},e.name))})]})}function Ud({intersection:o,onOverwrite:e,onIgnore:r}){let{hide:t}=je();return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Pe,{style:{marginRight:"auto"},variant:"subtle",onClick:t,children:"Cancel upload"}),(0,z.jsx)(Pe,{color:"red",onClick:e,children:o.length>1?"Overwrite all":"Overwrite"}),o.length>1&&(0,z.jsx)(Pe,{onClick:r,children:"Ignore exist"})]})}function As(){let{show:o,hide:e}=je(),r=(0,Jr.useCallback)((t,a,n)=>{t&&t.length>0?o("Files already exist",(0,z.jsx)(qd,{intersection:t}),(0,z.jsx)(Ud,{intersection:t,onIgnore:n,onOverwrite:a})):console.error("Trying to show empty overwrite confirmation")},[o]);return(0,Jr.useMemo)(()=>({confirm:r,hide:e}),[r,e])}function Ms(){let{data:o}=H(),{upload:e}=Xe(),{confirm:r,hide:t}=As(),a=(0,De.useCallback)(i=>()=>{e(i,o?.path??""),t()},[o,t,e]),n=(0,De.useCallback)((i,d)=>()=>{let p=i.filter(C=>!d.includes(C));p.length>0&&e(p,o?.path??""),t()},[o,e,t]),f=(0,De.useCallback)((i,d)=>{r(d,a(i),n(i,d))},[r,a,n]),s=(0,De.useCallback)(i=>{let d=Rs(i,o?.files??[]);d.length>0?f(i,d):e(i,o?.path??"")},[f,e,o]),c=(0,De.useCallback)(i=>{o?.path&&s(i)},[o,s]);return(0,De.useMemo)(()=>({upload:c}),[c])}var ks={root:"cr9-2"};var re=l(u(),1);function Es(){let o=(0,et.useRef)(null),{accept:e}=(0,et.useContext)(st)??{accept:["*"]},{upload:r}=Ms();return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsxs)($r.FullScreen,{active:!0,accept:e,className:ks.root,openRef:o,onDrop:r,children:[(0,re.jsx)($r.Accept,{children:(0,re.jsx)(Bs,{})}),(0,re.jsx)($r.Reject,{children:(0,re.jsx)(Ts,{})})]}),(0,re.jsx)(Ls,{onClick:()=>o.current?.()})]})}var ye=l(u(),1);function Ns(){let{data:o,create:e}=H(),[r,t]=(0,ot.useState)(!1);return(0,ot.useEffect)(()=>{t(!0)},[]),!r||!o?null:(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Es,{}),(0,ye.jsx)(ae,{c:"primary.0",size:"lg",onClick:e,children:(0,ye.jsx)(Oe,{size:"20"})})]})}var jo=l(u(),1);function $S(){let{data:o}=H();return(0,jo.jsx)(_l,{headerActions:(0,jo.jsx)(Ns,{}),children:o?(0,jo.jsx)(bl,{}):(0,jo.jsx)(Ll,{})})}export{ie as a,Wd as b,$S as c,_d as d};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@tabler/icons-react/dist/esm/defaultAttributes.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/createReactComponent.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconDownload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderUp.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconPencil.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconUpload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconX.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFileFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconTrashFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/tabler-icons-react.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

filesize/dist/filesize.esm.js:
  (**
   * filesize
   *
   * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
   * @license BSD-3-Clause
   * @version 10.1.2
   *)
*/
