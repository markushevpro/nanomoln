import{A as ba,B as Pa,C as Oa,D as w,E as Ba,F as wa,G as ie,a as Ve,b as pa,c as ma,d as Ia,e as xa,f as it,g as ga,h as ha,j as Ca,k as ar,m as je,n as Xe,o as nr,p as Sa,q as Da,r as ya,s as fe,t as So,u as va,v as Be,w as Do,x as fr,y as Fa,z as le}from"/build/_shared/chunk-LYSDDBWF.js";import{a as y,e as Ge,m as d}from"/build/_shared/chunk-ELF33S6B.js";import{b as Co,c as Ks,d as l}from"/build/_shared/chunk-T36URGAI.js";var ge=Co((yi,sr)=>{(function(){"use strict";var o={}.hasOwnProperty;function e(){for(var a="",n=0;n<arguments.length;n++){var f=arguments[n];f&&(a=t(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var n="";for(var f in a)o.call(a,f)&&a[f]&&(n=t(n,f));return n}function t(a,n){return n?a?a+" "+n:a+n:a}typeof sr<"u"&&sr.exports?(e.default=e,sr.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var ff=Co((mI,nf)=>{"use strict";nf.exports=function o(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,a,n;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(a=t;a--!==0;)if(!o(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),t=n.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;for(a=t;a--!==0;){var f=n[a];if(!o(e[f],r[f]))return!1}return!0}return e!==e&&r!==r}});var Xl=Co((UC,jl)=>{"use strict";var ud="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";jl.exports=ud});var Ql=Co((_C,Zl)=>{"use strict";var id=Xl();function Kl(){}function Yl(){}Yl.resetWarningCache=Kl;Zl.exports=function(){function o(t,a,n,f,s,c){if(c!==id){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}o.isRequired=o;function e(){return o}var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yl,resetWarningCache:Kl};return r.PropTypes=r,r}});var Jl=Co((GC,$l)=>{$l.exports=Ql()();var zC,WC});function Yd(){return[{title:"nanomoln"},{name:"description",content:"Simple files manipulation"}]}var Ta=l(y(),1),yo=(0,Ta.createContext)(void 0),Qd=yo.Provider;var vo=l(y(),1);var La={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};var q=(o,e,r,t)=>{let a=(0,vo.forwardRef)(({color:n="currentColor",size:f=24,stroke:s=2,className:c,children:i,...u},p)=>(0,vo.createElement)("svg",{ref:p,...La[o],width:f,height:f,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...o==="filled"?{fill:n}:{strokeWidth:s,stroke:n},...u},[...t.map(([I,D])=>(0,vo.createElement)(I,D)),...Array.isArray(i)?i:[i]]));return a.displayName=`${r}`,a};var pt=q("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var mt=q("outline","folder-up","IconFolderUp",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M19 22v-6",key:"svg-1"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-2"}]]);var It=q("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);var Fo=q("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var xt=q("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);var gt=q("filled","file-filled","IconFileFilled",[["path",{d:"M12 2l.117 .007a1 1 0 0 1 .876 .876l.007 .117v4l.005 .15a2 2 0 0 0 1.838 1.844l.157 .006h4l.117 .007a1 1 0 0 1 .876 .876l.007 .117v9a3 3 0 0 1 -2.824 2.995l-.176 .005h-10a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-14a3 3 0 0 1 2.824 -2.995l.176 -.005h5z",key:"svg-0"}],["path",{d:"M19 7h-4l-.001 -4.001z",key:"svg-1"}]]);var we=q("filled","folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",key:"svg-0"}]]);var ht=q("filled","trash-filled","IconTrashFilled",[["path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z",key:"svg-0"}],["path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z",key:"svg-1"}]]);var Ye=l(y(),1);var Te=l(y(),1);var Ct=class{async post(e,r){return await(await fetch(e,{method:"POST",body:JSON.stringify(r)})).json()}async rename(e,r,t){await this.post("/api/folders/rename",{path:e,original:r,update:t})}async createFolder(e,r){await this.post("/api/folders/create",{path:e,name:r})}async getFolders(e,r){return await this.post("/api/folders",{path:e,top:r})}async getFiles(e){return await this.post("/api/folders/files",{path:e})}async moveFiles(e,r){await this.post("/api/folders/move",{files:e,target:r})}async uploadFiles(e,r){let t=new FormData;e.forEach(a=>{t.append("file",a)}),await fetch(`/api/folders/upload?target=${encodeURIComponent(r)}`,{method:"POST",body:t})}async removeFiles(e){await this.post("/api/folders/remove",{list:e})}},pe=new Ct;function Ra(o){return{type:"directory",dir:o?.path??"",draft:!0,relative:"",path:"",filename:"",size:0,files:[],folders:[]}}function Ys(o,e){return{dir:e,filename:o.name,path:`${e}/${o.name}`,type:"file",size:File.length}}function Aa(o,e){return o.map(r=>Ys(r,e))}function lr(o){return Object.keys(o)}function Zs(o,e){let r={};return e.forEach(t=>{r[t]=o[t]}),r}function Ma(o){return e=>Zs(e,o)}function Qs(o,e){let r={};return lr(o).forEach(a=>{e.includes(a)||(r[a]=o[a])}),r}function ka(o){return e=>Qs(e,o)}function Ea(o,e){return[()=>e(Ma(lr(o))),()=>e(ka(lr(o)))]}var bo={top:void 0,paths:void 0,folder:void 0,locked:[],temporary:[]};var Na=wa(o=>({...bo,lock:e=>{o({locked:e})},temp:e=>{o({temporary:e})},force:e=>{o({...bo,...e})},update:e=>{o({...e,temporary:[]})}}));var[M,xe]=Ea(bo,Na);var en=l(y(),1);var Ka=l(y(),1);var Ha={dir:{draft:Ra}};async function qa(o,e,r){return{[o]:{...e,folders:await pe.getFolders(e.path,r),files:await pe.getFiles(e.path)}}}async function Va(o,e){return o?await qa("folder",o,e?.path??o.path):e?await qa("top",e,e.path):{}}function Ua(o){return!!o?.folders.find(e=>!!e.draft)}function $s(o){return!!o.relative}function _a(o,e){return o&&{...o,folders:[...o.folders,e]}}function za(o,e){return o.map(r=>r.path===e.path?{...r,draft:!0}:r)}function Wa(o){return{...o,folders:o.folders.map(e=>({...e,draft:!1})),files:o.files.map(e=>({...e,draft:!1}))}}function Ga(o,e){return!e||!o?e:$s(o)?{...e,folders:za(e.folders,o)}:{...e,files:za(e.files,o)}}function ja(o,e){let r=Ha.dir.draft();if(o&&!Ua(o))return{folder:_a(o,r)};if(e&&!Ua(e))return{top:_a(e,r)}}function Xa(o,e,r){if(e)return{folder:Ga(o,Wa(e))};if(r)return{top:Ga(o,Wa(r))}}function Ya(){let{folder:o,top:e}=M(),{update:r}=xe();return(0,Ka.useCallback)(()=>{if(r){let a=ja(o,e);a&&r(a)}},[o,e,r])}var Za=l(y(),1);function Qa(){let{folder:o,top:e}=M(),{update:r}=xe();return(0,Za.useCallback)(a=>{if(r){let n=Xa(a,o,e);n&&r(n)}},[o,e,r])}var $a=l(y(),1);function Ja(){let{top:o,folder:e}=M(),{update:r}=xe();return(0,$a.useCallback)(()=>{r&&Va(e,o).then(r)},[e,o,r])}function U(){let{folder:o,top:e,temporary:r}=M(),t=Ja(),a=Ya(),n=Qa(),f=o??e;return{data:(0,en.useMemo)(()=>f&&{...f,files:[...f.files,...r.filter(c=>!f.files.find(i=>i.path!==c.path))].sort((c,i)=>i.filename.localeCompare(c.filename))},[r,f]),reload:t,create:a,edit:n}}function Ke(){let{data:o,reload:e}=U(),{lock:r,temp:t}=xe(),a=(0,Te.useCallback)(async(c,i)=>{let u=i.split(/(\/|\\)/)[0];o&&c.draft&&(u&&u!==c.text&&(c.text?await pe.rename(o.path,c.text,u):await pe.createFolder(o.path,u)),e?.())},[o,e]),n=(0,Te.useCallback)(async(c,i)=>{c.includes(i)||(r(c),await pe.moveFiles(c,i),e?.(),r([]))},[e,r]),f=(0,Te.useCallback)(async(c,i)=>{let u=Aa(c,i);t(u),r(u.map(p=>p.path)),await pe.uploadFiles(c,i),e?.(),r([])},[r,t,e]),s=(0,Te.useCallback)(async c=>{r(c),await pe.removeFiles(c),e?.(),r([])},[r,e]);return(0,Te.useMemo)(()=>({rename:a,move:n,upload:f,remove:s}),[a,n,f,s])}var J=l(d(),1);function Js({list:o}){let{data:e}=U(),r=(0,Ye.useCallback)(()=>{let t=o.filter(f=>e?.folders.find(s=>s.path===f)),a=o.filter(f=>e?.files.find(s=>s.path===f)),n="";return a.length>0&&t.length>0?n=`${a.length} ${a.length===1?"file":"files"} and ${t.length} ${t.length===1?"directory":"directories"}`:a.length>0?n=a.length===1?a[0]:`${a.length} files`:t.length>0&&(n=t.length===1?t[0]:`${t.length} directories`),n},[o,e]);return(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)("p",{children:["Are you sure to remove ",r(),"?"]})})}function ec({list:o,onRemove:e}){let{hide:r}=ie(),{remove:t}=Ke(),a=(0,Ye.useCallback)(()=>{t(o),r(),e?.()},[o,r,t,e]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(le,{style:{marginRight:"auto"},variant:"subtle",onClick:r,children:"Cancel"}),(0,J.jsx)(le,{color:"red",onClick:a,children:"Remove"})]})}function on(o,e){let{show:r}=ie(),t=(0,Ye.useCallback)(()=>{r("Removing files",(0,J.jsx)(Js,{list:o}),(0,J.jsx)(ec,{list:o,onRemove:e}))},[r,o,e]);return(0,Ye.useMemo)(()=>({confirm:t}),[t])}var Ze=l(d(),1);function Qe({files:o,size:e,onRemove:r}){let{confirm:t}=on(o,r);return(0,Ze.jsx)(Ze.Fragment,{children:(0,Ze.jsx)(fe,{color:"red",size:e??"lg",variant:"subtle",onClick:t,children:(0,Ze.jsx)(ht,{size:20})})})}var Le=l(d(),1);function rn({selection:o}){return!o||o.selected.length<1?(0,Le.jsx)(Le.Fragment,{}):(0,Le.jsx)(Le.Fragment,{children:(0,Le.jsx)(Qe,{files:o.selected,onRemove:o.reset})})}var tn=l(ge(),1);var cr="200px";var z={faded:"gnp3A",link:"HN-kO",hideOnHover:"_-1MGa",showOnHover:"kxecj",pullRight:"w5N5L",actions:"_70m97",icon:"_3ydyO",fixed:"jrqHC"};var St=l(d(),1);function Dt({visible:o,actions:e}){return!o||!e?null:(0,St.jsx)(w.Td,{className:(0,tn.default)(z.pullRight,z.showOnHover),w:cr,children:(0,St.jsx)("div",{className:z.actions,children:e})})}var nn=l(ge(),1);var an={link:"_7dNV8"};var yt=l(d(),1);function fn({to:o,children:e,className:r}){return(0,yt.jsx)(Be,{c:"primary.1",className:(0,nn.default)(an.link,r),component:Ge,to:o,children:(0,yt.jsx)("span",{children:e})})}var Po=l(y(),1),sn=l(d(),1);function ln({value:o,onSave:e}){let[r,t]=(0,Po.useState)(o??""),[a,n]=(0,Po.useState)(!1),f=i=>{t(i.currentTarget.value)},s=i=>{i.key==="Enter"&&c()},c=(0,Po.useCallback)(()=>{n(!0),e(r)},[r,e]);return(0,sn.jsx)(Ba,{autoFocus:!0,disabled:a,value:r,onChange:f,onKeyUp:s})}var Oo=l(d(),1);function vt({visible:o,draft:e,text:r,link:t,onSave:a}){return o?(0,Oo.jsx)(w.Td,{maw:"100%",children:e&&a?(0,Oo.jsx)(ln,{value:r,onSave:a}):t?(0,Oo.jsx)(fn,{className:z.link,to:t,children:r}):(0,Oo.jsx)("div",{className:z.file,children:r})}):null}var cn=l(ge(),1);var Ft=l(d(),1);function bt({visible:o,icon:e}){return o?(0,Ft.jsx)(w.Td,{className:(0,cn.default)(z.icon,z.faded),w:"40px",children:(0,Ft.jsx)(ba,{children:e})}):null}var dn=l(ge(),1);var un=l(d(),1);function Pt({visible:o,info:e,actions:r}){return o?(0,un.jsx)(w.Td,{className:(0,dn.default)(z.faded,r&&z.hideOnHover),w:cr,children:e}):null}var pn=l(y(),1);var Ot=l(d(),1);function Bt({visible:o,checked:e,onToggle:r}){let t=(0,pn.useCallback)(a=>{r?.(a.currentTarget.checked)},[r]);return o?(0,Ot.jsx)(w.Td,{className:z.fixed,w:"40px",children:(0,Ot.jsx)(fr,{checked:e,onChange:t})}):null}var se=l(d(),1);function dr({item:o,checked:e,onToggle:r,onSave:t}){return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(Bt,{checked:e,visible:o.selectable,onToggle:r}),(0,se.jsx)(bt,{visible:o.showIcon,...o}),(0,se.jsx)(vt,{visible:!0,...o,onSave:t}),(0,se.jsx)(Pt,{visible:!o.draft,...o,actions:!!o.actions}),(0,se.jsx)(Dt,{visible:!o.draft,...o})]})}var mn=l(y(),1),ur=(0,mn.createContext)({dragDropManager:void 0});var rf=l(d(),1);function ee(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var In=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wt=function(){return Math.random().toString(36).substring(7).split("").join(".")},xn={INIT:"@@redux/INIT"+wt(),REPLACE:"@@redux/REPLACE"+wt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wt()}};function rc(o){if(typeof o!="object"||o===null)return!1;for(var e=o;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(o)===e}function Tt(o,e,r){var t;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ee(1));return r(Tt)(o,e)}if(typeof o!="function")throw new Error(ee(2));var a=o,n=e,f=[],s=f,c=!1;function i(){s===f&&(s=f.slice())}function u(){if(c)throw new Error(ee(3));return n}function p(S){if(typeof S!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));var P=!0;return i(),s.push(S),function(){if(P){if(c)throw new Error(ee(6));P=!1,i();var b=s.indexOf(S);s.splice(b,1),f=null}}}function I(S){if(!rc(S))throw new Error(ee(7));if(typeof S.type>"u")throw new Error(ee(8));if(c)throw new Error(ee(9));try{c=!0,n=a(n,S)}finally{c=!1}for(var P=f=s,h=0;h<P.length;h++){var b=P[h];b()}return S}function D(S){if(typeof S!="function")throw new Error(ee(10));a=S,I({type:xn.REPLACE})}function g(){var S,P=p;return S={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(ee(11));function C(){b.next&&b.next(u())}C();var B=P(C);return{unsubscribe:B}}},S[In]=function(){return this},S}return I({type:xn.INIT}),t={dispatch:I,subscribe:p,getState:u,replaceReducer:D},t[In]=g,t}function x(o,e,...r){if(tc()&&e===void 0)throw new Error("invariant requires an error message argument");if(!o){let t;if(e===void 0)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;t=new Error(e.replace(/%s/g,function(){return r[a++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function tc(){return typeof process<"u"&&!0}function gn(o,e,r){return e.split(".").reduce((t,a)=>t&&t[a]?t[a]:r||null,o)}function hn(o,e){return o.filter(r=>r!==e)}function ir(o){return typeof o=="object"}function Cn(o,e){let r=new Map,t=n=>{r.set(n,r.has(n)?r.get(n)+1:1)};o.forEach(t),e.forEach(t);let a=[];return r.forEach((n,f)=>{n===1&&a.push(f)}),a}function Sn(o,e){return o.filter(r=>e.indexOf(r)>-1)}var $e="dnd-core/INIT_COORDS",he="dnd-core/BEGIN_DRAG",Je="dnd-core/PUBLISH_DRAG_SOURCE",Ce="dnd-core/HOVER",Se="dnd-core/DROP",De="dnd-core/END_DRAG";function Lt(o,e){return{type:$e,payload:{sourceClientOffset:e||null,clientOffset:o||null}}}var ac={type:$e,payload:{clientOffset:null,sourceClientOffset:null}};function Dn(o){return function(r=[],t={publishSource:!0}){let{publishSource:a=!0,clientOffset:n,getSourceClientOffset:f}=t,s=o.getMonitor(),c=o.getRegistry();o.dispatch(Lt(n)),nc(r,s,c);let i=sc(r,s);if(i==null){o.dispatch(ac);return}let u=null;if(n){if(!f)throw new Error("getSourceClientOffset must be defined");fc(f),u=f(i)}o.dispatch(Lt(n,u));let I=c.getSource(i).beginDrag(s,i);if(I==null)return;lc(I),c.pinSource(i);let D=c.getSourceType(i);return{type:he,payload:{itemType:D,item:I,sourceId:i,clientOffset:n||null,sourceClientOffset:u||null,isSourcePublic:!!a}}}}function nc(o,e,r){x(!e.isDragging(),"Cannot call beginDrag while dragging."),o.forEach(function(t){x(r.getSource(t),"Expected sourceIds to be registered.")})}function fc(o){x(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function lc(o){x(ir(o),"Item must be an object.")}function sc(o,e){let r=null;for(let t=o.length-1;t>=0;t--)if(e.canDragSource(o[t])){r=o[t];break}return r}function cc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function dc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){cc(o,a,r[a])})}return o}function yn(o){return function(r={}){let t=o.getMonitor(),a=o.getRegistry();uc(t),mc(t).forEach((f,s)=>{let c=ic(f,s,a,t),i={type:Se,payload:{dropResult:dc({},r,c)}};o.dispatch(i)})}}function uc(o){x(o.isDragging(),"Cannot call drop while not dragging."),x(!o.didDrop(),"Cannot call drop twice during one drag operation.")}function ic(o,e,r,t){let a=r.getTarget(o),n=a?a.drop(t,o):void 0;return pc(n),typeof n>"u"&&(n=e===0?{}:t.getDropResult()),n}function pc(o){x(typeof o>"u"||ir(o),"Drop result must either be an object or undefined.")}function mc(o){let e=o.getTargetIds().filter(o.canDropOnTarget,o);return e.reverse(),e}function vn(o){return function(){let r=o.getMonitor(),t=o.getRegistry();Ic(r);let a=r.getSourceId();return a!=null&&(t.getSource(a,!0).endDrag(r,a),t.unpinSource()),{type:De}}}function Ic(o){x(o.isDragging(),"Cannot call endDrag while not dragging.")}function Bo(o,e){return e===null?o===null:Array.isArray(o)?o.some(r=>r===e):o===e}function Fn(o){return function(r,{clientOffset:t}={}){xc(r);let a=r.slice(0),n=o.getMonitor(),f=o.getRegistry(),s=n.getItemType();return hc(a,f,s),gc(a,n,f),Cc(a,n,f),{type:Ce,payload:{targetIds:a,clientOffset:t||null}}}}function xc(o){x(Array.isArray(o),"Expected targetIds to be an array.")}function gc(o,e,r){x(e.isDragging(),"Cannot call hover while not dragging."),x(!e.didDrop(),"Cannot call hover after drop.");for(let t=0;t<o.length;t++){let a=o[t];x(o.lastIndexOf(a)===t,"Expected targetIds to be unique in the passed array.");let n=r.getTarget(a);x(n,"Expected targetIds to be registered.")}}function hc(o,e,r){for(let t=o.length-1;t>=0;t--){let a=o[t],n=e.getTargetType(a);Bo(n,r)||o.splice(t,1)}}function Cc(o,e,r){o.forEach(function(t){r.getTarget(t).hover(e,t)})}function bn(o){return function(){if(o.getMonitor().isDragging())return{type:Je}}}function Pn(o){return{beginDrag:Dn(o),publishDragSource:bn(o),hover:Fn(o),drop:yn(o),endDrag:vn(o)}}var pr=class{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let e=this,{dispatch:r}=this.store;function t(n){return(...f)=>{let s=n.apply(e,f);typeof s<"u"&&r(s)}}let a=Pn(this);return Object.keys(a).reduce((n,f)=>{let s=a[f];return n[f]=t(s),n},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{let t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}};function Sc(o,e){return{x:o.x+e.x,y:o.y+e.y}}function On(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Bn(o){let{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:t}=o;return!e||!r||!t?null:On(Sc(e,t),r)}function wn(o){let{clientOffset:e,initialClientOffset:r}=o;return!e||!r?null:On(e,r)}var eo=[],mr=[];eo.__IS_NONE__=!0;mr.__IS_ALL__=!0;function Tn(o,e){return o===eo?!1:o===mr||typeof e>"u"?!0:Sn(e,o).length>0}var Ir=class{subscribeToStateChange(e,r={}){let{handlerIds:t}=r;x(typeof e=="function","listener must be a function."),x(typeof t>"u"||Array.isArray(t),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId,n=()=>{let f=this.store.getState(),s=f.stateId;try{s===a||s===a+1&&!Tn(f.dirtyHandlerIds,t)||e()}finally{a=s}};return this.store.subscribe(n)}subscribeToOffsetChange(e){x(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset,t=()=>{let a=this.store.getState().dragOffset;a!==r&&(r=a,e())};return this.store.subscribe(t)}canDragSource(e){if(!e)return!1;let r=this.registry.getSource(e);return x(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let r=this.registry.getTarget(e);if(x(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let t=this.registry.getTargetType(e),a=this.getItemType();return Bo(t,a)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;let r=this.registry.getSource(e,!0);if(x(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;let t=this.registry.getSourceType(e),a=this.getItemType();return t!==a?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;let{shallow:t}=r;if(!this.isDragging())return!1;let a=this.registry.getTargetType(e),n=this.getItemType();if(n&&!Bo(a,n))return!1;let f=this.getTargetIds();if(!f.length)return!1;let s=f.indexOf(e);return t?s===f.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Bn(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return wn(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}};var Ln=typeof globalThis<"u"?globalThis:self,Rn=Ln.MutationObserver||Ln.WebKitMutationObserver;function Rt(o){return function(){let r=setTimeout(a,0),t=setInterval(a,50);function a(){clearTimeout(r),clearInterval(t),o()}}}function Dc(o){let e=1,r=new Rn(o),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){e=-e,t.data=e}}var An=typeof Rn=="function"?Dc:Rt;var xr=class{enqueueTask(e){let{queue:r,requestFlush:t}=this;r.length||(t(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let t=0,a=e.length-this.index;t<a;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=An(this.flush),this.requestErrorThrow=Rt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var gr=class{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}};var hr=class{create(e){let r=this.freeTasks,t=r.length?r.pop():new gr(this.onError,a=>r[r.length]=a);return t.task=e,t}constructor(e){this.onError=e,this.freeTasks=[]}};var Mn=new xr,yc=new hr(Mn.registerPendingError);function kn(o){Mn.enqueueTask(yc.create(o))}var wo="dnd-core/ADD_SOURCE",To="dnd-core/ADD_TARGET",Lo="dnd-core/REMOVE_SOURCE",Re="dnd-core/REMOVE_TARGET";function En(o){return{type:wo,payload:{sourceId:o}}}function Nn(o){return{type:To,payload:{targetId:o}}}function Hn(o){return{type:Lo,payload:{sourceId:o}}}function qn(o){return{type:Re,payload:{targetId:o}}}function Un(o){x(typeof o.canDrag=="function","Expected canDrag to be a function."),x(typeof o.beginDrag=="function","Expected beginDrag to be a function."),x(typeof o.endDrag=="function","Expected endDrag to be a function.")}function _n(o){x(typeof o.canDrop=="function","Expected canDrop to be a function."),x(typeof o.hover=="function","Expected hover to be a function."),x(typeof o.drop=="function","Expected beginDrag to be a function.")}function Cr(o,e){if(e&&Array.isArray(o)){o.forEach(r=>Cr(r,!1));return}x(typeof o=="string"||typeof o=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var K;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(K||(K={}));var vc=0;function zn(){return vc++}function Fc(o){let e=zn().toString();switch(o){case K.SOURCE:return`S${e}`;case K.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${o}`)}}function Wn(o){switch(o[0]){case"S":return K.SOURCE;case"T":return K.TARGET;default:throw new Error(`Cannot parse handler ID: ${o}`)}}function Gn(o,e){let r=o.entries(),t=!1;do{let{done:a,value:[,n]}=r.next();if(n===e)return!0;t=!!a}while(!t);return!1}var Sr=class{addSource(e,r){Cr(e),Un(r);let t=this.addHandler(K.SOURCE,e,r);return this.store.dispatch(En(t)),t}addTarget(e,r){Cr(e,!0),_n(r);let t=this.addHandler(K.TARGET,e,r);return this.store.dispatch(Nn(t)),t}containsHandler(e){return Gn(this.dragSources,e)||Gn(this.dropTargets,e)}getSource(e,r=!1){return x(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return x(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return x(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return x(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Wn(e)===K.SOURCE}isTargetId(e){return Wn(e)===K.TARGET}removeSource(e){x(this.getSource(e),"Expected an existing source."),this.store.dispatch(Hn(e)),kn(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){x(this.getTarget(e),"Expected an existing target."),this.store.dispatch(qn(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let r=this.getSource(e);x(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){x(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,t){let a=Fc(e);return this.types.set(a,r),e===K.SOURCE?this.dragSources.set(a,t):e===K.TARGET&&this.dropTargets.set(a,t),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}};var bc=(o,e)=>o===e;function Vn(o,e){return!o&&!e?!0:!o||!e?!1:o.x===e.x&&o.y===e.y}function jn(o,e,r=bc){if(o.length!==e.length)return!1;for(let t=0;t<o.length;++t)if(!r(o[t],e[t]))return!1;return!0}function Xn(o=eo,e){switch(e.type){case Ce:break;case wo:case To:case Re:case Lo:return eo;case he:case Je:case De:case Se:default:return mr}let{targetIds:r=[],prevTargetIds:t=[]}=e.payload,a=Cn(r,t);if(!(a.length>0||!jn(r,t)))return eo;let f=t[t.length-1],s=r[r.length-1];return f!==s&&(f&&a.push(f),s&&a.push(s)),a}function Pc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Oc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Pc(o,a,r[a])})}return o}var Kn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Yn(o=Kn,e){let{payload:r}=e;switch(e.type){case $e:case he:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ce:return Vn(o.clientOffset,r.clientOffset)?o:Oc({},o,{clientOffset:r.clientOffset});case De:case Se:return Kn;default:return o}}function Bc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function oo(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Bc(o,a,r[a])})}return o}var wc={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Zn(o=wc,e){let{payload:r}=e;switch(e.type){case he:return oo({},o,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Je:return oo({},o,{isSourcePublic:!0});case Ce:return oo({},o,{targetIds:r.targetIds});case Re:return o.targetIds.indexOf(r.targetId)===-1?o:oo({},o,{targetIds:hn(o.targetIds,r.targetId)});case Se:return oo({},o,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case De:return oo({},o,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return o}}function Qn(o=0,e){switch(e.type){case wo:case To:return o+1;case Lo:case Re:return o-1;default:return o}}function $n(o=0){return o+1}function Tc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Lc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Tc(o,a,r[a])})}return o}function Jn(o={},e){return{dirtyHandlerIds:Xn(o.dirtyHandlerIds,{type:e.type,payload:Lc({},e.payload,{prevTargetIds:gn(o,"dragOperation.targetIds",[])})}),dragOffset:Yn(o.dragOffset,e),refCount:Qn(o.refCount,e),dragOperation:Zn(o.dragOperation,e),stateId:$n(o.stateId)}}function ef(o,e=void 0,r={},t=!1){let a=Rc(t),n=new Ir(a,new Sr(a)),f=new pr(a,n),s=o(f,e,r);return f.receiveBackend(s),f}function Rc(o){let e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Tt(Jn,o&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var yr=l(y(),1);function Ac(o,e){if(o==null)return{};var r=Mc(o,e),t,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);for(a=0;a<n.length;a++)t=n[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(o,t)&&(r[t]=o[t])}return r}function Mc(o,e){if(o==null)return{};var r={},t=Object.keys(o),a,n;for(n=0;n<t.length;n++)a=t[n],!(e.indexOf(a)>=0)&&(r[a]=o[a]);return r}var of=0,Dr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),tf=(0,yr.memo)(function(e){var{children:r}=e,t=Ac(e,["children"]);let[a,n]=kc(t);return(0,yr.useEffect)(()=>{if(n){let f=af();return++of,()=>{--of===0&&(f[Dr]=null)}}},[]),(0,rf.jsx)(ur.Provider,{value:a,children:r})});function kc(o){if("manager"in o)return[{dragDropManager:o.manager},!1];let e=Ec(o.backend,o.context,o.options,o.debugMode),r=!o.context;return[e,r]}function Ec(o,e=af(),r,t){let a=e;return a[Dr]||(a[Dr]={dragDropManager:ef(o,e,r,t)}),a[Dr]}function af(){return typeof globalThis<"u"?globalThis:window}var lf=l(ff(),1),Fr=l(y(),1);var vr=l(y(),1),Y=typeof window<"u"?vr.useLayoutEffect:vr.useEffect;function sf(o,e,r){let[t,a]=(0,Fr.useState)(()=>e(o)),n=(0,Fr.useCallback)(()=>{let f=e(o);(0,lf.default)(t,f)||(a(f),r&&r())},[t,o,r]);return Y(n),[t,n]}function cf(o,e,r){let[t,a]=sf(o,e,r);return Y(function(){let f=o.getHandlerId();if(f!=null)return o.subscribeToStateChange(a,{handlerIds:[f]})},[o,a]),t}function br(o,e,r){return cf(e,o||(()=>({})),()=>r.reconnect())}var df=l(y(),1);function Pr(o,e){let r=[...e||[]];return e==null&&typeof o!="function"&&r.push(o),(0,df.useMemo)(()=>typeof o=="function"?o():o,r)}var At=l(y(),1);function uf(o){return(0,At.useMemo)(()=>o.hooks.dragSource(),[o])}function pf(o){return(0,At.useMemo)(()=>o.hooks.dragPreview(),[o])}var hf=l(y(),1);var Mt=!1,kt=!1,Or=class{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){x(!Mt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Mt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Mt=!1}}isDragging(){if(!this.sourceId)return!1;x(!kt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return kt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{kt=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}};var Et=!1,Br=class{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;x(!Et,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Et=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Et=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}};function mf(o,e,r){let t=r.getRegistry(),a=t.addTarget(o,e);return[a,()=>t.removeTarget(a)]}function If(o,e,r){let t=r.getRegistry(),a=t.addSource(o,e);return[a,()=>t.removeSource(a)]}function Ro(o,e,r,t){let a=r?r.call(t,o,e):void 0;if(a!==void 0)return!!a;if(o===e)return!0;if(typeof o!="object"||!o||typeof e!="object"||!e)return!1;let n=Object.keys(o),f=Object.keys(e);if(n.length!==f.length)return!1;let s=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<n.length;c++){let i=n[c];if(!s(i))return!1;let u=o[i],p=e[i];if(a=r?r.call(t,u,p,i):void 0,a===!1||a===void 0&&u!==p)return!1}return!0}function Ao(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}var Mo=l(y(),1);function Nc(o){if(typeof o.type=="string")return;let e=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Hc(o){return(e=null,r=null)=>{if(!(0,Mo.isValidElement)(e)){let n=e;return o(n,r),n}let t=e;return Nc(t),qc(t,r?n=>o(n,r):o)}}function wr(o){let e={};return Object.keys(o).forEach(r=>{let t=o[r];if(r.endsWith("Ref"))e[r]=o[r];else{let a=Hc(t);e[r]=()=>a}}),e}function xf(o,e){typeof o=="function"?o(e):o.current=e}function qc(o,e){let r=o.ref;return x(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,Mo.cloneElement)(o,{ref:t=>{xf(r,t),xf(e,t)}}):(0,Mo.cloneElement)(o,{ref:e})}var Tr=class{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){let r=this.dragPreview,t=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ro(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ro(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=wr({dragSource:(r,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ao(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ao(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}};var Lr=class{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ro(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=wr({dropTarget:(r,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ao(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}};var gf=l(y(),1);function oe(){let{dragDropManager:o}=(0,gf.useContext)(ur);return x(o!=null,"Expected drag drop context"),o}function Cf(o,e){let r=oe(),t=(0,hf.useMemo)(()=>new Tr(r.getBackend()),[r]);return Y(()=>(t.dragSourceOptions=o||null,t.reconnect(),()=>t.disconnectDragSource()),[t,o]),Y(()=>(t.dragPreviewOptions=e||null,t.reconnect(),()=>t.disconnectDragPreview()),[t,e]),t}var Sf=l(y(),1);function Df(){let o=oe();return(0,Sf.useMemo)(()=>new Or(o),[o])}var Ar=l(y(),1);var Rr=class{beginDrag(){let e=this.spec,r=this.monitor,t=null;return typeof e.item=="object"?t=e.item:typeof e.item=="function"?t=e.item(r):t={},t??null}canDrag(){let e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){let t=this.spec,a=this.monitor,{isDragging:n}=t;return n?n(a):r===e.getSourceId()}endDrag(){let e=this.spec,r=this.monitor,t=this.connector,{end:a}=e;a&&a(r.getItem(),r),t.reconnect()}constructor(e,r,t){this.spec=e,this.monitor=r,this.connector=t}};function yf(o,e,r){let t=(0,Ar.useMemo)(()=>new Rr(o,e,r),[e,r]);return(0,Ar.useEffect)(()=>{t.spec=o},[o]),t}var vf=l(y(),1);function Ff(o){return(0,vf.useMemo)(()=>{let e=o.type;return x(e!=null,"spec.type must be defined"),e},[o])}function bf(o,e,r){let t=oe(),a=yf(o,e,r),n=Ff(o);Y(function(){if(n!=null){let[s,c]=If(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c}},[t,e,r,a,n])}function Pf(o,e){let r=Pr(o,e);x(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let t=Df(),a=Cf(r.options,r.previewOptions);return bf(r,t,a),[br(r.collect,t,a),uf(a),pf(a)]}var Of=l(y(),1);function Bf(o){return(0,Of.useMemo)(()=>o.hooks.dropTarget(),[o])}var wf=l(y(),1);function Tf(o){let e=oe(),r=(0,wf.useMemo)(()=>new Lr(e.getBackend()),[e]);return Y(()=>(r.dropTargetOptions=o||null,r.reconnect(),()=>r.disconnectDropTarget()),[o]),r}var Lf=l(y(),1);function Rf(){let o=oe();return(0,Lf.useMemo)(()=>new Br(o),[o])}var Af=l(y(),1);function Mf(o){let{accept:e}=o;return(0,Af.useMemo)(()=>(x(o.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}var kr=l(y(),1);var Mr=class{canDrop(){let e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){let e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){let e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}};function kf(o,e){let r=(0,kr.useMemo)(()=>new Mr(o,e),[e]);return(0,kr.useEffect)(()=>{r.spec=o},[o]),r}function Ef(o,e,r){let t=oe(),a=kf(o,e),n=Mf(o);Y(function(){let[s,c]=mf(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c},[t,e,a,r,n.map(f=>f.toString()).join("|")])}function Nf(o,e){let r=Pr(o,e),t=Rf(),a=Tf(r.options);return Ef(r,t,a),[br(r.collect,t,a),Bf(a)]}function Nt(o){let e=null;return()=>(e==null&&(e=o()),e)}function Hf(o,e){return o.filter(r=>r!==e)}function qf(o,e){let r=new Set,t=n=>r.add(n);o.forEach(t),e.forEach(t);let a=[];return r.forEach(n=>a.push(n)),a}var Er=class{enter(e){let r=this.entered.length,t=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=qf(this.entered.filter(t),[e]),r===0&&this.entered.length>0}leave(e){let r=this.entered.length;return this.entered=Hf(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}};var Nr=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){let r={};Object.keys(this.config.exposeProperties).forEach(t=>{let a=this.config.exposeProperties[t];a!=null&&(r[t]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}};var ko={};Ks(ko,{FILE:()=>Ht,HTML:()=>_t,TEXT:()=>Ut,URL:()=>qt});var Ht="__NATIVE_FILE__",qt="__NATIVE_URL__",Ut="__NATIVE_TEXT__",_t="__NATIVE_HTML__";function Hr(o,e,r){let t=e.reduce((a,n)=>a||o.getData(n),"");return t??r}var qr={[Ht]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[_t]:{exposeProperties:{html:(o,e)=>Hr(o,e,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[qt]:{exposeProperties:{urls:(o,e)=>Hr(o,e,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[Ut]:{exposeProperties:{text:(o,e)=>Hr(o,e,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function Uf(o,e){let r=qr[o];if(!r)throw new Error(`native type ${o} has no configuration`);let t=new Nr(r);return t.loadDataTransfer(e),t}function Ur(o){if(!o)return null;let e=Array.prototype.slice.call(o.types||[]);return Object.keys(qr).filter(r=>{let t=qr[r];return t?.matchesTypes?t.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}var _f=Nt(()=>/firefox/i.test(navigator.userAgent)),zt=Nt(()=>Boolean(window.safari));var Eo=class{interpolate(e){let{xs:r,ys:t,c1s:a,c2s:n,c3s:f}=this,s=r.length-1;if(e===r[s])return t[s];let c=0,i=f.length-1,u;for(;c<=i;){u=Math.floor(.5*(c+i));let D=r[u];if(D<e)c=u+1;else if(D>e)i=u-1;else return t[u]}s=Math.max(0,i);let p=e-r[s],I=p*p;return t[s]+a[s]*p+n[s]*I+f[s]*p*I}constructor(e,r){let{length:t}=e,a=[];for(let g=0;g<t;g++)a.push(g);a.sort((g,S)=>e[g]<e[S]?-1:1);let n=[],f=[],s=[],c,i;for(let g=0;g<t-1;g++)c=e[g+1]-e[g],i=r[g+1]-r[g],f.push(c),n.push(i),s.push(i/c);let u=[s[0]];for(let g=0;g<f.length-1;g++){let S=s[g],P=s[g+1];if(S*P<=0)u.push(0);else{c=f[g];let h=f[g+1],b=c+h;u.push(3*b/((b+h)/S+(b+c)/P))}}u.push(s[s.length-1]);let p=[],I=[],D;for(let g=0;g<u.length-1;g++){D=s[g];let S=u[g],P=1/f[g],h=S+u[g+1]-D-D;p.push((D-S-h)*P),I.push(h*P*P)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=p,this.c3s=I}};var Uc=1;function Wt(o){let e=o.nodeType===Uc?o:o.parentElement;if(!e)return null;let{top:r,left:t}=e.getBoundingClientRect();return{x:t,y:r}}function No(o){return{x:o.clientX,y:o.clientY}}function _c(o){var e;return o.nodeName==="IMG"&&(_f()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(o)))}function zc(o,e,r,t){let a=o?e.width:r,n=o?e.height:t;return zt()&&o&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}function zf(o,e,r,t,a){let n=_c(e),s=Wt(n?o:e),c={x:r.x-s.x,y:r.y-s.y},{offsetWidth:i,offsetHeight:u}=o,{anchorX:p,anchorY:I}=t,{dragPreviewWidth:D,dragPreviewHeight:g}=zc(n,e,i,u),S=()=>{let R=new Eo([0,.5,1],[c.y,c.y/u*g,c.y+g-u]).interpolate(I);return zt()&&n&&(R+=(window.devicePixelRatio-1)*g),R},P=()=>new Eo([0,.5,1],[c.x,c.x/i*D,c.x+D-i]).interpolate(p),{offsetX:h,offsetY:b}=a,C=h===0||h,B=b===0||b;return{x:C?h:P(),y:B?b:S()}}var _r=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function Wc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Wf(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Wc(o,a,r[a])})}return o}var zr=class{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,t){return this.sourcePreviewNodeOptions.set(e,t),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,t){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,t);let a=f=>this.handleDragStart(f,e),n=f=>this.handleSelectStart(f);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",n),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",n),r.setAttribute("draggable","false")}}connectDropTarget(e,r){let t=f=>this.handleDragEnter(f,e),a=f=>this.handleDragOver(f,e),n=f=>this.handleDrop(f,e);return r.addEventListener("dragenter",t),r.addEventListener("dragover",a),r.addEventListener("drop",n),()=>{r.removeEventListener("dragenter",t),r.removeEventListener("dragover",a),r.removeEventListener("drop",n)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Wf({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Wf({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(ko).some(r=>ko[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Uf(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;let r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,t){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{let n=this.sourceNodes.get(a);return n&&Wt(n)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>Boolean(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{let a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;let{dragStartSourceIds:n}=this;this.dragStartSourceIds=null;let f=No(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});let{dataTransfer:s}=a,c=Ur(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let u=this.monitor.getSourceId(),p=this.sourceNodes.get(u),I=this.sourcePreviewNodes.get(u)||p;if(I){let{anchorX:D,anchorY:g,offsetX:S,offsetY:P}=this.getCurrentSourcePreviewNodeOptions(),C=zf(p,I,f,{anchorX:D,anchorY:g},{offsetX:S,offsetY:P});s.setDragImage(I,C.x,C.y)}}try{s?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);let{captureDraggingState:i}=this.getCurrentSourcePreviewNodeOptions();i?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;let{dataTransfer:s}=a,c=Ur(s);c&&this.beginDragNativeItem(c,s)},this.handleTopDragEnter=a=>{let{dragEnterTargetIds:n}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,n.length>0&&this.actions.hover(n,{clientOffset:No(a)}),n.some(s=>this.monitor.canDropOnTarget(s))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{let{dragOverTargetIds:n}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=No(a),this.scheduleHover(n),(n||[]).some(s=>this.monitor.canDropOnTarget(s))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var n;a.preventDefault(),(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}else Ur(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{let{dropTargetIds:n}=this;this.dropTargetIds=[],this.actions.hover(n,{clientOffset:No(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{let n=a.target;typeof n.dragDrop=="function"&&(n.tagName==="INPUT"||n.tagName==="SELECT"||n.tagName==="TEXTAREA"||n.isContentEditable||(a.preventDefault(),n.dragDrop()))},this.options=new _r(r,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Er(this.isNodeInDocument)}};var Gf=function(e,r,t){return new zr(e,r,t)};function Vf(o){let{selectable:e,draggable:r,locked:t}=o??{},a=o?.showIcons===void 0?!0:o.showIcons;return{draggable:!!r,selectable:!!e,locked:t??[],showIcons:a}}var Ho=l(y(),1);function jf(o,e,r,t){let{isSelected:a,onSelect:n}=e??{},f=(0,Ho.useCallback)(u=>()=>{u&&n?.(u)},[n]),s=(0,Ho.useCallback)(()=>{n?.(o.filter(u=>!!u.path).map(u=>u.path??""))},[n,o]),c=(0,Ho.useCallback)(u=>p=>{r?.(u,p)},[r]),i=(0,Ho.useCallback)((u,p)=>{t?.(u,p)},[t]);return{change:c,drop:i,isSelected:a,select:f,selectAll:s}}var Zf=l(ge(),1);var Xf=l(y(),1);function Gc(o){return o.map(e=>({path:e}))}function Kf(o,e,r,t){let a=(0,Xf.useRef)(null),[{isDragging:n},f]=Pf(()=>({type:o,item:()=>r?.selected&&r?.selected?.length>0?Gc(r.selected):[e],canDrag:()=>!!e.drag,collect:u=>({isDragging:!!u.isDragging()})}),[r]),[{isOver:s,canDrop:c},i]=Nf(()=>({accept:o,canDrop:u=>!!e.drop&&!u.find(p=>p.path===e.path),drop:u=>{e.path&&t?.(u.map(p=>p.path??""),e.path)},collect:u=>({isOver:!!u.isOver(),canDrop:!!u.canDrop()})}));return i(f(a)),{ref:a,isDragging:n,isOver:c&&s}}function Yf(o){return{path:o.path,drag:!o.draft,drop:o.acceptDrop}}var ro={drag:"hYjIl",drop:"VSAdj",locked:"uCQKv"};var Gt=l(d(),1);function Qf({selection:o,onDrop:e,...r}){let{item:t}=r,{ref:a,isDragging:n,isOver:f}=Kf("file",Yf(t),o,e),s=r.component;return(0,Gt.jsx)(w.Tr,{ref:a,className:(0,Zf.default)(r.locked&&ro.locked,n&&ro.drag,f&&ro.drop),children:(0,Gt.jsx)(s,{...r})})}var $f=l(ge(),1);var Vt=l(d(),1);function Jf(o){let e=o.component;return(0,Vt.jsx)(w.Tr,{className:(0,$f.default)(o.locked&&ro.locked),style:{userDrag:"none",WebkitUserDrag:"none"},children:(0,Vt.jsx)(e,{...o})})}var jt=l(d(),1);function el({draggable:o,...e}){return o?(0,jt.jsx)(Qf,{...e}):(0,jt.jsx)(Jf,{...e})}var ol={table:"u7447",thead:"VgQ3Y",tr:"WpJ8d",td:"wRrzH",th:"y7gsS"};var Ae=l(d(),1);function rl({data:o,selection:e,component:r,config:t,children:a,handlers:n}){let{selectable:f,draggable:s,locked:c}=t??{},i=t?.showIcons===void 0?!0:t.showIcons;return(0,Ae.jsx)(Sa,{children:(0,Ae.jsxs)(w,{highlightOnHover:!0,classNames:ol,horizontalSpacing:"0",miw:800,verticalSpacing:"sm",children:[a,(0,Ae.jsx)(w.Tbody,{children:o.map(({key:u,...p})=>(0,Ae.jsx)(el,{checked:n.isSelected?.(u),component:r,draggable:s,locked:c?.includes(p.path??""),selection:e,item:{...p,icon:!p.icon&&c?.includes(p.path??"")?(0,Ae.jsx)(ya,{color:"gray",size:"xs"}):p.icon,selectable:f,showIcon:i},onDrop:n.drop,onToggle:n.select?.(p.path),onSave:n.change({key:u,...p})},u))})]})})}var tl=l(ge(),1);var qo={container:"OyLcf",selected:"BcIMD",actions:"_7OG-U"};var Z=l(d(),1);function al({selected:o,selection:e,total:r,selectionActions:t,onSelectAll:a}){return(0,Z.jsx)(w.Thead,{children:(0,Z.jsxs)(w.Tr,{children:[(0,Z.jsx)(w.Th,{w:"40px",children:(0,Z.jsx)(fr,{checked:o&&e.length===r,indeterminate:o&&e.length!==r,onChange:a})}),(0,Z.jsx)(w.Th,{colSpan:5,children:(0,Z.jsxs)("div",{className:qo.container,children:[(0,Z.jsx)("span",{className:(0,tl.default)(qo.selected,e&&e.length<1&&qo.empty),children:o&&(0,Z.jsxs)(Z.Fragment,{children:[e.length," selected"]})}),(0,Z.jsx)("div",{className:qo.actions,children:t})]})})]})})}var Wr=l(d(),1);function Gr({data:o,component:e,config:r,selection:t,selectionActions:a,onChange:n,onDrop:f}){let s=Vf(r),c=jf(o,t,n,f),{selected:i,empty:u}=t??{},p=(0,Wr.jsx)(rl,{component:e,config:s,data:o,handlers:c,selection:t,children:i&&(0,Wr.jsx)(al,{selected:!u,selection:i,selectionActions:a,total:o.length,onSelectAll:c.selectAll})});return s.draggable?(0,Wr.jsx)(tf,{backend:Gf,children:p}):p}var Ee=l(y(),1);var Q=l(y(),1);function nl(o,e,r){return r.indexOf(o)===e}function fl(o){let[e,r]=(0,Q.useState)(o),t=(0,Q.useMemo)(()=>e.length<1,[e]),a=(0,Q.useCallback)(p=>{r(p([...e]))},[e]),n=(0,Q.useCallback)(p=>{a(I=>(I.splice(I.indexOf(p),1),I))},[a]),f=(0,Q.useCallback)(p=>{a(I=>(I.push(p),I))},[a]),s=(0,Q.useCallback)(p=>{e.includes(p[0])?r(e.filter(I=>!p.includes(I))):r([...e,...p].filter(nl))},[e]),c=(0,Q.useCallback)(p=>{Array.isArray(p)?s(p):e.includes(p)?n(p):f(p)},[e,n,f,s]),i=(0,Q.useCallback)(p=>!!e?.includes(p),[e]),u=(0,Q.useCallback)(()=>{r([])},[]);return(0,Q.useMemo)(()=>({selected:e,empty:t,onSelect:c,isSelected:i,reset:u,set:r}),[e,t,c,i,u])}var ll=l(y(),1);var to=l(d(),1);function Vr({item:o,size:e}){let{edit:r}=U(),t=(0,ll.useCallback)(()=>{r(o)},[r,o]);return(0,to.jsx)(to.Fragment,{children:(0,to.jsx)(fe,{size:e??"lg",variant:"subtle",onClick:t,children:(0,to.jsx)(It,{size:20})})})}var Me=l(d(),1);function sl({dir:o}){return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Vr,{item:o,size:"md"}),(0,Me.jsx)(Qe,{files:[o.path],size:"md"})]})}function cl(o,e){return e.path.replace(/[\\]+/g,"/").replace(o.path,"")}var ao=l(d(),1);function dl({file:o,size:e}){let{top:r}=M();return(0,ao.jsx)(ao.Fragment,{children:(0,ao.jsx)(fe,{size:e??"lg",variant:"subtle",onClick:()=>{r&&window.open(`/api/download?hash=${r.hash}&file=${cl(r,o)}`)},children:(0,ao.jsx)(pt,{size:20})})})}var ye=l(d(),1);function ul({file:o}){return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Vr,{item:o,size:"md"}),(0,ye.jsx)(dl,{file:o,size:"md"}),(0,ye.jsx)(Qe,{files:[o.path],size:"md"})]})}var no=l(d(),1);function il({prefix:o,postfix:e,text:r,styles:t}){return(0,no.jsxs)("li",{children:[o&&(0,no.jsx)("span",{className:t.prefix,children:o}),(0,no.jsx)("span",{className:t.text,children:r}),e&&(0,no.jsx)("span",{className:t.postfix,children:e})]})}var Xt={container:"oPZRi",prefix:"KJqnO",postfix:"tk45f"};var jr=l(d(),1),Vc=16;function Xr({items:o}){return(0,jr.jsx)("ul",{className:Xt.container,children:o.map(e=>{if(!e)return null;let r=e.icon;return(0,jr.jsx)(il,{postfix:r&&(0,jr.jsx)(r,{size:Vc}),styles:Xt,text:e.content},e.key)})})}var jc="array",Xc="bit",pl="bits",Kc="byte",ml="bytes",fo="",Yc="exponent",Zc="function",Il="iec",Qc="Invalid number",$c="Invalid rounding method",Kt="jedec",Jc="object",xl=".",ed="round",od="s",rd="si",td="kbit",ad="kB",nd=" ",fd="string",ld="0",Yt={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Uo(o,{bits:e=!1,pad:r=!1,base:t=-1,round:a=2,locale:n=fo,localeOptions:f={},separator:s=fo,spacer:c=nd,symbols:i={},standard:u=fo,output:p=fd,fullform:I=!1,fullforms:D=[],exponent:g=-1,roundingMethod:S=ed,precision:P=0}={}){let h=g,b=Number(o),C=[],B=0,G=fo;u===rd?(t=10,u=Kt):u===Il||u===Kt?t=2:t===2?u=Il:(t=10,u=Kt);let R=t===10?1e3:1024,$=I===!0,V=b<0,j=Math[S];if(typeof o!="bigint"&&isNaN(o))throw new TypeError(Qc);if(typeof j!==Zc)throw new TypeError($c);if(V&&(b=-b),(h===-1||isNaN(h))&&(h=Math.floor(Math.log(b)/Math.log(R)),h<0&&(h=0)),h>8&&(P>0&&(P+=8-h),h=8),p===Yc)return h;if(b===0)C[0]=0,G=C[1]=Yt.symbol[u][e?pl:ml][h];else{B=b/(t===2?Math.pow(2,h*10):Math.pow(1e3,h)),e&&(B=B*8,B>=R&&h<8&&(B=B/R,h++));let A=Math.pow(10,h>0?a:0);C[0]=j(B*A)/A,C[0]===R&&h<8&&g===-1&&(C[0]=1,h++),G=C[1]=t===10&&h===1?e?td:ad:Yt.symbol[u][e?pl:ml][h]}if(V&&(C[0]=-C[0]),P>0&&(C[0]=C[0].toPrecision(P)),C[1]=i[C[1]]||C[1],n===!0?C[0]=C[0].toLocaleString():n.length>0?C[0]=C[0].toLocaleString(n,f):s.length>0&&(C[0]=C[0].toString().replace(xl,s)),r&&Number.isInteger(C[0])===!1&&a>0){let A=s||xl,ne=C[0].toString().split(A),de=ne[1]||fo,T=de.length,H=a-T;C[0]=`${ne[0]}${A}${de.padEnd(T+H,ld)}`}return $&&(C[1]=D[h]?D[h]:Yt.fullform[u][h]+(e?Xc:Kc)+(C[0]===1?fo:od)),p===jc?C:p===Jc?{value:C[0],symbol:C[1],exponent:h,unit:G}:C.join(c)}var gl={container:"VZst4"};var Cl=l(d(),1);function hl({path:o}){let e=o.split(".").pop();return e?(0,Cl.jsx)("span",{className:gl.container,children:e}):null}var Dl=l(d(),1);function Sl(o){let e=[];return e.push({key:"size",content:Uo(o.size)}),e.push({key:"ext",content:(0,Dl.jsx)(hl,{path:o.filename})}),e}var vl=l(d(),1);function yl({data:o}){return(0,vl.jsx)(Xr,{items:Sl(o)})}function Fl(o){let e=[];return e.push(o.folders.length>0&&{key:"folders",icon:we,content:o.folders.length}),e.push(o.files.length>0&&{key:"files",icon:gt,content:o.files.length}),e}var bl=l(d(),1);function Kr({data:o}){return(0,bl.jsx)(Xr,{items:Fl(o)})}var ke=l(d(),1);function sd(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.path,path:r.path,text:r.filename,draft:r.draft,info:(0,ke.jsx)(yl,{data:r}),actions:(0,ke.jsx)(ul,{file:r})})}),e}function cd(o,e,r){let t=[];return o&&e&&(r&&t.push({key:r,path:r,acceptDrop:!0,draft:!1,text:"..",icon:(0,ke.jsx)(mt,{}),link:r===e.path?`/view/${e.hash}`:`/view/${e.hash}${r.replace(/\\/g,"/").replace(e.path,"")}`}),o.forEach(a=>{t.push({key:a.path,path:a.path,acceptDrop:!0,draft:a.draft,text:a.filename,link:`/view/${e.hash}/${a.relative}`,info:(0,ke.jsx)(Kr,{data:a}),icon:(0,ke.jsx)(we,{}),actions:(0,ke.jsx)(sl,{dir:a})})})),t}function Zt(o,e){let r=[],t=cd(e?.folders,o,e?.hash?void 0:e?.dir),a=sd(e?.files);return t.length>0&&r.push(...t),a.length>0&&r.push(...a),r}function Pl(){let o=fl([]),{set:e}=o,{top:r}=M(),{data:t}=U(),[a,n]=(0,Ee.useState)(Zt(r,t));return(0,Ee.useEffect)(()=>{n(Zt(r,t))},[r,t]),(0,Ee.useEffect)(()=>{e([])},[t,e]),(0,Ee.useMemo)(()=>({list:a,selection:o}),[a,o])}var Qt=l(d(),1);function Ol(){let{list:o,selection:e}=Pl(),{locked:r}=M(),t=Ke();return(0,Qt.jsx)(Gr,{component:dr,data:o,selection:e,selectionActions:(0,Qt.jsx)(rn,{selection:e}),config:{draggable:!0,selectable:!0,locked:r},onChange:t.rename,onDrop:t.move})}var $t=l(d(),1);function Bl(){return(0,$t.jsx)("div",{children:(0,$t.jsx)(Ol,{})})}var Tl=l(d(),1);function wl(){let{data:o}=U();return o?(0,Tl.jsx)(Bl,{}):null}var lo=l(y(),1);var Ll=l(d(),1);function Jt(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.hash,text:`${r.path}`,link:`/view/${r.hash}`,info:(0,Ll.jsx)(Kr,{data:r})})}),e}function Rl(){let{paths:o}=M(),[e,r]=(0,lo.useState)(Jt(o));return(0,lo.useEffect)(()=>{r(Jt(o))},[o]),(0,lo.useMemo)(()=>({list:e}),[e])}var Ml=l(d(),1);function Al(){let{list:o}=Rl();return(0,Ml.jsx)(Gr,{component:dr,config:{showIcons:!1},data:o})}var ea=l(d(),1);function kl(){return(0,ea.jsx)("div",{children:(0,ea.jsx)(Al,{})})}var El={separator:"_7DbBF",breadcrumb:"B4n0u"};var ve=l(y(),1);var Yr="...";function Nl(o){return o?.path.split("/").pop()??""}function dd(o){return{link:`/view/${o.hash}`,text:Nl(o)??Yr}}function oa(o,e){return o?.filename??Nl(e)??Yr}function ra(o,e){if(!o||!e)return[];let r=[],t=dd(o),a=e.relative.split("/");for(let n=1;n<a.length;n++)r.push({link:`${t.link}/${a.slice(0,n).join("/")}`,text:a[n-1]??Yr});return[t,...r]}function Hl(){let{folder:o,top:e}=M(),[r,t]=(0,ve.useState)(oa(o,e)),[a,n]=(0,ve.useState)(ra(e,o)),f=(0,ve.useMemo)(()=>!!e,[e]);return(0,ve.useEffect)(()=>{t(oa(o,e)),n(ra(e,o))},[e,o]),(0,ve.useMemo)(()=>({visible:f,active:r,path:a}),[r,a,f])}var _o=l(d(),1);function ql(){let{visible:o,path:e,active:r}=Hl();return o?(0,_o.jsxs)(Fa,{classNames:El,children:[e.map(t=>(0,_o.jsx)(Be,{component:Ge,to:t.link,children:t.text},t.link)),(0,_o.jsx)(Be,{c:"primary.0",underline:"never",children:r})]}):null}var Ul={header:"rJESL"};var so=l(d(),1);function _l({children:o,actions:e}){return(0,so.jsx)(Do.Header,{className:Ul.header,children:(0,so.jsx)(Xe,{bg:"primary.8",children:(0,so.jsxs)(So,{h:"60px",px:"md",children:[o,(0,so.jsx)(So,{ml:"auto",children:e})]})})})}var zo=l(d(),1);function zl(){return(0,zo.jsxs)("svg",{fill:"none",height:"30",viewBox:"0 0 1236 861",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[(0,zo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.22 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.155 3.023C785.315 53.028 826.35 97.39 841.7 150.347Z",fill:"none",fillRule:"evenodd"}),(0,zo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.221 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.154 3.023C785.315 53.028 826.35 97.39 841.7 150.347ZM738.148 292.981l-10.577-19.733-49.502 26.502 56.252 104.95.028-.015 2.655 4.954 105.008-56.22-26.517-49.474-22.836 12.226c41.64-65.635 123.329-98.347 201.398-74.756 93.903 28.374 147.003 127.454 118.613 221.301-22.1 73.069-87.09 121.422-159.108 125.859a236.615 236.615 0 0 1-9.347 48.877 240.002 240.002 0 0 1-3.151 9.67c.501.004-.5 0 0 0-37.874 117.762-161.876 183.892-280.818 147.95-20.299-6.133-39.109-14.848-56.179-25.674-27.119 18.559-62.109 25.111-96.019 14.864-43.114-13.028-72.627-49.631-78.685-91.422-2.285-15.761-1.233-32.26 3.683-48.511a113.666 113.666 0 0 1 1.894-5.712c22.592-17.165 42.218-38.487 57.575-63.267a113.09 113.09 0 0 1 5.829-2.561l8.769 16.361 49.502-26.502-56.252-104.95-.029.015-2.651-4.946-105.009 56.22 26.518 49.474 22.836-12.226c-41.641 65.635-123.329 98.347-201.398 74.756-93.9-28.374-147.005-127.454-118.615-221.301 22.104-73.069 87.095-121.422 159.11-125.859 1.355-16.262 4.431-32.628 9.347-48.877a238.962 238.962 0 0 1 3.15-9.67C330.945 96.642 456.339 29.843 575.754 65.928c21.722 6.563 41.739 16.082 59.743 27.983 23.46-10.085 50.47-12.27 76.828-4.305 42.239 12.764 71.423 48.153 78.287 88.881 2.785 16.523 1.897 33.926-3.284 51.052a114.683 114.683 0 0 1-2.069 6.194 234.335 234.335 0 0 0-46.379 56.8c-.244.15-.488.3-.732.448Z",fill:"currentColor",fillRule:"evenodd"})]})}var ta=l(d(),1);function Wl({to:o}){return(0,ta.jsx)(Be,{c:"primary.4",component:Ge,h:"30px",lh:"30px",to:o,children:(0,ta.jsx)(zl,{})})}var Wo=l(d(),1);function Gl({actions:o}){return(0,Wo.jsxs)(_l,{actions:o,children:[(0,Wo.jsx)(Wl,{to:"/"}),(0,Wo.jsx)(ql,{})]})}var Go=l(d(),1);function Vl({headerActions:o,children:e}){return(0,Go.jsxs)(Do,{children:[(0,Go.jsx)(Gl,{actions:o}),(0,Go.jsx)(Do.Main,{children:e})]})}var ft=l(y(),1);var qe=l(d(),1);var v=l(y(),1),O=l(Jl(),1);var pd=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function co(o,e){let r=md(o);if(typeof r.path!="string"){let{webkitRelativePath:t}=o;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:o.name,writable:!1,configurable:!1,enumerable:!0})}return r}function md(o){let{name:e}=o;if(e&&e.lastIndexOf(".")!==-1&&!o.type){let t=e.split(".").pop().toLowerCase(),a=pd.get(t);a&&Object.defineProperty(o,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return o}var uo=(o,e,r)=>new Promise((t,a)=>{var n=c=>{try{s(r.next(c))}catch(i){a(i)}},f=c=>{try{s(r.throw(c))}catch(i){a(i)}},s=c=>c.done?t(c.value):Promise.resolve(c.value).then(n,f);s((r=r.apply(o,e)).next())}),Id=[".DS_Store","Thumbs.db"];function rs(o){return uo(this,null,function*(){return Zr(o)&&xd(o.dataTransfer)?Sd(o.dataTransfer,o.type):gd(o)?hd(o):Array.isArray(o)&&o.every(e=>"getFile"in e&&typeof e.getFile=="function")?Cd(o):[]})}function xd(o){return Zr(o)}function gd(o){return Zr(o)&&Zr(o.target)}function Zr(o){return typeof o=="object"&&o!==null}function hd(o){return aa(o.target.files).map(e=>co(e))}function Cd(o){return uo(this,null,function*(){return(yield Promise.all(o.map(r=>r.getFile()))).map(r=>co(r))})}function Sd(o,e){return uo(this,null,function*(){if(o.items){let r=aa(o.items).filter(a=>a.kind==="file");if(e!=="drop")return r;let t=yield Promise.all(r.map(Dd));return es(ts(t))}return es(aa(o.files).map(r=>co(r)))})}function es(o){return o.filter(e=>Id.indexOf(e.name)===-1)}function aa(o){if(o===null)return[];let e=[];for(let r=0;r<o.length;r++){let t=o[r];e.push(t)}return e}function Dd(o){if(typeof o.webkitGetAsEntry!="function")return os(o);let e=o.webkitGetAsEntry();return e&&e.isDirectory?as(e):os(o)}function ts(o){return o.reduce((e,r)=>[...e,...Array.isArray(r)?ts(r):[r]],[])}function os(o){let e=o.getAsFile();if(!e)return Promise.reject(`${o} is not a File`);let r=co(e);return Promise.resolve(r)}function yd(o){return uo(this,null,function*(){return o.isDirectory?as(o):vd(o)})}function as(o){let e=o.createReader();return new Promise((r,t)=>{let a=[];function n(){e.readEntries(f=>uo(this,null,function*(){if(f.length){let s=Promise.all(f.map(yd));a.push(s),n()}else try{let s=yield Promise.all(a);r(s)}catch(s){t(s)}}),f=>{t(f)})}n()})}function vd(o){return uo(this,null,function*(){return new Promise((e,r)=>{o.file(t=>{let a=co(t,o.fullPath);e(a)},t=>{r(t)})})})}function ns(o,e){if(o&&e){let r=Array.isArray(e)?e:e.split(","),t=o.name||"",a=(o.type||"").toLowerCase(),n=a.replace(/\/.*$/,"");return r.some(f=>{let s=f.trim().toLowerCase();return s.charAt(0)==="."?t.toLowerCase().endsWith(s):s.endsWith("/*")?n===s.replace(/\/.*$/,""):a===s})}return!0}var Fd=Object.defineProperty,bd=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,Od=Object.prototype.hasOwnProperty,Bd=Object.prototype.propertyIsEnumerable,ls=(o,e,r)=>e in o?Fd(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,wd=(o,e)=>{for(var r in e||(e={}))Od.call(e,r)&&ls(o,r,e[r]);if(fs)for(var r of fs(e))Bd.call(e,r)&&ls(o,r,e[r]);return o},Td=(o,e)=>bd(o,Pd(e)),Ld="file-invalid-type",Rd="file-too-large",Ad="file-too-small",Md="too-many-files";var kd=o=>{o=Array.isArray(o)&&o.length===1?o[0]:o;let e=Array.isArray(o)?`one of ${o.join(", ")}`:o;return{code:Ld,message:`File type must be ${e}`}},ss=o=>({code:Rd,message:`File is larger than ${o} ${o===1?"byte":"bytes"}`}),cs=o=>({code:Ad,message:`File is smaller than ${o} ${o===1?"byte":"bytes"}`}),ds={code:Md,message:"Too many files"};function na(o,e){let r=o.type==="application/x-moz-file"||ns(o,e);return[r,r?null:kd(e)]}function fa(o,e,r){if(Ne(o.size))if(Ne(e)&&Ne(r)){if(o.size>r)return[!1,ss(r)];if(o.size<e)return[!1,cs(e)]}else{if(Ne(e)&&o.size<e)return[!1,cs(e)];if(Ne(r)&&o.size>r)return[!1,ss(r)]}return[!0,null]}function Ne(o){return o!=null}function us({files:o,accept:e,minSize:r,maxSize:t,multiple:a,maxFiles:n,validator:f}){return!a&&o.length>1||a&&n>=1&&o.length>n?!1:o.every(s=>{let[c]=na(s,e),[i]=fa(s,r,t),u=f?f(s):null;return c&&i&&!u})}function Vo(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function jo(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!o.target&&!!o.target.files}function la(o){o.preventDefault()}function Ed(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function Nd(o){return o.indexOf("Edge/")!==-1}function is(o=window.navigator.userAgent){return Ed(o)||Nd(o)}function re(...o){return(e,...r)=>o.some(t=>(!Vo(e)&&t&&t(e,...r),Vo(e)))}function ps(){return"showOpenFilePicker"in window}function ms(o){return Ne(o)?[{description:"Files",accept:Object.entries(o).filter(([r,t])=>{let a=!0;return hs(r)||(console.warn(`Skipped "${r}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),a=!1),(!Array.isArray(t)||!t.every(Cs))&&(console.warn(`Skipped "${r}" because an invalid file extension was provided.`),a=!1),a}).reduce((r,[t,a])=>Td(wd({},r),{[t]:a}),{})}]:o}function Is(o){if(Ne(o))return Object.entries(o).reduce((e,[r,t])=>[...e,r,...t],[]).filter(e=>hs(e)||Cs(e)).join(",")}function xs(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function gs(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function hs(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||/\w+\/[-+.\w]+/g.test(o)}function Cs(o){return/^.*\.[\w]+$/.test(o)}var Hd=Object.defineProperty,qd=Object.defineProperties,Ud=Object.getOwnPropertyDescriptors,Qr=Object.getOwnPropertySymbols,ys=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,Ss=(o,e,r)=>e in o?Hd(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,W=(o,e)=>{for(var r in e||(e={}))ys.call(e,r)&&Ss(o,r,e[r]);if(Qr)for(var r of Qr(e))vs.call(e,r)&&Ss(o,r,e[r]);return o},Fe=(o,e)=>qd(o,Ud(e)),$r=(o,e)=>{var r={};for(var t in o)ys.call(o,t)&&e.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&Qr)for(var t of Qr(o))e.indexOf(t)<0&&vs.call(o,t)&&(r[t]=o[t]);return r},ca=(0,v.forwardRef)((o,e)=>{var r=o,{children:t}=r,a=$r(r,["children"]);let n=da(a),{open:f}=n,s=$r(n,["open"]);return(0,v.useImperativeHandle)(e,()=>({open:f}),[f]),v.default.createElement(v.Fragment,null,t(Fe(W({},s),{open:f})))});ca.displayName="Dropzone";var Fs={disabled:!1,getFilesFromEvent:rs,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ca.defaultProps=Fs;ca.propTypes={children:O.default.func,accept:O.default.objectOf(O.default.arrayOf(O.default.string)),multiple:O.default.bool,preventDropOnDocument:O.default.bool,noClick:O.default.bool,noKeyboard:O.default.bool,noDrag:O.default.bool,noDragEventsBubbling:O.default.bool,minSize:O.default.number,maxSize:O.default.number,maxFiles:O.default.number,disabled:O.default.bool,getFilesFromEvent:O.default.func,onFileDialogCancel:O.default.func,onFileDialogOpen:O.default.func,useFsAccessApi:O.default.bool,autoFocus:O.default.bool,onDragEnter:O.default.func,onDragLeave:O.default.func,onDragOver:O.default.func,onDrop:O.default.func,onDropAccepted:O.default.func,onDropRejected:O.default.func,onError:O.default.func,validator:O.default.func};var sa={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function da(o={}){let{accept:e,disabled:r,getFilesFromEvent:t,maxSize:a,minSize:n,multiple:f,maxFiles:s,onDragEnter:c,onDragLeave:i,onDragOver:u,onDrop:p,onDropAccepted:I,onDropRejected:D,onFileDialogCancel:g,onFileDialogOpen:S,useFsAccessApi:P,autoFocus:h,preventDropOnDocument:b,noClick:C,noKeyboard:B,noDrag:G,noDragEventsBubbling:R,onError:$,validator:V}=W(W({},Fs),o),j=(0,v.useMemo)(()=>Is(e),[e]),A=(0,v.useMemo)(()=>ms(e),[e]),ne=(0,v.useMemo)(()=>typeof S=="function"?S:Ds,[S]),de=(0,v.useMemo)(()=>typeof g=="function"?g:Ds,[g]),T=(0,v.useRef)(null),H=(0,v.useRef)(null),[Zo,_]=(0,v.useReducer)(_d,sa),{isFocused:lt,isFileDialogActive:io}=Zo,Ue=(0,v.useRef)(typeof window<"u"&&window.isSecureContext&&P&&ps()),st=()=>{!Ue.current&&io&&setTimeout(()=>{if(H.current){let{files:m}=H.current;m.length||(_({type:"closeDialog"}),de())}},300)};(0,v.useEffect)(()=>(window.addEventListener("focus",st,!1),()=>{window.removeEventListener("focus",st,!1)}),[H,io,de,Ue]);let Pe=(0,v.useRef)([]),Qo=m=>{T.current&&T.current.contains(m.target)||(m.preventDefault(),Pe.current=[])};(0,v.useEffect)(()=>(b&&(document.addEventListener("dragover",la,!1),document.addEventListener("drop",Qo,!1)),()=>{b&&(document.removeEventListener("dragover",la),document.removeEventListener("drop",Qo))}),[T,b]),(0,v.useEffect)(()=>(!r&&h&&T.current&&T.current.focus(),()=>{}),[T,h,r]);let ue=(0,v.useCallback)(m=>{$?$(m):console.error(m)},[$]),$o=(0,v.useCallback)(m=>{m.preventDefault(),m.persist(),tr(m),Pe.current=[...Pe.current,m.target],jo(m)&&Promise.resolve(t(m)).then(F=>{if(Vo(m)&&!R)return;let L=F.length,N=L>0&&us({files:F,accept:j,minSize:n,maxSize:a,multiple:f,maxFiles:s,validator:V}),X=L>0&&!N;_({isDragAccept:N,isDragReject:X,isDragActive:!0,type:"setDraggedFiles"}),c&&c(m)}).catch(F=>ue(F))},[t,c,ue,R,j,n,a,f,s,V]),Jo=(0,v.useCallback)(m=>{m.preventDefault(),m.persist(),tr(m);let F=jo(m);if(F&&m.dataTransfer)try{m.dataTransfer.dropEffect="copy"}catch{}return F&&u&&u(m),!1},[u,R]),er=(0,v.useCallback)(m=>{m.preventDefault(),m.persist(),tr(m);let F=Pe.current.filter(N=>T.current&&T.current.contains(N)),L=F.indexOf(m.target);L!==-1&&F.splice(L,1),Pe.current=F,!(F.length>0)&&(_({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),jo(m)&&i&&i(m))},[T,i,R]),Oe=(0,v.useCallback)((m,F)=>{let L=[],N=[];m.forEach(X=>{let[Io,xo]=na(X,j),[ct,dt]=fa(X,n,a),go=V?V(X):null;if(Io&&ct&&!go)L.push(X);else{let ho=[xo,dt];go&&(ho=ho.concat(go)),N.push({file:X,errors:ho.filter(ut=>ut)})}}),(!f&&L.length>1||f&&s>=1&&L.length>s)&&(L.forEach(X=>{N.push({file:X,errors:[ds]})}),L.splice(0)),_({acceptedFiles:L,fileRejections:N,type:"setFiles"}),p&&p(L,N,F),N.length>0&&D&&D(N,F),L.length>0&&I&&I(L,F)},[_,f,j,n,a,s,p,I,D,V]),_e=(0,v.useCallback)(m=>{m.preventDefault(),m.persist(),tr(m),Pe.current=[],jo(m)&&Promise.resolve(t(m)).then(F=>{Vo(m)&&!R||Oe(F,m)}).catch(F=>ue(F)),_({type:"reset"})},[t,Oe,ue,R]),me=(0,v.useCallback)(()=>{if(Ue.current){_({type:"openDialog"}),ne();let m={multiple:f,types:A};window.showOpenFilePicker(m).then(F=>t(F)).then(F=>{Oe(F,null),_({type:"closeDialog"})}).catch(F=>{xs(F)?(de(F),_({type:"closeDialog"})):gs(F)?(Ue.current=!1,H.current?(H.current.value=null,H.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(F)});return}H.current&&(_({type:"openDialog"}),ne(),H.current.value=null,H.current.click())},[_,ne,de,P,Oe,ue,A,f]),ze=(0,v.useCallback)(m=>{!T.current||!T.current.isEqualNode(m.target)||(m.key===" "||m.key==="Enter"||m.keyCode===32||m.keyCode===13)&&(m.preventDefault(),me())},[T,me]),We=(0,v.useCallback)(()=>{_({type:"focus"})},[]),or=(0,v.useCallback)(()=>{_({type:"blur"})},[]),po=(0,v.useCallback)(()=>{C||(is()?setTimeout(me,0):me())},[C,me]),Ie=m=>r?null:m,mo=m=>B?null:Ie(m),rr=m=>G?null:Ie(m),tr=m=>{R&&m.stopPropagation()},Gs=(0,v.useMemo)(()=>(m={})=>{var F=m,{refKey:L="ref",role:N,onKeyDown:X,onFocus:Io,onBlur:xo,onClick:ct,onDragEnter:dt,onDragOver:go,onDragLeave:ho,onDrop:ut}=F,Xs=$r(F,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return W(W({onKeyDown:mo(re(X,ze)),onFocus:mo(re(Io,We)),onBlur:mo(re(xo,or)),onClick:Ie(re(ct,po)),onDragEnter:rr(re(dt,$o)),onDragOver:rr(re(go,Jo)),onDragLeave:rr(re(ho,er)),onDrop:rr(re(ut,_e)),role:typeof N=="string"&&N!==""?N:"presentation",[L]:T},!r&&!B?{tabIndex:0}:{}),Xs)},[T,ze,We,or,po,$o,Jo,er,_e,B,G,r]),Vs=(0,v.useCallback)(m=>{m.stopPropagation()},[]),js=(0,v.useMemo)(()=>(m={})=>{var F=m,{refKey:L="ref",onChange:N,onClick:X}=F,Io=$r(F,["refKey","onChange","onClick"]);let xo={accept:j,multiple:f,type:"file",style:{display:"none"},onChange:Ie(re(N,_e)),onClick:Ie(re(X,Vs)),tabIndex:-1,[L]:H};return W(W({},xo),Io)},[H,e,f,_e,r]);return Fe(W({},Zo),{isFocused:lt&&!r,getRootProps:Gs,getInputProps:js,rootRef:T,inputRef:H,open:Ie(me)})}function _d(o,e){switch(e.type){case"focus":return Fe(W({},o),{isFocused:!0});case"blur":return Fe(W({},o),{isFocused:!1});case"openDialog":return Fe(W({},sa),{isFileDialogActive:!0});case"closeDialog":return Fe(W({},o),{isFileDialogActive:!1});case"setDraggedFiles":return Fe(W({},o),{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Fe(W({},o),{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return W({},sa);default:return o}}function Ds(){}var[bs,Ps]=ma("Dropzone component was not found in tree");var Os=l(d(),1),Bs=l(y(),1);function ua(o){let e=r=>{let{children:t,...a}=je(`Dropzone${it(o)}`,{},r),n=Ps(),f=pa(t)?t:(0,Os.jsx)("span",{children:t});return n[o]?(0,Bs.cloneElement)(f,a):null};return e.displayName=`@mantine/dropzone/${it(o)}`,e}var ws=ua("accept"),Ts=ua("reject"),Ls=ua("idle");var He={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};var zd={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},Wd=(o,{radius:e,variant:r,acceptColor:t,rejectColor:a})=>{let n=o.variantColorResolver({color:t||o.primaryColor,theme:o,variant:r}),f=o.variantColorResolver({color:a||"red",theme:o,variant:r});return{root:{"--dropzone-radius":xa(e),"--dropzone-accept-color":n.color,"--dropzone-accept-bg":n.background,"--dropzone-reject-color":f.color,"--dropzone-reject-bg":f.background}}},ce=nr((o,e)=>{let r=je("Dropzone",zd,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,radius:i,disabled:u,loading:p,multiple:I,maxSize:D,accept:g,children:S,onDropAny:P,onDrop:h,onReject:b,openRef:C,name:B,maxFiles:G,autoFocus:R,activateOnClick:$,activateOnDrag:V,dragEventsBubbling:j,activateOnKeyboard:A,onDragEnter:ne,onDragLeave:de,onDragOver:T,onFileDialogCancel:H,onFileDialogOpen:Zo,preventDropOnDocument:_,useFsAccessApi:lt,getFilesFromEvent:io,validator:Ue,rejectColor:st,acceptColor:Pe,enablePointerEvents:Qo,loaderProps:ue,inputProps:$o,mod:Jo,...er}=r,Oe=ar({name:"Dropzone",classes:He,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,vars:c,varsResolver:Wd}),{getRootProps:_e,getInputProps:me,isDragAccept:ze,isDragReject:We,open:or}=da({onDrop:P,onDropAccepted:h,onDropRejected:b,disabled:u||p,accept:Array.isArray(g)?g.reduce((Ie,mo)=>({...Ie,[mo]:[]}),{}):g,multiple:I,maxSize:D,maxFiles:G,autoFocus:R,noClick:!$,noDrag:!V,noDragEventsBubbling:!j,noKeyboard:!A,onDragEnter:ne,onDragLeave:de,onDragOver:T,onFileDialogCancel:H,onFileDialogOpen:Zo,preventDropOnDocument:_,useFsAccessApi:lt,validator:Ue,...io?{getFilesFromEvent:io}:null});ga(C,or);let po=!ze&&!We;return(0,qe.jsx)(bs,{value:{accept:ze,reject:We,idle:po},children:(0,qe.jsxs)(Xe,{..._e(),...Oe("root",{focusable:!0}),...er,mod:[{accept:ze,reject:We,idle:po,loading:p,"activate-on-click":$},Jo],children:[(0,qe.jsx)(Oa,{visible:p,overlayProps:{radius:i},unstyled:s,loaderProps:ue}),(0,qe.jsx)("input",{...me($o),name:B}),(0,qe.jsx)("div",{...Oe("inner"),ref:e,"data-enable-pointer-events":Qo||void 0,children:S})]})})});ce.classes=He;ce.displayName="@mantine/dropzone/Dropzone";ce.Accept=ws;ce.Idle=Ls;ce.Reject=Ts;var Jr=l(d(),1),Xo=l(y(),1);var Gd={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Ia("max"),withinPortal:!0},et=nr((o,e)=>{let r=je("DropzoneFullScreen",Gd,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,active:i,onDrop:u,onReject:p,zIndex:I,withinPortal:D,portalProps:g,...S}=r,P=ar({name:"DropzoneFullScreen",classes:He,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,rootSelector:"fullScreen"}),{resolvedClassNames:h,resolvedStyles:b}=Ca({classNames:t,styles:f,props:r}),[C,B]=(0,Xo.useState)(0),[G,{open:R,close:$}]=ha(!1),V=A=>{A.dataTransfer?.types.includes("Files")&&(B(ne=>ne+1),R())},j=()=>{B(A=>A-1)};return(0,Xo.useEffect)(()=>{C===0&&$()},[C]),(0,Xo.useEffect)(()=>{if(i)return document.addEventListener("dragenter",V,!1),document.addEventListener("dragleave",j,!1),()=>{document.removeEventListener("dragenter",V,!1),document.removeEventListener("dragleave",j,!1)}},[i]),(0,Jr.jsx)(Da,{...g,withinPortal:D,children:(0,Jr.jsx)(Xe,{...P("fullScreen",{style:{opacity:G?1:0,pointerEvents:G?"all":"none",zIndex:I}}),ref:e,children:(0,Jr.jsx)(ce,{...S,classNames:h,styles:b,unstyled:s,className:He.dropzone,onDrop:A=>{u?.(A),$(),B(0)},onReject:A=>{p?.(A),$(),B(0)}})})})});et.classes=He;et.displayName="@mantine/dropzone/DropzoneFullScreen";ce.FullScreen=et;var ot=ce;var nt=l(y(),1);var As=l(d(),1);function Rs(){return(0,As.jsx)(Fo,{stroke:1.5,style:{width:Ve(52),height:Ve(52),color:"var(--mantine-color-blue-6)"}})}var Ko=l(d(),1);function Ms(){return(0,Ko.jsxs)(So,{gap:"xl",justify:"center",mih:220,style:{pointerEvents:"none"},children:[(0,Ko.jsx)(xt,{stroke:1.5,style:{width:Ve(52),height:Ve(52),color:"var(--mantine-color-red-6)"}}),(0,Ko.jsx)(va,{inline:!0,size:"xl",children:"Unsupported file format"})]})}var ia=l(d(),1);function ks({onClick:o}){return(0,ia.jsx)(fe,{c:"primary.0",size:"lg",onClick:o,children:(0,ia.jsx)(Fo,{size:"20"})})}var te=l(y(),1);function Es(o,e){return o.filter(r=>e.find(t=>t.filename===r.name))}var rt=l(y(),1);var k=l(d(),1);function Vd({overweight:o,other:e,max:r}){return(0,k.jsxs)(k.Fragment,{children:[o.length>1?(0,k.jsxs)("p",{children:["You have ",o.length," file(s) that are too big (up to ",Uo(r),")."]}):(0,k.jsxs)("p",{children:["This file is too big (",Uo(o[0].size),")."]}),e&&e.length>0&&(0,k.jsxs)("p",{children:["You can upload the remaining ",e.length," file(s) or cancel upload."]}),(0,k.jsx)(Pa,{}),(0,k.jsx)("p",{children:(0,k.jsx)("i",{children:(0,k.jsx)("small",{children:'If you want to upload big files, please update "maxsize" value in your config.json and restart nanomoln.'})})})]})}function jd({other:o,onUpload:e}){let{hide:r}=ie();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(le,{style:o&&o.length>0?{marginRight:"auto"}:{},variant:"subtle",onClick:r,children:"Cancel upload"}),o&&o.length>0&&(0,k.jsxs)(le,{onClick:e,children:["Upload ",o.length," files"]})]})}function Ns(){let{show:o,hide:e}=ie(),r=(0,rt.useCallback)((t,a,n,f)=>{t&&t.length>0?o("Allowed upload size exceeded",(0,k.jsx)(Vd,{max:n,other:a,overweight:t}),(0,k.jsx)(jd,{other:a,onUpload:f})):console.error("Trying to show empty overweight confirmation")},[o]);return(0,rt.useMemo)(()=>({confirm:r,hide:e}),[r,e])}var at=l(y(),1);var tt={list:"P7AHk",item:"y9DC4",wrapper:"etJE2"};var E=l(d(),1),Hs=10;function Xd({intersection:o}){let e=o.length>Hs?o.slice(0,Hs):o;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{children:"This files will be overwritten:"}),(0,E.jsx)("ul",{className:tt.list,children:e.map(r=>(0,E.jsx)("li",{className:tt.item,title:r.name,children:(0,E.jsx)("span",{className:tt.wrapper,children:r.name})},r.name))}),e.length<o.length&&(0,E.jsx)("p",{children:(0,E.jsxs)("strong",{children:["And ",o.length-e.length," more"]})})]})}function Kd({intersection:o,onOverwrite:e,onIgnore:r}){let{hide:t}=ie();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(le,{style:{marginRight:"auto"},variant:"subtle",onClick:t,children:"Cancel upload"}),(0,E.jsx)(le,{color:"red",onClick:e,children:o.length>1?"Overwrite all":"Overwrite"}),o.length>1&&(0,E.jsx)(le,{onClick:r,children:"Ignore exist"})]})}function qs(){let{show:o,hide:e}=ie(),r=(0,at.useCallback)((t,a,n)=>{t&&t.length>0?o("Files already exist",(0,E.jsx)(Xd,{intersection:t}),(0,E.jsx)(Kd,{intersection:t,onIgnore:n,onOverwrite:a})):console.error("Trying to show empty overwrite confirmation")},[o]);return(0,at.useMemo)(()=>({confirm:r,hide:e}),[r,e])}function Us(){let o=(0,te.useContext)(yo),{data:e}=U(),{upload:r}=Ke(),{confirm:t,hide:a}=qs(),{confirm:n}=Ns(),f=(0,te.useCallback)(I=>()=>{r(I,e?.path??""),a()},[e,a,r]),s=(0,te.useCallback)((I,D)=>()=>{let g=I.filter(S=>!D.includes(S));g.length>0&&r(g,e?.path??""),a()},[e,r,a]),c=(0,te.useCallback)((I,D)=>{t(D,f(I),s(I,D))},[t,f,s]),i=(0,te.useCallback)(I=>{let D=Es(I,e?.files??[]);D.length>0?c(I,D):r(I,e?.path??"")},[c,r,e]),u=(0,te.useCallback)((I,D)=>{let g=I.filter(h=>h.size>(o?.maxsize??1e7)),S=I.filter(h=>!g.includes(h)),P=g.reduce((h,b)=>Math.max(h,b.size),-1/0);g.length>0?n(g,S,P,()=>{D(S)}):D(S)},[]),p=(0,te.useCallback)(I=>{e?.path&&u(I,D=>{i(D)})},[e,u,i]);return(0,te.useMemo)(()=>({upload:p}),[p])}var _s={root:"cr9-2"};var ae=l(d(),1);function zs(){let o=(0,nt.useRef)(null),{accept:e}=(0,nt.useContext)(yo)??{accept:["*"]},{upload:r}=Us();return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(ot.FullScreen,{active:!0,accept:e,className:_s.root,openRef:o,onDrop:r,children:[(0,ae.jsx)(ot.Accept,{children:(0,ae.jsx)(Rs,{})}),(0,ae.jsx)(ot.Reject,{children:(0,ae.jsx)(Ms,{})})]}),(0,ae.jsx)(ks,{onClick:()=>o.current?.()})]})}var be=l(d(),1);function Ws(){let{data:o,create:e}=U(),[r,t]=(0,ft.useState)(!1);return(0,ft.useEffect)(()=>{t(!0)},[]),!r||!o?null:(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(zs,{}),(0,be.jsx)(fe,{c:"primary.0",size:"lg",onClick:e,children:(0,be.jsx)(we,{size:"20"})})]})}var Yo=l(d(),1);function ID(){let{data:o}=U();return(0,Yo.jsx)(Vl,{headerActions:(0,Yo.jsx)(Ws,{}),children:o?(0,Yo.jsx)(wl,{}):(0,Yo.jsx)(kl,{})})}export{xe as a,Qd as b,ID as c,Yd as d};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@tabler/icons-react/dist/esm/defaultAttributes.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/createReactComponent.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconDownload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderUp.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconPencil.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconUpload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconX.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFileFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconTrashFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/tabler-icons-react.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

filesize/dist/filesize.esm.js:
  (**
   * filesize
   *
   * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
   * @license BSD-3-Clause
   * @version 10.1.2
   *)
*/
