import{A as Oa,B as Ba,C as wa,D as w,E as Ta,F as La,G as ie,a as Ve,b as Ia,c as xa,d as ga,e as ha,f as pt,g as Ca,h as Sa,j as Da,k as ar,m as je,n as Xe,o as nr,p as ya,q as va,r as Fa,s as fe,t as So,u as ba,v as Be,w as Do,x as fr,y as Pa,z as le}from"/build/_shared/chunk-LYSDDBWF.js";import{a as y,e as Ge,m as d}from"/build/_shared/chunk-ELF33S6B.js";import{b as Co,c as Ys,d as l}from"/build/_shared/chunk-T36URGAI.js";var ge=Co((bi,cr)=>{(function(){"use strict";var o={}.hasOwnProperty;function e(){for(var a="",n=0;n<arguments.length;n++){var f=arguments[n];f&&(a=t(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var n="";for(var f in a)o.call(a,f)&&a[f]&&(n=t(n,f));return n}function t(a,n){return n?a?a+" "+n:a+n:a}typeof cr<"u"&&cr.exports?(e.default=e,cr.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var sf=Co((gI,lf)=>{"use strict";lf.exports=function o(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,a,n;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(a=t;a--!==0;)if(!o(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),t=n.length,t!==Object.keys(r).length)return!1;for(a=t;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;for(a=t;a--!==0;){var f=n[a];if(!o(e[f],r[f]))return!1}return!0}return e!==e&&r!==r}});var Kl=Co((WC,Xl)=>{"use strict";var pd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Xl.exports=pd});var $l=Co((GC,Ql)=>{"use strict";var md=Kl();function Yl(){}function Zl(){}Zl.resetWarningCache=Yl;Ql.exports=function(){function o(t,a,n,f,s,c){if(c!==md){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}o.isRequired=o;function e(){return o}var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zl,resetWarningCache:Yl};return r.PropTypes=r,r}});var es=Co((XC,Jl)=>{Jl.exports=$l()();var VC,jC});function Qd(){return[{title:"nanomoln"},{name:"description",content:"Simple files manipulation"}]}var Ra=l(y(),1),yo=(0,Ra.createContext)(void 0),Jd=yo.Provider;var vo=l(y(),1);var Aa={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};var q=(o,e,r,t)=>{let a=(0,vo.forwardRef)(({color:n="currentColor",size:f=24,stroke:s=2,className:c,children:i,...u},p)=>(0,vo.createElement)("svg",{ref:p,...Aa[o],width:f,height:f,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...o==="filled"?{fill:n}:{strokeWidth:s,stroke:n},...u},[...t.map(([m,D])=>(0,vo.createElement)(m,D)),...Array.isArray(i)?i:[i]]));return a.displayName=`${r}`,a};var mt=q("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var It=q("outline","folder-up","IconFolderUp",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M19 22v-6",key:"svg-1"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-2"}]]);var xt=q("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);var Fo=q("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);var gt=q("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);var ht=q("filled","file-filled","IconFileFilled",[["path",{d:"M12 2l.117 .007a1 1 0 0 1 .876 .876l.007 .117v4l.005 .15a2 2 0 0 0 1.838 1.844l.157 .006h4l.117 .007a1 1 0 0 1 .876 .876l.007 .117v9a3 3 0 0 1 -2.824 2.995l-.176 .005h-10a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-14a3 3 0 0 1 2.824 -2.995l.176 -.005h5z",key:"svg-0"}],["path",{d:"M19 7h-4l-.001 -4.001z",key:"svg-1"}]]);var we=q("filled","folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",key:"svg-0"}]]);var Ct=q("filled","trash-filled","IconTrashFilled",[["path",{d:"M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16z",key:"svg-0"}],["path",{d:"M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z",key:"svg-1"}]]);var Ye=l(y(),1);var Te=l(y(),1);var St=class{async post(e,r){return await(await fetch(e,{method:"POST",body:JSON.stringify(r)})).json()}async rename(e,r,t){await this.post("/api/folders/rename",{path:e,original:r,update:t})}async createFolder(e,r){await this.post("/api/folders/create",{path:e,name:r})}async getFolders(e,r){return await this.post("/api/folders",{path:e,top:r})}async getFiles(e){return await this.post("/api/folders/files",{path:e})}async moveFiles(e,r){await this.post("/api/folders/move",{files:e,target:r})}async uploadFiles(e,r){let t=new FormData;e.forEach(a=>{t.append("file",a)}),await fetch(`/api/folders/upload?target=${encodeURIComponent(r)}`,{method:"POST",body:t})}async removeFiles(e){await this.post("/api/folders/remove",{list:e})}},pe=new St;function Zs(o){return o.replace(/[\\]+/g,"/")}function lr(o,e){return Zs(e).replace(o.path,"")}function Ma(o){return{type:"directory",dir:o?.path??"",draft:!0,relative:"",path:"",filename:"",size:0,files:[],folders:[]}}function Qs(o,e){return{dir:e,filename:o.name,path:`${e}/${o.name}`,type:"file",size:File.length}}function ka(o,e){return o.map(r=>Qs(r,e))}function sr(o){return Object.keys(o)}function $s(o,e){let r={};return e.forEach(t=>{r[t]=o[t]}),r}function Ea(o){return e=>$s(e,o)}function Js(o,e){let r={};return sr(o).forEach(a=>{e.includes(a)||(r[a]=o[a])}),r}function Na(o){return e=>Js(e,o)}function Ha(o,e){return[()=>e(Ea(sr(o))),()=>e(Na(sr(o)))]}var bo={top:void 0,paths:void 0,folder:void 0,locked:[],temporary:[]};var qa=La(o=>({...bo,lock:e=>{o({locked:e})},temp:e=>{o({temporary:e})},force:e=>{o({...bo,...e})},update:e=>{o({...e,temporary:[]})}}));var[M,xe]=Ha(bo,qa);var Dt=l(y(),1);var Za=l(y(),1);var Ua={dir:{draft:Ma}};async function _a(o,e,r){let t=await pe.getFolders(e.path,r),a=await pe.getFiles(e.path);return{[o]:{...e,folders:t,files:a}}}async function Xa(o,e){return o?await _a("folder",o,e?.path??o.path):e?await _a("top",e,e.path):{}}function za(o){return!!o?.folders.find(e=>!!e.draft)}function ec(o){return!!o.relative}function Wa(o,e){return o&&{...o,folders:[...o.folders,e]}}function Ga(o,e){return o.map(r=>r.path===e.path?{...r,draft:!0}:r)}function Va(o){return{...o,folders:o.folders.map(e=>({...e,draft:!1})),files:o.files.map(e=>({...e,draft:!1}))}}function ja(o,e){return!e||!o?e:ec(o)?{...e,folders:Ga(e.folders,o)}:{...e,files:Ga(e.files,o)}}function Ka(o,e){let r=Ua.dir.draft();if(o&&!za(o))return{folder:Wa(o,r)};if(e&&!za(e))return{top:Wa(e,r)}}function Ya(o,e,r){if(e)return{folder:ja(o,Va(e))};if(r)return{top:ja(o,Va(r))}}function Qa(){let{folder:o,top:e}=M(),{update:r}=xe();return(0,Za.useCallback)(()=>{if(r){let a=Ka(o,e);a&&r(a)}},[o,e,r])}var $a=l(y(),1);function Ja(){let{folder:o,top:e}=M(),{update:r}=xe();return(0,$a.useCallback)(a=>{if(r){let n=Ya(a,o,e);n&&r(n)}},[o,e,r])}var en=l(y(),1);function on(){let{top:o,folder:e}=M(),{update:r}=xe();return(0,en.useCallback)(()=>{r&&Xa(e,o).then(a=>{r({...a,locked:[]})})},[e,o,r])}var rn=(o,e)=>o.filename.toLocaleLowerCase().localeCompare(e.filename.toLocaleLowerCase());function U(){let{folder:o,top:e,temporary:r}=M(),t=on(),a=Qa(),n=Ja(),f=(0,Dt.useMemo)(()=>o??e,[o,e]);return{data:(0,Dt.useMemo)(()=>f&&{...f,folders:f.folders.sort(rn),files:[...f.files,...r.filter(c=>!f.files.find(i=>i.filename===c.filename))].sort(rn)},[r,f]),reload:t,create:a,edit:n}}function Ke(){let{data:o,reload:e}=U(),{lock:r,temp:t}=xe(),a=(0,Te.useCallback)(async(c,i)=>{let u=i.split(/(\/|\\)/)[0];o&&c.draft&&(u&&u!==c.text&&(c.text?await pe.rename(o.path,c.text,u):await pe.createFolder(o.path,u)),e?.())},[o,e]),n=(0,Te.useCallback)(async(c,i)=>{c.includes(i)||(r(c),await pe.moveFiles(c,i),e?.())},[e,r]),f=(0,Te.useCallback)(async(c,i)=>{let u=ka(c,i);t(u),r(u.map(p=>p.filename)),await pe.uploadFiles(c,i),e?.()},[r,t,e]),s=(0,Te.useCallback)(async c=>{r(c),await pe.removeFiles(c),e?.()},[r,e]);return(0,Te.useMemo)(()=>({rename:a,move:n,upload:f,remove:s}),[a,n,f,s])}var J=l(d(),1);function oc({list:o}){let{data:e}=U(),r=(0,Ye.useCallback)(()=>{let t=o.filter(f=>e?.folders.find(s=>s.path===f)),a=o.filter(f=>e?.files.find(s=>s.path===f)),n="";return a.length>0&&t.length>0?n=`${a.length} ${a.length===1?"file":"files"} and ${t.length} ${t.length===1?"directory":"directories"}`:a.length>0?n=a.length===1?a[0]:`${a.length} files`:t.length>0&&(n=t.length===1?t[0]:`${t.length} directories`),n},[o,e]);return(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)("p",{children:["Are you sure to remove ",r(),"?"]})})}function rc({list:o,onRemove:e}){let{hide:r}=ie(),{remove:t}=Ke(),a=(0,Ye.useCallback)(()=>{t(o),r(),e?.()},[o,r,t,e]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(le,{style:{marginRight:"auto"},variant:"subtle",onClick:r,children:"Cancel"}),(0,J.jsx)(le,{color:"red",onClick:a,children:"Remove"})]})}function tn(o,e){let{show:r}=ie(),t=(0,Ye.useCallback)(()=>{r("Removing files",(0,J.jsx)(oc,{list:o}),(0,J.jsx)(rc,{list:o,onRemove:e}))},[r,o,e]);return(0,Ye.useMemo)(()=>({confirm:t}),[t])}var Ze=l(d(),1);function Qe({files:o,size:e,onRemove:r}){let{confirm:t}=tn(o,r);return(0,Ze.jsx)(Ze.Fragment,{children:(0,Ze.jsx)(fe,{color:"red",size:e??"lg",variant:"subtle",onClick:t,children:(0,Ze.jsx)(Ct,{size:20})})})}var Le=l(d(),1);function an({selection:o}){return!o||o.selected.length<1?(0,Le.jsx)(Le.Fragment,{}):(0,Le.jsx)(Le.Fragment,{children:(0,Le.jsx)(Qe,{files:o.selected,onRemove:o.reset})})}var nn=l(ge(),1);var dr="200px";var z={faded:"gnp3A",link:"HN-kO",hideOnHover:"_-1MGa",showOnHover:"kxecj",pullRight:"w5N5L",actions:"_70m97",icon:"_3ydyO",fixed:"jrqHC"};var yt=l(d(),1);function vt({visible:o,actions:e}){return!o||!e?null:(0,yt.jsx)(w.Td,{className:(0,nn.default)(z.pullRight,z.showOnHover),w:dr,children:(0,yt.jsx)("div",{className:z.actions,children:e})})}var ln=l(ge(),1);var fn={link:"_7dNV8"};var Ft=l(d(),1);function sn({to:o,children:e,className:r}){return(0,Ft.jsx)(Be,{c:"primary.1",className:(0,ln.default)(fn.link,r),component:Ge,to:o,children:(0,Ft.jsx)("span",{children:e})})}var Po=l(y(),1),dn=l(d(),1);function cn({value:o,onSave:e}){let[r,t]=(0,Po.useState)(o??""),[a,n]=(0,Po.useState)(!1),f=i=>{t(i.currentTarget.value)},s=i=>{i.key==="Enter"&&c()},c=(0,Po.useCallback)(()=>{n(!0),e(r)},[r,e]);return(0,dn.jsx)(Ta,{autoFocus:!0,disabled:a,value:r,onChange:f,onKeyUp:s})}var Oo=l(d(),1);function bt({visible:o,draft:e,text:r,link:t,onSave:a}){return o?(0,Oo.jsx)(w.Td,{maw:"100%",children:e&&a?(0,Oo.jsx)(cn,{value:r,onSave:a}):t?(0,Oo.jsx)(sn,{className:z.link,to:t,children:r}):(0,Oo.jsx)("div",{className:z.file,children:r})}):null}var un=l(ge(),1);var Pt=l(d(),1);function Ot({visible:o,icon:e}){return o?(0,Pt.jsx)(w.Td,{className:(0,un.default)(z.icon,z.faded),w:"40px",children:(0,Pt.jsx)(Oa,{children:e})}):null}var pn=l(ge(),1);var mn=l(d(),1);function Bt({visible:o,info:e,actions:r}){return o?(0,mn.jsx)(w.Td,{className:(0,pn.default)(z.faded,r&&z.hideOnHover),w:dr,children:e}):null}var In=l(y(),1);var wt=l(d(),1);function Tt({visible:o,checked:e,onToggle:r}){let t=(0,In.useCallback)(a=>{r?.(a.currentTarget.checked)},[r]);return o?(0,wt.jsx)(w.Td,{className:z.fixed,w:"40px",children:(0,wt.jsx)(fr,{checked:e,onChange:t})}):null}var se=l(d(),1);function ur({item:o,checked:e,onToggle:r,onSave:t}){return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(Tt,{checked:e,visible:o.selectable,onToggle:r}),(0,se.jsx)(Ot,{visible:o.showIcon,...o}),(0,se.jsx)(bt,{visible:!0,...o,onSave:t}),(0,se.jsx)(Bt,{visible:!o.draft,...o,actions:!!o.actions}),(0,se.jsx)(vt,{visible:!o.draft,...o})]})}var xn=l(y(),1),ir=(0,xn.createContext)({dragDropManager:void 0});var af=l(d(),1);function ee(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var gn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Lt=function(){return Math.random().toString(36).substring(7).split("").join(".")},hn={INIT:"@@redux/INIT"+Lt(),REPLACE:"@@redux/REPLACE"+Lt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Lt()}};function ac(o){if(typeof o!="object"||o===null)return!1;for(var e=o;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(o)===e}function Rt(o,e,r){var t;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ee(1));return r(Rt)(o,e)}if(typeof o!="function")throw new Error(ee(2));var a=o,n=e,f=[],s=f,c=!1;function i(){s===f&&(s=f.slice())}function u(){if(c)throw new Error(ee(3));return n}function p(C){if(typeof C!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));var P=!0;return i(),s.push(C),function(){if(P){if(c)throw new Error(ee(6));P=!1,i();var b=s.indexOf(C);s.splice(b,1),f=null}}}function m(C){if(!ac(C))throw new Error(ee(7));if(typeof C.type>"u")throw new Error(ee(8));if(c)throw new Error(ee(9));try{c=!0,n=a(n,C)}finally{c=!1}for(var P=f=s,h=0;h<P.length;h++){var b=P[h];b()}return C}function D(C){if(typeof C!="function")throw new Error(ee(10));a=C,m({type:hn.REPLACE})}function x(){var C,P=p;return C={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(ee(11));function S(){b.next&&b.next(u())}S();var B=P(S);return{unsubscribe:B}}},C[gn]=function(){return this},C}return m({type:hn.INIT}),t={dispatch:m,subscribe:p,getState:u,replaceReducer:D},t[gn]=x,t}function g(o,e,...r){if(nc()&&e===void 0)throw new Error("invariant requires an error message argument");if(!o){let t;if(e===void 0)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;t=new Error(e.replace(/%s/g,function(){return r[a++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function nc(){return typeof process<"u"&&!0}function Cn(o,e,r){return e.split(".").reduce((t,a)=>t&&t[a]?t[a]:r||null,o)}function Sn(o,e){return o.filter(r=>r!==e)}function pr(o){return typeof o=="object"}function Dn(o,e){let r=new Map,t=n=>{r.set(n,r.has(n)?r.get(n)+1:1)};o.forEach(t),e.forEach(t);let a=[];return r.forEach((n,f)=>{n===1&&a.push(f)}),a}function yn(o,e){return o.filter(r=>e.indexOf(r)>-1)}var $e="dnd-core/INIT_COORDS",he="dnd-core/BEGIN_DRAG",Je="dnd-core/PUBLISH_DRAG_SOURCE",Ce="dnd-core/HOVER",Se="dnd-core/DROP",De="dnd-core/END_DRAG";function At(o,e){return{type:$e,payload:{sourceClientOffset:e||null,clientOffset:o||null}}}var fc={type:$e,payload:{clientOffset:null,sourceClientOffset:null}};function vn(o){return function(r=[],t={publishSource:!0}){let{publishSource:a=!0,clientOffset:n,getSourceClientOffset:f}=t,s=o.getMonitor(),c=o.getRegistry();o.dispatch(At(n)),lc(r,s,c);let i=dc(r,s);if(i==null){o.dispatch(fc);return}let u=null;if(n){if(!f)throw new Error("getSourceClientOffset must be defined");sc(f),u=f(i)}o.dispatch(At(n,u));let m=c.getSource(i).beginDrag(s,i);if(m==null)return;cc(m),c.pinSource(i);let D=c.getSourceType(i);return{type:he,payload:{itemType:D,item:m,sourceId:i,clientOffset:n||null,sourceClientOffset:u||null,isSourcePublic:!!a}}}}function lc(o,e,r){g(!e.isDragging(),"Cannot call beginDrag while dragging."),o.forEach(function(t){g(r.getSource(t),"Expected sourceIds to be registered.")})}function sc(o){g(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function cc(o){g(pr(o),"Item must be an object.")}function dc(o,e){let r=null;for(let t=o.length-1;t>=0;t--)if(e.canDragSource(o[t])){r=o[t];break}return r}function uc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function ic(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){uc(o,a,r[a])})}return o}function Fn(o){return function(r={}){let t=o.getMonitor(),a=o.getRegistry();pc(t),xc(t).forEach((f,s)=>{let c=mc(f,s,a,t),i={type:Se,payload:{dropResult:ic({},r,c)}};o.dispatch(i)})}}function pc(o){g(o.isDragging(),"Cannot call drop while not dragging."),g(!o.didDrop(),"Cannot call drop twice during one drag operation.")}function mc(o,e,r,t){let a=r.getTarget(o),n=a?a.drop(t,o):void 0;return Ic(n),typeof n>"u"&&(n=e===0?{}:t.getDropResult()),n}function Ic(o){g(typeof o>"u"||pr(o),"Drop result must either be an object or undefined.")}function xc(o){let e=o.getTargetIds().filter(o.canDropOnTarget,o);return e.reverse(),e}function bn(o){return function(){let r=o.getMonitor(),t=o.getRegistry();gc(r);let a=r.getSourceId();return a!=null&&(t.getSource(a,!0).endDrag(r,a),t.unpinSource()),{type:De}}}function gc(o){g(o.isDragging(),"Cannot call endDrag while not dragging.")}function Bo(o,e){return e===null?o===null:Array.isArray(o)?o.some(r=>r===e):o===e}function Pn(o){return function(r,{clientOffset:t}={}){hc(r);let a=r.slice(0),n=o.getMonitor(),f=o.getRegistry(),s=n.getItemType();return Sc(a,f,s),Cc(a,n,f),Dc(a,n,f),{type:Ce,payload:{targetIds:a,clientOffset:t||null}}}}function hc(o){g(Array.isArray(o),"Expected targetIds to be an array.")}function Cc(o,e,r){g(e.isDragging(),"Cannot call hover while not dragging."),g(!e.didDrop(),"Cannot call hover after drop.");for(let t=0;t<o.length;t++){let a=o[t];g(o.lastIndexOf(a)===t,"Expected targetIds to be unique in the passed array.");let n=r.getTarget(a);g(n,"Expected targetIds to be registered.")}}function Sc(o,e,r){for(let t=o.length-1;t>=0;t--){let a=o[t],n=e.getTargetType(a);Bo(n,r)||o.splice(t,1)}}function Dc(o,e,r){o.forEach(function(t){r.getTarget(t).hover(e,t)})}function On(o){return function(){if(o.getMonitor().isDragging())return{type:Je}}}function Bn(o){return{beginDrag:vn(o),publishDragSource:On(o),hover:Pn(o),drop:Fn(o),endDrag:bn(o)}}var mr=class{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let e=this,{dispatch:r}=this.store;function t(n){return(...f)=>{let s=n.apply(e,f);typeof s<"u"&&r(s)}}let a=Bn(this);return Object.keys(a).reduce((n,f)=>{let s=a[f];return n[f]=t(s),n},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{let t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}};function yc(o,e){return{x:o.x+e.x,y:o.y+e.y}}function wn(o,e){return{x:o.x-e.x,y:o.y-e.y}}function Tn(o){let{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:t}=o;return!e||!r||!t?null:wn(yc(e,t),r)}function Ln(o){let{clientOffset:e,initialClientOffset:r}=o;return!e||!r?null:wn(e,r)}var eo=[],Ir=[];eo.__IS_NONE__=!0;Ir.__IS_ALL__=!0;function Rn(o,e){return o===eo?!1:o===Ir||typeof e>"u"?!0:yn(e,o).length>0}var xr=class{subscribeToStateChange(e,r={}){let{handlerIds:t}=r;g(typeof e=="function","listener must be a function."),g(typeof t>"u"||Array.isArray(t),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId,n=()=>{let f=this.store.getState(),s=f.stateId;try{s===a||s===a+1&&!Rn(f.dirtyHandlerIds,t)||e()}finally{a=s}};return this.store.subscribe(n)}subscribeToOffsetChange(e){g(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset,t=()=>{let a=this.store.getState().dragOffset;a!==r&&(r=a,e())};return this.store.subscribe(t)}canDragSource(e){if(!e)return!1;let r=this.registry.getSource(e);return g(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let r=this.registry.getTarget(e);if(g(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let t=this.registry.getTargetType(e),a=this.getItemType();return Bo(t,a)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;let r=this.registry.getSource(e,!0);if(g(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;let t=this.registry.getSourceType(e),a=this.getItemType();return t!==a?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;let{shallow:t}=r;if(!this.isDragging())return!1;let a=this.registry.getTargetType(e),n=this.getItemType();if(n&&!Bo(a,n))return!1;let f=this.getTargetIds();if(!f.length)return!1;let s=f.indexOf(e);return t?s===f.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Tn(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Ln(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}};var An=typeof globalThis<"u"?globalThis:self,Mn=An.MutationObserver||An.WebKitMutationObserver;function Mt(o){return function(){let r=setTimeout(a,0),t=setInterval(a,50);function a(){clearTimeout(r),clearInterval(t),o()}}}function vc(o){let e=1,r=new Mn(o),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){e=-e,t.data=e}}var kn=typeof Mn=="function"?vc:Mt;var gr=class{enqueueTask(e){let{queue:r,requestFlush:t}=this;r.length||(t(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let t=0,a=e.length-this.index;t<a;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=kn(this.flush),this.requestErrorThrow=Mt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};var hr=class{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}};var Cr=class{create(e){let r=this.freeTasks,t=r.length?r.pop():new hr(this.onError,a=>r[r.length]=a);return t.task=e,t}constructor(e){this.onError=e,this.freeTasks=[]}};var En=new gr,Fc=new Cr(En.registerPendingError);function Nn(o){En.enqueueTask(Fc.create(o))}var wo="dnd-core/ADD_SOURCE",To="dnd-core/ADD_TARGET",Lo="dnd-core/REMOVE_SOURCE",Re="dnd-core/REMOVE_TARGET";function Hn(o){return{type:wo,payload:{sourceId:o}}}function qn(o){return{type:To,payload:{targetId:o}}}function Un(o){return{type:Lo,payload:{sourceId:o}}}function _n(o){return{type:Re,payload:{targetId:o}}}function zn(o){g(typeof o.canDrag=="function","Expected canDrag to be a function."),g(typeof o.beginDrag=="function","Expected beginDrag to be a function."),g(typeof o.endDrag=="function","Expected endDrag to be a function.")}function Wn(o){g(typeof o.canDrop=="function","Expected canDrop to be a function."),g(typeof o.hover=="function","Expected hover to be a function."),g(typeof o.drop=="function","Expected beginDrag to be a function.")}function Sr(o,e){if(e&&Array.isArray(o)){o.forEach(r=>Sr(r,!1));return}g(typeof o=="string"||typeof o=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var K;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(K||(K={}));var bc=0;function Gn(){return bc++}function Pc(o){let e=Gn().toString();switch(o){case K.SOURCE:return`S${e}`;case K.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${o}`)}}function Vn(o){switch(o[0]){case"S":return K.SOURCE;case"T":return K.TARGET;default:throw new Error(`Cannot parse handler ID: ${o}`)}}function jn(o,e){let r=o.entries(),t=!1;do{let{done:a,value:[,n]}=r.next();if(n===e)return!0;t=!!a}while(!t);return!1}var Dr=class{addSource(e,r){Sr(e),zn(r);let t=this.addHandler(K.SOURCE,e,r);return this.store.dispatch(Hn(t)),t}addTarget(e,r){Sr(e,!0),Wn(r);let t=this.addHandler(K.TARGET,e,r);return this.store.dispatch(qn(t)),t}containsHandler(e){return jn(this.dragSources,e)||jn(this.dropTargets,e)}getSource(e,r=!1){return g(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return g(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Vn(e)===K.SOURCE}isTargetId(e){return Vn(e)===K.TARGET}removeSource(e){g(this.getSource(e),"Expected an existing source."),this.store.dispatch(Un(e)),Nn(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){g(this.getTarget(e),"Expected an existing target."),this.store.dispatch(_n(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let r=this.getSource(e);g(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){g(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,t){let a=Pc(e);return this.types.set(a,r),e===K.SOURCE?this.dragSources.set(a,t):e===K.TARGET&&this.dropTargets.set(a,t),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}};var Oc=(o,e)=>o===e;function Xn(o,e){return!o&&!e?!0:!o||!e?!1:o.x===e.x&&o.y===e.y}function Kn(o,e,r=Oc){if(o.length!==e.length)return!1;for(let t=0;t<o.length;++t)if(!r(o[t],e[t]))return!1;return!0}function Yn(o=eo,e){switch(e.type){case Ce:break;case wo:case To:case Re:case Lo:return eo;case he:case Je:case De:case Se:default:return Ir}let{targetIds:r=[],prevTargetIds:t=[]}=e.payload,a=Dn(r,t);if(!(a.length>0||!Kn(r,t)))return eo;let f=t[t.length-1],s=r[r.length-1];return f!==s&&(f&&a.push(f),s&&a.push(s)),a}function Bc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function wc(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Bc(o,a,r[a])})}return o}var Zn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Qn(o=Zn,e){let{payload:r}=e;switch(e.type){case $e:case he:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ce:return Xn(o.clientOffset,r.clientOffset)?o:wc({},o,{clientOffset:r.clientOffset});case De:case Se:return Zn;default:return o}}function Tc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function oo(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Tc(o,a,r[a])})}return o}var Lc={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function $n(o=Lc,e){let{payload:r}=e;switch(e.type){case he:return oo({},o,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Je:return oo({},o,{isSourcePublic:!0});case Ce:return oo({},o,{targetIds:r.targetIds});case Re:return o.targetIds.indexOf(r.targetId)===-1?o:oo({},o,{targetIds:Sn(o.targetIds,r.targetId)});case Se:return oo({},o,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case De:return oo({},o,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return o}}function Jn(o=0,e){switch(e.type){case wo:case To:return o+1;case Lo:case Re:return o-1;default:return o}}function ef(o=0){return o+1}function Rc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Ac(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Rc(o,a,r[a])})}return o}function of(o={},e){return{dirtyHandlerIds:Yn(o.dirtyHandlerIds,{type:e.type,payload:Ac({},e.payload,{prevTargetIds:Cn(o,"dragOperation.targetIds",[])})}),dragOffset:Qn(o.dragOffset,e),refCount:Jn(o.refCount,e),dragOperation:$n(o.dragOperation,e),stateId:ef(o.stateId)}}function rf(o,e=void 0,r={},t=!1){let a=Mc(t),n=new xr(a,new Dr(a)),f=new mr(a,n),s=o(f,e,r);return f.receiveBackend(s),f}function Mc(o){let e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Rt(of,o&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var vr=l(y(),1);function kc(o,e){if(o==null)return{};var r=Ec(o,e),t,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);for(a=0;a<n.length;a++)t=n[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(o,t)&&(r[t]=o[t])}return r}function Ec(o,e){if(o==null)return{};var r={},t=Object.keys(o),a,n;for(n=0;n<t.length;n++)a=t[n],!(e.indexOf(a)>=0)&&(r[a]=o[a]);return r}var tf=0,yr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),nf=(0,vr.memo)(function(e){var{children:r}=e,t=kc(e,["children"]);let[a,n]=Nc(t);return(0,vr.useEffect)(()=>{if(n){let f=ff();return++tf,()=>{--tf===0&&(f[yr]=null)}}},[]),(0,af.jsx)(ir.Provider,{value:a,children:r})});function Nc(o){if("manager"in o)return[{dragDropManager:o.manager},!1];let e=Hc(o.backend,o.context,o.options,o.debugMode),r=!o.context;return[e,r]}function Hc(o,e=ff(),r,t){let a=e;return a[yr]||(a[yr]={dragDropManager:rf(o,e,r,t)}),a[yr]}function ff(){return typeof globalThis<"u"?globalThis:window}var cf=l(sf(),1),br=l(y(),1);var Fr=l(y(),1),Y=typeof window<"u"?Fr.useLayoutEffect:Fr.useEffect;function df(o,e,r){let[t,a]=(0,br.useState)(()=>e(o)),n=(0,br.useCallback)(()=>{let f=e(o);(0,cf.default)(t,f)||(a(f),r&&r())},[t,o,r]);return Y(n),[t,n]}function uf(o,e,r){let[t,a]=df(o,e,r);return Y(function(){let f=o.getHandlerId();if(f!=null)return o.subscribeToStateChange(a,{handlerIds:[f]})},[o,a]),t}function Pr(o,e,r){return uf(e,o||(()=>({})),()=>r.reconnect())}var pf=l(y(),1);function Or(o,e){let r=[...e||[]];return e==null&&typeof o!="function"&&r.push(o),(0,pf.useMemo)(()=>typeof o=="function"?o():o,r)}var kt=l(y(),1);function mf(o){return(0,kt.useMemo)(()=>o.hooks.dragSource(),[o])}function If(o){return(0,kt.useMemo)(()=>o.hooks.dragPreview(),[o])}var Sf=l(y(),1);var Et=!1,Nt=!1,Br=class{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){g(!Et,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Et=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Et=!1}}isDragging(){if(!this.sourceId)return!1;g(!Nt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Nt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Nt=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}};var Ht=!1,wr=class{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;g(!Ht,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ht=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ht=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}};function xf(o,e,r){let t=r.getRegistry(),a=t.addTarget(o,e);return[a,()=>t.removeTarget(a)]}function gf(o,e,r){let t=r.getRegistry(),a=t.addSource(o,e);return[a,()=>t.removeSource(a)]}function Ro(o,e,r,t){let a=r?r.call(t,o,e):void 0;if(a!==void 0)return!!a;if(o===e)return!0;if(typeof o!="object"||!o||typeof e!="object"||!e)return!1;let n=Object.keys(o),f=Object.keys(e);if(n.length!==f.length)return!1;let s=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<n.length;c++){let i=n[c];if(!s(i))return!1;let u=o[i],p=e[i];if(a=r?r.call(t,u,p,i):void 0,a===!1||a===void 0&&u!==p)return!1}return!0}function Ao(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}var Mo=l(y(),1);function qc(o){if(typeof o.type=="string")return;let e=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Uc(o){return(e=null,r=null)=>{if(!(0,Mo.isValidElement)(e)){let n=e;return o(n,r),n}let t=e;return qc(t),_c(t,r?n=>o(n,r):o)}}function Tr(o){let e={};return Object.keys(o).forEach(r=>{let t=o[r];if(r.endsWith("Ref"))e[r]=o[r];else{let a=Uc(t);e[r]=()=>a}}),e}function hf(o,e){typeof o=="function"?o(e):o.current=e}function _c(o,e){let r=o.ref;return g(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,Mo.cloneElement)(o,{ref:t=>{hf(r,t),hf(e,t)}}):(0,Mo.cloneElement)(o,{ref:e})}var Lr=class{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){let r=this.dragPreview,t=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ro(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ro(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Tr({dragSource:(r,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ao(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ao(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}};var Rr=class{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ro(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Tr({dropTarget:(r,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ao(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}};var Cf=l(y(),1);function oe(){let{dragDropManager:o}=(0,Cf.useContext)(ir);return g(o!=null,"Expected drag drop context"),o}function Df(o,e){let r=oe(),t=(0,Sf.useMemo)(()=>new Lr(r.getBackend()),[r]);return Y(()=>(t.dragSourceOptions=o||null,t.reconnect(),()=>t.disconnectDragSource()),[t,o]),Y(()=>(t.dragPreviewOptions=e||null,t.reconnect(),()=>t.disconnectDragPreview()),[t,e]),t}var yf=l(y(),1);function vf(){let o=oe();return(0,yf.useMemo)(()=>new Br(o),[o])}var Mr=l(y(),1);var Ar=class{beginDrag(){let e=this.spec,r=this.monitor,t=null;return typeof e.item=="object"?t=e.item:typeof e.item=="function"?t=e.item(r):t={},t??null}canDrag(){let e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){let t=this.spec,a=this.monitor,{isDragging:n}=t;return n?n(a):r===e.getSourceId()}endDrag(){let e=this.spec,r=this.monitor,t=this.connector,{end:a}=e;a&&a(r.getItem(),r),t.reconnect()}constructor(e,r,t){this.spec=e,this.monitor=r,this.connector=t}};function Ff(o,e,r){let t=(0,Mr.useMemo)(()=>new Ar(o,e,r),[e,r]);return(0,Mr.useEffect)(()=>{t.spec=o},[o]),t}var bf=l(y(),1);function Pf(o){return(0,bf.useMemo)(()=>{let e=o.type;return g(e!=null,"spec.type must be defined"),e},[o])}function Of(o,e,r){let t=oe(),a=Ff(o,e,r),n=Pf(o);Y(function(){if(n!=null){let[s,c]=gf(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c}},[t,e,r,a,n])}function Bf(o,e){let r=Or(o,e);g(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let t=vf(),a=Df(r.options,r.previewOptions);return Of(r,t,a),[Pr(r.collect,t,a),mf(a),If(a)]}var wf=l(y(),1);function Tf(o){return(0,wf.useMemo)(()=>o.hooks.dropTarget(),[o])}var Lf=l(y(),1);function Rf(o){let e=oe(),r=(0,Lf.useMemo)(()=>new Rr(e.getBackend()),[e]);return Y(()=>(r.dropTargetOptions=o||null,r.reconnect(),()=>r.disconnectDropTarget()),[o]),r}var Af=l(y(),1);function Mf(){let o=oe();return(0,Af.useMemo)(()=>new wr(o),[o])}var kf=l(y(),1);function Ef(o){let{accept:e}=o;return(0,kf.useMemo)(()=>(g(o.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}var Er=l(y(),1);var kr=class{canDrop(){let e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){let e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){let e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}};function Nf(o,e){let r=(0,Er.useMemo)(()=>new kr(o,e),[e]);return(0,Er.useEffect)(()=>{r.spec=o},[o]),r}function Hf(o,e,r){let t=oe(),a=Nf(o,e),n=Ef(o);Y(function(){let[s,c]=xf(n,a,t);return e.receiveHandlerId(s),r.receiveHandlerId(s),c},[t,e,a,r,n.map(f=>f.toString()).join("|")])}function qf(o,e){let r=Or(o,e),t=Mf(),a=Rf(r.options);return Hf(r,t,a),[Pr(r.collect,t,a),Tf(a)]}function qt(o){let e=null;return()=>(e==null&&(e=o()),e)}function Uf(o,e){return o.filter(r=>r!==e)}function _f(o,e){let r=new Set,t=n=>r.add(n);o.forEach(t),e.forEach(t);let a=[];return r.forEach(n=>a.push(n)),a}var Nr=class{enter(e){let r=this.entered.length,t=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=_f(this.entered.filter(t),[e]),r===0&&this.entered.length>0}leave(e){let r=this.entered.length;return this.entered=Uf(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}};var Hr=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){let r={};Object.keys(this.config.exposeProperties).forEach(t=>{let a=this.config.exposeProperties[t];a!=null&&(r[t]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}};var ko={};Ys(ko,{FILE:()=>Ut,HTML:()=>Wt,TEXT:()=>zt,URL:()=>_t});var Ut="__NATIVE_FILE__",_t="__NATIVE_URL__",zt="__NATIVE_TEXT__",Wt="__NATIVE_HTML__";function qr(o,e,r){let t=e.reduce((a,n)=>a||o.getData(n),"");return t??r}var Ur={[Ut]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[Wt]:{exposeProperties:{html:(o,e)=>qr(o,e,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[_t]:{exposeProperties:{urls:(o,e)=>qr(o,e,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[zt]:{exposeProperties:{text:(o,e)=>qr(o,e,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function zf(o,e){let r=Ur[o];if(!r)throw new Error(`native type ${o} has no configuration`);let t=new Hr(r);return t.loadDataTransfer(e),t}function _r(o){if(!o)return null;let e=Array.prototype.slice.call(o.types||[]);return Object.keys(Ur).filter(r=>{let t=Ur[r];return t?.matchesTypes?t.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}var Wf=qt(()=>/firefox/i.test(navigator.userAgent)),Gt=qt(()=>Boolean(window.safari));var Eo=class{interpolate(e){let{xs:r,ys:t,c1s:a,c2s:n,c3s:f}=this,s=r.length-1;if(e===r[s])return t[s];let c=0,i=f.length-1,u;for(;c<=i;){u=Math.floor(.5*(c+i));let D=r[u];if(D<e)c=u+1;else if(D>e)i=u-1;else return t[u]}s=Math.max(0,i);let p=e-r[s],m=p*p;return t[s]+a[s]*p+n[s]*m+f[s]*p*m}constructor(e,r){let{length:t}=e,a=[];for(let x=0;x<t;x++)a.push(x);a.sort((x,C)=>e[x]<e[C]?-1:1);let n=[],f=[],s=[],c,i;for(let x=0;x<t-1;x++)c=e[x+1]-e[x],i=r[x+1]-r[x],f.push(c),n.push(i),s.push(i/c);let u=[s[0]];for(let x=0;x<f.length-1;x++){let C=s[x],P=s[x+1];if(C*P<=0)u.push(0);else{c=f[x];let h=f[x+1],b=c+h;u.push(3*b/((b+h)/C+(b+c)/P))}}u.push(s[s.length-1]);let p=[],m=[],D;for(let x=0;x<u.length-1;x++){D=s[x];let C=u[x],P=1/f[x],h=C+u[x+1]-D-D;p.push((D-C-h)*P),m.push(h*P*P)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=p,this.c3s=m}};var zc=1;function Vt(o){let e=o.nodeType===zc?o:o.parentElement;if(!e)return null;let{top:r,left:t}=e.getBoundingClientRect();return{x:t,y:r}}function No(o){return{x:o.clientX,y:o.clientY}}function Wc(o){var e;return o.nodeName==="IMG"&&(Wf()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(o)))}function Gc(o,e,r,t){let a=o?e.width:r,n=o?e.height:t;return Gt()&&o&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}function Gf(o,e,r,t,a){let n=Wc(e),s=Vt(n?o:e),c={x:r.x-s.x,y:r.y-s.y},{offsetWidth:i,offsetHeight:u}=o,{anchorX:p,anchorY:m}=t,{dragPreviewWidth:D,dragPreviewHeight:x}=Gc(n,e,i,u),C=()=>{let R=new Eo([0,.5,1],[c.y,c.y/u*x,c.y+x-u]).interpolate(m);return Gt()&&n&&(R+=(window.devicePixelRatio-1)*x),R},P=()=>new Eo([0,.5,1],[c.x,c.x/i*D,c.x+D-i]).interpolate(p),{offsetX:h,offsetY:b}=a,S=h===0||h,B=b===0||b;return{x:S?h:P(),y:B?b:C()}}var zr=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function Vc(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}function Vf(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),t.forEach(function(a){Vc(o,a,r[a])})}return o}var Wr=class{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,t){return this.sourcePreviewNodeOptions.set(e,t),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,t){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,t);let a=f=>this.handleDragStart(f,e),n=f=>this.handleSelectStart(f);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",n),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",n),r.setAttribute("draggable","false")}}connectDropTarget(e,r){let t=f=>this.handleDragEnter(f,e),a=f=>this.handleDragOver(f,e),n=f=>this.handleDrop(f,e);return r.addEventListener("dragenter",t),r.addEventListener("dragover",a),r.addEventListener("drop",n),()=>{r.removeEventListener("dragenter",t),r.removeEventListener("dragover",a),r.removeEventListener("drop",n)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Vf({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Vf({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(ko).some(r=>ko[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=zf(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;let r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var t;return(t=this.rootElement)===null||t===void 0?void 0:t.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,t){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{let n=this.sourceNodes.get(a);return n&&Vt(n)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>Boolean(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{let a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;let{dragStartSourceIds:n}=this;this.dragStartSourceIds=null;let f=No(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});let{dataTransfer:s}=a,c=_r(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){let u=this.monitor.getSourceId(),p=this.sourceNodes.get(u),m=this.sourcePreviewNodes.get(u)||p;if(m){let{anchorX:D,anchorY:x,offsetX:C,offsetY:P}=this.getCurrentSourcePreviewNodeOptions(),S=Gf(p,m,f,{anchorX:D,anchorY:x},{offsetX:C,offsetY:P});s.setDragImage(m,S.x,S.y)}}try{s?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);let{captureDraggingState:i}=this.getCurrentSourcePreviewNodeOptions();i?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;let{dataTransfer:s}=a,c=_r(s);c&&this.beginDragNativeItem(c,s)},this.handleTopDragEnter=a=>{let{dragEnterTargetIds:n}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,n.length>0&&this.actions.hover(n,{clientOffset:No(a)}),n.some(s=>this.monitor.canDropOnTarget(s))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var n;(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{let{dragOverTargetIds:n}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=No(a),this.scheduleHover(n),(n||[]).some(s=>this.monitor.canDropOnTarget(s))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var n;a.preventDefault(),(n=this.currentNativeSource)===null||n===void 0||n.loadDataTransfer(a.dataTransfer)}else _r(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{let{dropTargetIds:n}=this;this.dropTargetIds=[],this.actions.hover(n,{clientOffset:No(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{let n=a.target;typeof n.dragDrop=="function"&&(n.tagName==="INPUT"||n.tagName==="SELECT"||n.tagName==="TEXTAREA"||n.isContentEditable||(a.preventDefault(),n.dragDrop()))},this.options=new zr(r,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Nr(this.isNodeInDocument)}};var jf=function(e,r,t){return new Wr(e,r,t)};function Xf(o){let{selectable:e,draggable:r,locked:t}=o??{},a=o?.showIcons===void 0?!0:o.showIcons;return{draggable:!!r,selectable:!!e,locked:t??[],showIcons:a}}var Ho=l(y(),1);function Kf(o,e,r,t){let{isSelected:a,onSelect:n}=e??{},f=(0,Ho.useCallback)(u=>()=>{u&&n?.(u)},[n]),s=(0,Ho.useCallback)(()=>{n?.(o.filter(u=>!!u.path).map(u=>u.path??""))},[n,o]),c=(0,Ho.useCallback)(u=>p=>{r?.(u,p)},[r]),i=(0,Ho.useCallback)((u,p)=>{t?.(u,p)},[t]);return{change:c,drop:i,isSelected:a,select:f,selectAll:s}}var $f=l(ge(),1);var Yf=l(y(),1);function jc(o){return o.map(e=>({path:e}))}function Zf(o,e,r,t){let a=(0,Yf.useRef)(null),[{isDragging:n},f]=Bf(()=>({type:o,item:()=>r?.selected&&r?.selected?.length>0?jc(r.selected):[e],canDrag:()=>!!e.drag,collect:u=>({isDragging:!!u.isDragging()})}),[r]),[{isOver:s,canDrop:c},i]=qf(()=>({accept:o,canDrop:u=>!!e.drop&&!u.find(p=>p.path===e.path),drop:u=>{e.path&&t?.(u.map(p=>p.path??""),e.path)},collect:u=>({isOver:!!u.isOver(),canDrop:!!u.canDrop()})}));return i(f(a)),{ref:a,isDragging:n,isOver:c&&s}}function Qf(o){return{path:o.path,drag:!o.draft,drop:o.acceptDrop}}var ro={drag:"hYjIl",drop:"VSAdj",locked:"uCQKv"};var jt=l(d(),1);function Jf({selection:o,onDrop:e,...r}){let{item:t}=r,{ref:a,isDragging:n,isOver:f}=Zf("file",Qf(t),o,e),s=r.component;return(0,jt.jsx)(w.Tr,{ref:a,className:(0,$f.default)(r.locked&&ro.locked,n&&ro.drag,f&&ro.drop),children:(0,jt.jsx)(s,{...r})})}var el=l(ge(),1);var Xt=l(d(),1);function ol(o){let e=o.component;return(0,Xt.jsx)(w.Tr,{className:(0,el.default)(o.locked&&ro.locked),style:{userDrag:"none",WebkitUserDrag:"none"},children:(0,Xt.jsx)(e,{...o})})}var Kt=l(d(),1);function rl({draggable:o,...e}){return o?(0,Kt.jsx)(Jf,{...e}):(0,Kt.jsx)(ol,{...e})}var tl={table:"u7447",thead:"VgQ3Y",tr:"WpJ8d",td:"wRrzH",th:"y7gsS"};var Ae=l(d(),1);function al({data:o,selection:e,component:r,config:t,children:a,handlers:n}){let{selectable:f,draggable:s,locked:c}=t??{},i=t?.showIcons===void 0?!0:t.showIcons,u=p=>c?.includes(p.path??"")||c?.includes(p.text??"");return(0,Ae.jsx)(ya,{children:(0,Ae.jsxs)(w,{highlightOnHover:!0,classNames:tl,horizontalSpacing:"0",miw:800,verticalSpacing:"sm",children:[a,(0,Ae.jsx)(w.Tbody,{children:o.map(({key:p,...m})=>(0,Ae.jsx)(rl,{checked:n.isSelected?.(p),component:r,draggable:s,locked:u(m),selection:e,item:{...m,icon:!m.icon&&u(m)?(0,Ae.jsx)(Fa,{color:"gray",size:"xs"}):m.icon,selectable:f,showIcon:i},onDrop:n.drop,onToggle:n.select?.(m.path),onSave:n.change({key:p,...m})},p))})]})})}var nl=l(ge(),1);var qo={container:"OyLcf",selected:"BcIMD",actions:"_7OG-U"};var Z=l(d(),1);function fl({selected:o,selection:e,total:r,selectionActions:t,onSelectAll:a}){return(0,Z.jsx)(w.Thead,{children:(0,Z.jsxs)(w.Tr,{children:[(0,Z.jsx)(w.Th,{w:"40px",children:(0,Z.jsx)(fr,{checked:o&&e.length===r,indeterminate:o&&e.length!==r,onChange:a})}),(0,Z.jsx)(w.Th,{colSpan:5,children:(0,Z.jsxs)("div",{className:qo.container,children:[(0,Z.jsx)("span",{className:(0,nl.default)(qo.selected,e&&e.length<1&&qo.empty),children:o&&(0,Z.jsxs)(Z.Fragment,{children:[e.length," selected"]})}),(0,Z.jsx)("div",{className:qo.actions,children:t})]})})]})})}var Gr=l(d(),1);function Vr({data:o,component:e,config:r,selection:t,selectionActions:a,onChange:n,onDrop:f}){let s=Xf(r),c=Kf(o,t,n,f),{selected:i,empty:u}=t??{},p=(0,Gr.jsx)(al,{component:e,config:s,data:o,handlers:c,selection:t,children:i&&(0,Gr.jsx)(fl,{selected:!u,selection:i,selectionActions:a,total:o.length,onSelectAll:c.selectAll})});return s.draggable?(0,Gr.jsx)(nf,{backend:jf,children:p}):p}var Ee=l(y(),1);var Q=l(y(),1);function ll(o,e,r){return r.indexOf(o)===e}function sl(o){let[e,r]=(0,Q.useState)(o),t=(0,Q.useMemo)(()=>e.length<1,[e]),a=(0,Q.useCallback)(p=>{r(p([...e]))},[e]),n=(0,Q.useCallback)(p=>{a(m=>(m.splice(m.indexOf(p),1),m))},[a]),f=(0,Q.useCallback)(p=>{a(m=>(m.push(p),m))},[a]),s=(0,Q.useCallback)(p=>{e.includes(p[0])?r(e.filter(m=>!p.includes(m))):r([...e,...p].filter(ll))},[e]),c=(0,Q.useCallback)(p=>{Array.isArray(p)?s(p):e.includes(p)?n(p):f(p)},[e,n,f,s]),i=(0,Q.useCallback)(p=>!!e?.includes(p),[e]),u=(0,Q.useCallback)(()=>{r([])},[]);return(0,Q.useMemo)(()=>({selected:e,empty:t,onSelect:c,isSelected:i,reset:u,set:r}),[e,t,c,i,u])}var cl=l(y(),1);var to=l(d(),1);function jr({item:o,size:e}){let{edit:r}=U(),t=(0,cl.useCallback)(()=>{r(o)},[r,o]);return(0,to.jsx)(to.Fragment,{children:(0,to.jsx)(fe,{size:e??"lg",variant:"subtle",onClick:t,children:(0,to.jsx)(xt,{size:20})})})}var Me=l(d(),1);function dl({dir:o}){return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(jr,{item:o,size:"md"}),(0,Me.jsx)(Qe,{files:[o.path],size:"md"})]})}var ao=l(d(),1);function ul({file:o,size:e}){let{top:r}=M();return(0,ao.jsx)(ao.Fragment,{children:(0,ao.jsx)(fe,{size:e??"lg",variant:"subtle",onClick:()=>{r&&window.open(`/api/download?hash=${r.hash}&file=${lr(r,o.path)}`)},children:(0,ao.jsx)(mt,{size:20})})})}var ye=l(d(),1);function il({file:o}){return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(jr,{item:o,size:"md"}),(0,ye.jsx)(ul,{file:o,size:"md"}),(0,ye.jsx)(Qe,{files:[o.path],size:"md"})]})}var no=l(d(),1);function pl({prefix:o,postfix:e,text:r,styles:t}){return(0,no.jsxs)("li",{children:[o&&(0,no.jsx)("span",{className:t.prefix,children:o}),(0,no.jsx)("span",{className:t.text,children:r}),e&&(0,no.jsx)("span",{className:t.postfix,children:e})]})}var Yt={container:"oPZRi",prefix:"KJqnO",postfix:"tk45f"};var Xr=l(d(),1),Xc=16;function Kr({items:o}){return(0,Xr.jsx)("ul",{className:Yt.container,children:o.map(e=>{if(!e)return null;let r=e.icon;return(0,Xr.jsx)(pl,{postfix:r&&(0,Xr.jsx)(r,{size:Xc}),styles:Yt,text:e.content},e.key)})})}var Kc="array",Yc="bit",ml="bits",Zc="byte",Il="bytes",fo="",Qc="exponent",$c="function",xl="iec",Jc="Invalid number",ed="Invalid rounding method",Zt="jedec",od="object",gl=".",rd="round",td="s",ad="si",nd="kbit",fd="kB",ld=" ",sd="string",cd="0",Qt={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Uo(o,{bits:e=!1,pad:r=!1,base:t=-1,round:a=2,locale:n=fo,localeOptions:f={},separator:s=fo,spacer:c=ld,symbols:i={},standard:u=fo,output:p=sd,fullform:m=!1,fullforms:D=[],exponent:x=-1,roundingMethod:C=rd,precision:P=0}={}){let h=x,b=Number(o),S=[],B=0,G=fo;u===ad?(t=10,u=Zt):u===xl||u===Zt?t=2:t===2?u=xl:(t=10,u=Zt);let R=t===10?1e3:1024,$=m===!0,V=b<0,j=Math[C];if(typeof o!="bigint"&&isNaN(o))throw new TypeError(Jc);if(typeof j!==$c)throw new TypeError(ed);if(V&&(b=-b),(h===-1||isNaN(h))&&(h=Math.floor(Math.log(b)/Math.log(R)),h<0&&(h=0)),h>8&&(P>0&&(P+=8-h),h=8),p===Qc)return h;if(b===0)S[0]=0,G=S[1]=Qt.symbol[u][e?ml:Il][h];else{B=b/(t===2?Math.pow(2,h*10):Math.pow(1e3,h)),e&&(B=B*8,B>=R&&h<8&&(B=B/R,h++));let A=Math.pow(10,h>0?a:0);S[0]=j(B*A)/A,S[0]===R&&h<8&&x===-1&&(S[0]=1,h++),G=S[1]=t===10&&h===1?e?nd:fd:Qt.symbol[u][e?ml:Il][h]}if(V&&(S[0]=-S[0]),P>0&&(S[0]=S[0].toPrecision(P)),S[1]=i[S[1]]||S[1],n===!0?S[0]=S[0].toLocaleString():n.length>0?S[0]=S[0].toLocaleString(n,f):s.length>0&&(S[0]=S[0].toString().replace(gl,s)),r&&Number.isInteger(S[0])===!1&&a>0){let A=s||gl,ne=S[0].toString().split(A),de=ne[1]||fo,T=de.length,H=a-T;S[0]=`${ne[0]}${A}${de.padEnd(T+H,cd)}`}return $&&(S[1]=D[h]?D[h]:Qt.fullform[u][h]+(e?Yc:Zc)+(S[0]===1?fo:td)),p===Kc?S:p===od?{value:S[0],symbol:S[1],exponent:h,unit:G}:S.join(c)}var hl={container:"VZst4"};var Sl=l(d(),1);function Cl({path:o}){let e=o.split(".").pop();return e?(0,Sl.jsx)("span",{className:hl.container,children:e}):null}var yl=l(d(),1);function Dl(o){let e=[];return e.push({key:"size",content:Uo(o.size)}),e.push({key:"ext",content:(0,yl.jsx)(Cl,{path:o.filename})}),e}var Fl=l(d(),1);function vl({data:o}){return(0,Fl.jsx)(Kr,{items:Dl(o)})}function bl(o){let e=[];return e.push(o.folders.length>0&&{key:"folders",icon:we,content:o.folders.length}),e.push(o.files.length>0&&{key:"files",icon:ht,content:o.files.length}),e}var Pl=l(d(),1);function Yr({data:o}){return(0,Pl.jsx)(Kr,{items:bl(o)})}var ke=l(d(),1);function dd(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.path,path:r.path,text:r.filename,draft:r.draft,info:(0,ke.jsx)(vl,{data:r}),actions:(0,ke.jsx)(il,{file:r})})}),e}function ud(o,e,r){let t=[];return o&&e&&(r&&t.push({key:r,path:r,acceptDrop:!0,draft:!1,text:"..",icon:(0,ke.jsx)(It,{}),link:r===e.path?`/view/${e.hash}`:`/view/${e.hash}${lr(e,r)}`}),o.forEach(a=>{t.push({key:a.path,path:a.path,acceptDrop:!0,draft:a.draft,text:a.filename,link:`/view/${e.hash}/${a.relative}`,info:(0,ke.jsx)(Yr,{data:a}),icon:(0,ke.jsx)(we,{}),actions:(0,ke.jsx)(dl,{dir:a})})})),t}function $t(o,e){let r=[],t=ud(e?.folders,o,e?.hash?void 0:e?.dir),a=dd(e?.files);return t.length>0&&r.push(...t),a.length>0&&r.push(...a),r}function Ol(){let o=sl([]),{set:e}=o,{top:r}=M(),{data:t}=U(),[a,n]=(0,Ee.useState)($t(r,t));return(0,Ee.useEffect)(()=>{n($t(r,t))},[r,t]),(0,Ee.useEffect)(()=>{e([])},[t,e]),(0,Ee.useMemo)(()=>({list:a,selection:o}),[a,o])}var Jt=l(d(),1);function Bl(){let{list:o,selection:e}=Ol(),{locked:r}=M(),t=Ke();return(0,Jt.jsx)(Vr,{component:ur,data:o,selection:e,selectionActions:(0,Jt.jsx)(an,{selection:e}),config:{draggable:!0,selectable:!0,locked:r},onChange:t.rename,onDrop:t.move})}var ea=l(d(),1);function wl(){return(0,ea.jsx)("div",{children:(0,ea.jsx)(Bl,{})})}var Ll=l(d(),1);function Tl(){let{data:o}=U();return o?(0,Ll.jsx)(wl,{}):null}var lo=l(y(),1);var Rl=l(d(),1);function oa(o){let e=[];return o&&o.forEach(r=>{e.push({key:r.hash,text:`${r.path}`,link:`/view/${r.hash}`,info:(0,Rl.jsx)(Yr,{data:r})})}),e}function Al(){let{paths:o}=M(),[e,r]=(0,lo.useState)(oa(o));return(0,lo.useEffect)(()=>{r(oa(o))},[o]),(0,lo.useMemo)(()=>({list:e}),[e])}var kl=l(d(),1);function Ml(){let{list:o}=Al();return(0,kl.jsx)(Vr,{component:ur,config:{showIcons:!1},data:o})}var ra=l(d(),1);function El(){return(0,ra.jsx)("div",{children:(0,ra.jsx)(Ml,{})})}var Nl={separator:"_7DbBF",breadcrumb:"B4n0u"};var ve=l(y(),1);var Zr="...";function Hl(o){return o?.path.split("/").pop()??""}function id(o){return{link:`/view/${o.hash}`,text:Hl(o)??Zr}}function ta(o,e){return o?.filename??Hl(e)??Zr}function aa(o,e){if(!o||!e)return[];let r=[],t=id(o),a=e.relative.split("/");for(let n=1;n<a.length;n++)r.push({link:`${t.link}/${a.slice(0,n).join("/")}`,text:a[n-1]??Zr});return[t,...r]}function ql(){let{folder:o,top:e}=M(),[r,t]=(0,ve.useState)(ta(o,e)),[a,n]=(0,ve.useState)(aa(e,o)),f=(0,ve.useMemo)(()=>!!e,[e]);return(0,ve.useEffect)(()=>{t(ta(o,e)),n(aa(e,o))},[e,o]),(0,ve.useMemo)(()=>({visible:f,active:r,path:a}),[r,a,f])}var _o=l(d(),1);function Ul(){let{visible:o,path:e,active:r}=ql();return o?(0,_o.jsxs)(Pa,{classNames:Nl,children:[e.map(t=>(0,_o.jsx)(Be,{component:Ge,to:t.link,children:t.text},t.link)),(0,_o.jsx)(Be,{c:"primary.0",underline:"never",children:r})]}):null}var _l={header:"rJESL"};var so=l(d(),1);function zl({children:o,actions:e}){return(0,so.jsx)(Do.Header,{className:_l.header,children:(0,so.jsx)(Xe,{bg:"primary.8",children:(0,so.jsxs)(So,{h:"60px",px:"md",children:[o,(0,so.jsx)(So,{ml:"auto",children:e})]})})})}var zo=l(d(),1);function Wl(){return(0,zo.jsxs)("svg",{fill:"none",height:"30",viewBox:"0 0 1236 861",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[(0,zo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.22 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.155 3.023C785.315 53.028 826.35 97.39 841.7 150.347Z",fill:"none",fillRule:"evenodd"}),(0,zo.jsx)("path",{clipRule:"evenodd",d:"M841.7 150.347c58.936-24.994 126.634-30.288 192.71-10.322 149.92 45.303 234.71 203.494 189.38 353.331-33.73 111.498-129.94 186.862-238.681 199.561-57.221 128.709-202.729 197.696-341.115 155.879a285.391 285.391 0 0 1-40.637-15.743c-34.28 13.779-73.388 16.468-111.561 4.933-58.934-17.809-100.926-64.984-114.789-120.654-54.691 19.102-115.716 21.683-175.415 3.643C51.672 675.672-33.117 517.481 12.211 367.644c33.73-111.497 129.936-186.862 238.68-199.561C308.112 39.373 453.62-29.613 592.006 12.204a284.848 284.848 0 0 1 50.417 20.656c27.59-6.295 57.174-5.735 86.154 3.023C785.315 53.028 826.35 97.39 841.7 150.347ZM738.148 292.981l-10.577-19.733-49.502 26.502 56.252 104.95.028-.015 2.655 4.954 105.008-56.22-26.517-49.474-22.836 12.226c41.64-65.635 123.329-98.347 201.398-74.756 93.903 28.374 147.003 127.454 118.613 221.301-22.1 73.069-87.09 121.422-159.108 125.859a236.615 236.615 0 0 1-9.347 48.877 240.002 240.002 0 0 1-3.151 9.67c.501.004-.5 0 0 0-37.874 117.762-161.876 183.892-280.818 147.95-20.299-6.133-39.109-14.848-56.179-25.674-27.119 18.559-62.109 25.111-96.019 14.864-43.114-13.028-72.627-49.631-78.685-91.422-2.285-15.761-1.233-32.26 3.683-48.511a113.666 113.666 0 0 1 1.894-5.712c22.592-17.165 42.218-38.487 57.575-63.267a113.09 113.09 0 0 1 5.829-2.561l8.769 16.361 49.502-26.502-56.252-104.95-.029.015-2.651-4.946-105.009 56.22 26.518 49.474 22.836-12.226c-41.641 65.635-123.329 98.347-201.398 74.756-93.9-28.374-147.005-127.454-118.615-221.301 22.104-73.069 87.095-121.422 159.11-125.859 1.355-16.262 4.431-32.628 9.347-48.877a238.962 238.962 0 0 1 3.15-9.67C330.945 96.642 456.339 29.843 575.754 65.928c21.722 6.563 41.739 16.082 59.743 27.983 23.46-10.085 50.47-12.27 76.828-4.305 42.239 12.764 71.423 48.153 78.287 88.881 2.785 16.523 1.897 33.926-3.284 51.052a114.683 114.683 0 0 1-2.069 6.194 234.335 234.335 0 0 0-46.379 56.8c-.244.15-.488.3-.732.448Z",fill:"currentColor",fillRule:"evenodd"})]})}var na=l(d(),1);function Gl({to:o}){return(0,na.jsx)(Be,{c:"primary.4",component:Ge,h:"30px",lh:"30px",to:o,children:(0,na.jsx)(Wl,{})})}var Wo=l(d(),1);function Vl({actions:o}){return(0,Wo.jsxs)(zl,{actions:o,children:[(0,Wo.jsx)(Gl,{to:"/"}),(0,Wo.jsx)(Ul,{})]})}var Go=l(d(),1);function jl({headerActions:o,children:e}){return(0,Go.jsxs)(Do,{children:[(0,Go.jsx)(Vl,{actions:o}),(0,Go.jsx)(Do.Main,{children:e})]})}var lt=l(y(),1);var qe=l(d(),1);var v=l(y(),1),O=l(es(),1);var Id=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function co(o,e){let r=xd(o);if(typeof r.path!="string"){let{webkitRelativePath:t}=o;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:o.name,writable:!1,configurable:!1,enumerable:!0})}return r}function xd(o){let{name:e}=o;if(e&&e.lastIndexOf(".")!==-1&&!o.type){let t=e.split(".").pop().toLowerCase(),a=Id.get(t);a&&Object.defineProperty(o,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return o}var uo=(o,e,r)=>new Promise((t,a)=>{var n=c=>{try{s(r.next(c))}catch(i){a(i)}},f=c=>{try{s(r.throw(c))}catch(i){a(i)}},s=c=>c.done?t(c.value):Promise.resolve(c.value).then(n,f);s((r=r.apply(o,e)).next())}),gd=[".DS_Store","Thumbs.db"];function ts(o){return uo(this,null,function*(){return Qr(o)&&hd(o.dataTransfer)?yd(o.dataTransfer,o.type):Cd(o)?Sd(o):Array.isArray(o)&&o.every(e=>"getFile"in e&&typeof e.getFile=="function")?Dd(o):[]})}function hd(o){return Qr(o)}function Cd(o){return Qr(o)&&Qr(o.target)}function Qr(o){return typeof o=="object"&&o!==null}function Sd(o){return fa(o.target.files).map(e=>co(e))}function Dd(o){return uo(this,null,function*(){return(yield Promise.all(o.map(r=>r.getFile()))).map(r=>co(r))})}function yd(o,e){return uo(this,null,function*(){if(o.items){let r=fa(o.items).filter(a=>a.kind==="file");if(e!=="drop")return r;let t=yield Promise.all(r.map(vd));return os(as(t))}return os(fa(o.files).map(r=>co(r)))})}function os(o){return o.filter(e=>gd.indexOf(e.name)===-1)}function fa(o){if(o===null)return[];let e=[];for(let r=0;r<o.length;r++){let t=o[r];e.push(t)}return e}function vd(o){if(typeof o.webkitGetAsEntry!="function")return rs(o);let e=o.webkitGetAsEntry();return e&&e.isDirectory?ns(e):rs(o)}function as(o){return o.reduce((e,r)=>[...e,...Array.isArray(r)?as(r):[r]],[])}function rs(o){let e=o.getAsFile();if(!e)return Promise.reject(`${o} is not a File`);let r=co(e);return Promise.resolve(r)}function Fd(o){return uo(this,null,function*(){return o.isDirectory?ns(o):bd(o)})}function ns(o){let e=o.createReader();return new Promise((r,t)=>{let a=[];function n(){e.readEntries(f=>uo(this,null,function*(){if(f.length){let s=Promise.all(f.map(Fd));a.push(s),n()}else try{let s=yield Promise.all(a);r(s)}catch(s){t(s)}}),f=>{t(f)})}n()})}function bd(o){return uo(this,null,function*(){return new Promise((e,r)=>{o.file(t=>{let a=co(t,o.fullPath);e(a)},t=>{r(t)})})})}function fs(o,e){if(o&&e){let r=Array.isArray(e)?e:e.split(","),t=o.name||"",a=(o.type||"").toLowerCase(),n=a.replace(/\/.*$/,"");return r.some(f=>{let s=f.trim().toLowerCase();return s.charAt(0)==="."?t.toLowerCase().endsWith(s):s.endsWith("/*")?n===s.replace(/\/.*$/,""):a===s})}return!0}var Pd=Object.defineProperty,Od=Object.defineProperties,Bd=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,wd=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,ss=(o,e,r)=>e in o?Pd(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,Ld=(o,e)=>{for(var r in e||(e={}))wd.call(e,r)&&ss(o,r,e[r]);if(ls)for(var r of ls(e))Td.call(e,r)&&ss(o,r,e[r]);return o},Rd=(o,e)=>Od(o,Bd(e)),Ad="file-invalid-type",Md="file-too-large",kd="file-too-small",Ed="too-many-files";var Nd=o=>{o=Array.isArray(o)&&o.length===1?o[0]:o;let e=Array.isArray(o)?`one of ${o.join(", ")}`:o;return{code:Ad,message:`File type must be ${e}`}},cs=o=>({code:Md,message:`File is larger than ${o} ${o===1?"byte":"bytes"}`}),ds=o=>({code:kd,message:`File is smaller than ${o} ${o===1?"byte":"bytes"}`}),us={code:Ed,message:"Too many files"};function la(o,e){let r=o.type==="application/x-moz-file"||fs(o,e);return[r,r?null:Nd(e)]}function sa(o,e,r){if(Ne(o.size))if(Ne(e)&&Ne(r)){if(o.size>r)return[!1,cs(r)];if(o.size<e)return[!1,ds(e)]}else{if(Ne(e)&&o.size<e)return[!1,ds(e)];if(Ne(r)&&o.size>r)return[!1,cs(r)]}return[!0,null]}function Ne(o){return o!=null}function is({files:o,accept:e,minSize:r,maxSize:t,multiple:a,maxFiles:n,validator:f}){return!a&&o.length>1||a&&n>=1&&o.length>n?!1:o.every(s=>{let[c]=la(s,e),[i]=sa(s,r,t),u=f?f(s):null;return c&&i&&!u})}function Vo(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function jo(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!o.target&&!!o.target.files}function ca(o){o.preventDefault()}function Hd(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function qd(o){return o.indexOf("Edge/")!==-1}function ps(o=window.navigator.userAgent){return Hd(o)||qd(o)}function re(...o){return(e,...r)=>o.some(t=>(!Vo(e)&&t&&t(e,...r),Vo(e)))}function ms(){return"showOpenFilePicker"in window}function Is(o){return Ne(o)?[{description:"Files",accept:Object.entries(o).filter(([r,t])=>{let a=!0;return Cs(r)||(console.warn(`Skipped "${r}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),a=!1),(!Array.isArray(t)||!t.every(Ss))&&(console.warn(`Skipped "${r}" because an invalid file extension was provided.`),a=!1),a}).reduce((r,[t,a])=>Rd(Ld({},r),{[t]:a}),{})}]:o}function xs(o){if(Ne(o))return Object.entries(o).reduce((e,[r,t])=>[...e,r,...t],[]).filter(e=>Cs(e)||Ss(e)).join(",")}function gs(o){return o instanceof DOMException&&(o.name==="AbortError"||o.code===o.ABORT_ERR)}function hs(o){return o instanceof DOMException&&(o.name==="SecurityError"||o.code===o.SECURITY_ERR)}function Cs(o){return o==="audio/*"||o==="video/*"||o==="image/*"||o==="text/*"||/\w+\/[-+.\w]+/g.test(o)}function Ss(o){return/^.*\.[\w]+$/.test(o)}var Ud=Object.defineProperty,_d=Object.defineProperties,zd=Object.getOwnPropertyDescriptors,$r=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,Ds=(o,e,r)=>e in o?Ud(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,W=(o,e)=>{for(var r in e||(e={}))vs.call(e,r)&&Ds(o,r,e[r]);if($r)for(var r of $r(e))Fs.call(e,r)&&Ds(o,r,e[r]);return o},Fe=(o,e)=>_d(o,zd(e)),Jr=(o,e)=>{var r={};for(var t in o)vs.call(o,t)&&e.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&$r)for(var t of $r(o))e.indexOf(t)<0&&Fs.call(o,t)&&(r[t]=o[t]);return r},ua=(0,v.forwardRef)((o,e)=>{var r=o,{children:t}=r,a=Jr(r,["children"]);let n=ia(a),{open:f}=n,s=Jr(n,["open"]);return(0,v.useImperativeHandle)(e,()=>({open:f}),[f]),v.default.createElement(v.Fragment,null,t(Fe(W({},s),{open:f})))});ua.displayName="Dropzone";var bs={disabled:!1,getFilesFromEvent:ts,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ua.defaultProps=bs;ua.propTypes={children:O.default.func,accept:O.default.objectOf(O.default.arrayOf(O.default.string)),multiple:O.default.bool,preventDropOnDocument:O.default.bool,noClick:O.default.bool,noKeyboard:O.default.bool,noDrag:O.default.bool,noDragEventsBubbling:O.default.bool,minSize:O.default.number,maxSize:O.default.number,maxFiles:O.default.number,disabled:O.default.bool,getFilesFromEvent:O.default.func,onFileDialogCancel:O.default.func,onFileDialogOpen:O.default.func,useFsAccessApi:O.default.bool,autoFocus:O.default.bool,onDragEnter:O.default.func,onDragLeave:O.default.func,onDragOver:O.default.func,onDrop:O.default.func,onDropAccepted:O.default.func,onDropRejected:O.default.func,onError:O.default.func,validator:O.default.func};var da={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ia(o={}){let{accept:e,disabled:r,getFilesFromEvent:t,maxSize:a,minSize:n,multiple:f,maxFiles:s,onDragEnter:c,onDragLeave:i,onDragOver:u,onDrop:p,onDropAccepted:m,onDropRejected:D,onFileDialogCancel:x,onFileDialogOpen:C,useFsAccessApi:P,autoFocus:h,preventDropOnDocument:b,noClick:S,noKeyboard:B,noDrag:G,noDragEventsBubbling:R,onError:$,validator:V}=W(W({},bs),o),j=(0,v.useMemo)(()=>xs(e),[e]),A=(0,v.useMemo)(()=>Is(e),[e]),ne=(0,v.useMemo)(()=>typeof C=="function"?C:ys,[C]),de=(0,v.useMemo)(()=>typeof x=="function"?x:ys,[x]),T=(0,v.useRef)(null),H=(0,v.useRef)(null),[Zo,_]=(0,v.useReducer)(Wd,da),{isFocused:st,isFileDialogActive:io}=Zo,Ue=(0,v.useRef)(typeof window<"u"&&window.isSecureContext&&P&&ms()),ct=()=>{!Ue.current&&io&&setTimeout(()=>{if(H.current){let{files:I}=H.current;I.length||(_({type:"closeDialog"}),de())}},300)};(0,v.useEffect)(()=>(window.addEventListener("focus",ct,!1),()=>{window.removeEventListener("focus",ct,!1)}),[H,io,de,Ue]);let Pe=(0,v.useRef)([]),Qo=I=>{T.current&&T.current.contains(I.target)||(I.preventDefault(),Pe.current=[])};(0,v.useEffect)(()=>(b&&(document.addEventListener("dragover",ca,!1),document.addEventListener("drop",Qo,!1)),()=>{b&&(document.removeEventListener("dragover",ca),document.removeEventListener("drop",Qo))}),[T,b]),(0,v.useEffect)(()=>(!r&&h&&T.current&&T.current.focus(),()=>{}),[T,h,r]);let ue=(0,v.useCallback)(I=>{$?$(I):console.error(I)},[$]),$o=(0,v.useCallback)(I=>{I.preventDefault(),I.persist(),tr(I),Pe.current=[...Pe.current,I.target],jo(I)&&Promise.resolve(t(I)).then(F=>{if(Vo(I)&&!R)return;let L=F.length,N=L>0&&is({files:F,accept:j,minSize:n,maxSize:a,multiple:f,maxFiles:s,validator:V}),X=L>0&&!N;_({isDragAccept:N,isDragReject:X,isDragActive:!0,type:"setDraggedFiles"}),c&&c(I)}).catch(F=>ue(F))},[t,c,ue,R,j,n,a,f,s,V]),Jo=(0,v.useCallback)(I=>{I.preventDefault(),I.persist(),tr(I);let F=jo(I);if(F&&I.dataTransfer)try{I.dataTransfer.dropEffect="copy"}catch{}return F&&u&&u(I),!1},[u,R]),er=(0,v.useCallback)(I=>{I.preventDefault(),I.persist(),tr(I);let F=Pe.current.filter(N=>T.current&&T.current.contains(N)),L=F.indexOf(I.target);L!==-1&&F.splice(L,1),Pe.current=F,!(F.length>0)&&(_({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),jo(I)&&i&&i(I))},[T,i,R]),Oe=(0,v.useCallback)((I,F)=>{let L=[],N=[];I.forEach(X=>{let[Io,xo]=la(X,j),[dt,ut]=sa(X,n,a),go=V?V(X):null;if(Io&&dt&&!go)L.push(X);else{let ho=[xo,ut];go&&(ho=ho.concat(go)),N.push({file:X,errors:ho.filter(it=>it)})}}),(!f&&L.length>1||f&&s>=1&&L.length>s)&&(L.forEach(X=>{N.push({file:X,errors:[us]})}),L.splice(0)),_({acceptedFiles:L,fileRejections:N,type:"setFiles"}),p&&p(L,N,F),N.length>0&&D&&D(N,F),L.length>0&&m&&m(L,F)},[_,f,j,n,a,s,p,m,D,V]),_e=(0,v.useCallback)(I=>{I.preventDefault(),I.persist(),tr(I),Pe.current=[],jo(I)&&Promise.resolve(t(I)).then(F=>{Vo(I)&&!R||Oe(F,I)}).catch(F=>ue(F)),_({type:"reset"})},[t,Oe,ue,R]),me=(0,v.useCallback)(()=>{if(Ue.current){_({type:"openDialog"}),ne();let I={multiple:f,types:A};window.showOpenFilePicker(I).then(F=>t(F)).then(F=>{Oe(F,null),_({type:"closeDialog"})}).catch(F=>{gs(F)?(de(F),_({type:"closeDialog"})):hs(F)?(Ue.current=!1,H.current?(H.current.value=null,H.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(F)});return}H.current&&(_({type:"openDialog"}),ne(),H.current.value=null,H.current.click())},[_,ne,de,P,Oe,ue,A,f]),ze=(0,v.useCallback)(I=>{!T.current||!T.current.isEqualNode(I.target)||(I.key===" "||I.key==="Enter"||I.keyCode===32||I.keyCode===13)&&(I.preventDefault(),me())},[T,me]),We=(0,v.useCallback)(()=>{_({type:"focus"})},[]),or=(0,v.useCallback)(()=>{_({type:"blur"})},[]),po=(0,v.useCallback)(()=>{S||(ps()?setTimeout(me,0):me())},[S,me]),Ie=I=>r?null:I,mo=I=>B?null:Ie(I),rr=I=>G?null:Ie(I),tr=I=>{R&&I.stopPropagation()},Vs=(0,v.useMemo)(()=>(I={})=>{var F=I,{refKey:L="ref",role:N,onKeyDown:X,onFocus:Io,onBlur:xo,onClick:dt,onDragEnter:ut,onDragOver:go,onDragLeave:ho,onDrop:it}=F,Ks=Jr(F,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return W(W({onKeyDown:mo(re(X,ze)),onFocus:mo(re(Io,We)),onBlur:mo(re(xo,or)),onClick:Ie(re(dt,po)),onDragEnter:rr(re(ut,$o)),onDragOver:rr(re(go,Jo)),onDragLeave:rr(re(ho,er)),onDrop:rr(re(it,_e)),role:typeof N=="string"&&N!==""?N:"presentation",[L]:T},!r&&!B?{tabIndex:0}:{}),Ks)},[T,ze,We,or,po,$o,Jo,er,_e,B,G,r]),js=(0,v.useCallback)(I=>{I.stopPropagation()},[]),Xs=(0,v.useMemo)(()=>(I={})=>{var F=I,{refKey:L="ref",onChange:N,onClick:X}=F,Io=Jr(F,["refKey","onChange","onClick"]);let xo={accept:j,multiple:f,type:"file",style:{display:"none"},onChange:Ie(re(N,_e)),onClick:Ie(re(X,js)),tabIndex:-1,[L]:H};return W(W({},xo),Io)},[H,e,f,_e,r]);return Fe(W({},Zo),{isFocused:st&&!r,getRootProps:Vs,getInputProps:Xs,rootRef:T,inputRef:H,open:Ie(me)})}function Wd(o,e){switch(e.type){case"focus":return Fe(W({},o),{isFocused:!0});case"blur":return Fe(W({},o),{isFocused:!1});case"openDialog":return Fe(W({},da),{isFileDialogActive:!0});case"closeDialog":return Fe(W({},o),{isFileDialogActive:!1});case"setDraggedFiles":return Fe(W({},o),{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Fe(W({},o),{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return W({},da);default:return o}}function ys(){}var[Ps,Os]=xa("Dropzone component was not found in tree");var Bs=l(d(),1),ws=l(y(),1);function pa(o){let e=r=>{let{children:t,...a}=je(`Dropzone${pt(o)}`,{},r),n=Os(),f=Ia(t)?t:(0,Bs.jsx)("span",{children:t});return n[o]?(0,ws.cloneElement)(f,a):null};return e.displayName=`@mantine/dropzone/${pt(o)}`,e}var Ts=pa("accept"),Ls=pa("reject"),Rs=pa("idle");var He={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};var Gd={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},Vd=(o,{radius:e,variant:r,acceptColor:t,rejectColor:a})=>{let n=o.variantColorResolver({color:t||o.primaryColor,theme:o,variant:r}),f=o.variantColorResolver({color:a||"red",theme:o,variant:r});return{root:{"--dropzone-radius":ha(e),"--dropzone-accept-color":n.color,"--dropzone-accept-bg":n.background,"--dropzone-reject-color":f.color,"--dropzone-reject-bg":f.background}}},ce=nr((o,e)=>{let r=je("Dropzone",Gd,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,radius:i,disabled:u,loading:p,multiple:m,maxSize:D,accept:x,children:C,onDropAny:P,onDrop:h,onReject:b,openRef:S,name:B,maxFiles:G,autoFocus:R,activateOnClick:$,activateOnDrag:V,dragEventsBubbling:j,activateOnKeyboard:A,onDragEnter:ne,onDragLeave:de,onDragOver:T,onFileDialogCancel:H,onFileDialogOpen:Zo,preventDropOnDocument:_,useFsAccessApi:st,getFilesFromEvent:io,validator:Ue,rejectColor:ct,acceptColor:Pe,enablePointerEvents:Qo,loaderProps:ue,inputProps:$o,mod:Jo,...er}=r,Oe=ar({name:"Dropzone",classes:He,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,vars:c,varsResolver:Vd}),{getRootProps:_e,getInputProps:me,isDragAccept:ze,isDragReject:We,open:or}=ia({onDrop:P,onDropAccepted:h,onDropRejected:b,disabled:u||p,accept:Array.isArray(x)?x.reduce((Ie,mo)=>({...Ie,[mo]:[]}),{}):x,multiple:m,maxSize:D,maxFiles:G,autoFocus:R,noClick:!$,noDrag:!V,noDragEventsBubbling:!j,noKeyboard:!A,onDragEnter:ne,onDragLeave:de,onDragOver:T,onFileDialogCancel:H,onFileDialogOpen:Zo,preventDropOnDocument:_,useFsAccessApi:st,validator:Ue,...io?{getFilesFromEvent:io}:null});Ca(S,or);let po=!ze&&!We;return(0,qe.jsx)(Ps,{value:{accept:ze,reject:We,idle:po},children:(0,qe.jsxs)(Xe,{..._e(),...Oe("root",{focusable:!0}),...er,mod:[{accept:ze,reject:We,idle:po,loading:p,"activate-on-click":$},Jo],children:[(0,qe.jsx)(wa,{visible:p,overlayProps:{radius:i},unstyled:s,loaderProps:ue}),(0,qe.jsx)("input",{...me($o),name:B}),(0,qe.jsx)("div",{...Oe("inner"),ref:e,"data-enable-pointer-events":Qo||void 0,children:C})]})})});ce.classes=He;ce.displayName="@mantine/dropzone/Dropzone";ce.Accept=Ts;ce.Idle=Rs;ce.Reject=Ls;var et=l(d(),1),Xo=l(y(),1);var jd={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:ga("max"),withinPortal:!0},ot=nr((o,e)=>{let r=je("DropzoneFullScreen",jd,o),{classNames:t,className:a,style:n,styles:f,unstyled:s,vars:c,active:i,onDrop:u,onReject:p,zIndex:m,withinPortal:D,portalProps:x,...C}=r,P=ar({name:"DropzoneFullScreen",classes:He,props:r,className:a,style:n,classNames:t,styles:f,unstyled:s,rootSelector:"fullScreen"}),{resolvedClassNames:h,resolvedStyles:b}=Da({classNames:t,styles:f,props:r}),[S,B]=(0,Xo.useState)(0),[G,{open:R,close:$}]=Sa(!1),V=A=>{A.dataTransfer?.types.includes("Files")&&(B(ne=>ne+1),R())},j=()=>{B(A=>A-1)};return(0,Xo.useEffect)(()=>{S===0&&$()},[S]),(0,Xo.useEffect)(()=>{if(i)return document.addEventListener("dragenter",V,!1),document.addEventListener("dragleave",j,!1),()=>{document.removeEventListener("dragenter",V,!1),document.removeEventListener("dragleave",j,!1)}},[i]),(0,et.jsx)(va,{...x,withinPortal:D,children:(0,et.jsx)(Xe,{...P("fullScreen",{style:{opacity:G?1:0,pointerEvents:G?"all":"none",zIndex:m}}),ref:e,children:(0,et.jsx)(ce,{...C,classNames:h,styles:b,unstyled:s,className:He.dropzone,onDrop:A=>{u?.(A),$(),B(0)},onReject:A=>{p?.(A),$(),B(0)}})})})});ot.classes=He;ot.displayName="@mantine/dropzone/DropzoneFullScreen";ce.FullScreen=ot;var rt=ce;var ft=l(y(),1);var Ms=l(d(),1);function As(){return(0,Ms.jsx)(Fo,{stroke:1.5,style:{width:Ve(52),height:Ve(52),color:"var(--mantine-color-blue-6)"}})}var Ko=l(d(),1);function ks(){return(0,Ko.jsxs)(So,{gap:"xl",justify:"center",mih:220,style:{pointerEvents:"none"},children:[(0,Ko.jsx)(gt,{stroke:1.5,style:{width:Ve(52),height:Ve(52),color:"var(--mantine-color-red-6)"}}),(0,Ko.jsx)(ba,{inline:!0,size:"xl",children:"Unsupported file format"})]})}var ma=l(d(),1);function Es({onClick:o}){return(0,ma.jsx)(fe,{c:"primary.0",size:"lg",onClick:o,children:(0,ma.jsx)(Fo,{size:"20"})})}var te=l(y(),1);function Ns(o,e){return o.filter(r=>e.find(t=>t.filename===r.name))}var tt=l(y(),1);var k=l(d(),1);function Xd({overweight:o,other:e,max:r}){return(0,k.jsxs)(k.Fragment,{children:[o.length>1?(0,k.jsxs)("p",{children:["You have ",o.length," file(s) that are too big (up to ",Uo(r),")."]}):(0,k.jsxs)("p",{children:["This file is too big (",Uo(o[0].size),")."]}),e&&e.length>0&&(0,k.jsxs)("p",{children:["You can upload the remaining ",e.length," file(s) or cancel upload."]}),(0,k.jsx)(Ba,{}),(0,k.jsx)("p",{children:(0,k.jsx)("i",{children:(0,k.jsx)("small",{children:'If you want to upload big files, please update "maxsize" value in your config.json and restart nanomoln.'})})})]})}function Kd({other:o,onUpload:e}){let{hide:r}=ie();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(le,{style:o&&o.length>0?{marginRight:"auto"}:{},variant:"subtle",onClick:r,children:"Cancel upload"}),o&&o.length>0&&(0,k.jsxs)(le,{onClick:e,children:["Upload ",o.length," files"]})]})}function Hs(){let{show:o,hide:e}=ie(),r=(0,tt.useCallback)((t,a,n,f)=>{t&&t.length>0?o("Allowed upload size exceeded",(0,k.jsx)(Xd,{max:n,other:a,overweight:t}),(0,k.jsx)(Kd,{other:a,onUpload:f})):console.error("Trying to show empty overweight confirmation")},[o]);return(0,tt.useMemo)(()=>({confirm:r,hide:e}),[r,e])}var nt=l(y(),1);var at={list:"P7AHk",item:"y9DC4",wrapper:"etJE2"};var E=l(d(),1),qs=10;function Yd({intersection:o}){let e=o.length>qs?o.slice(0,qs):o;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{children:"This files will be overwritten:"}),(0,E.jsx)("ul",{className:at.list,children:e.map(r=>(0,E.jsx)("li",{className:at.item,title:r.name,children:(0,E.jsx)("span",{className:at.wrapper,children:r.name})},r.name))}),e.length<o.length&&(0,E.jsx)("p",{children:(0,E.jsxs)("strong",{children:["And ",o.length-e.length," more"]})})]})}function Zd({intersection:o,rest:e,onOverwrite:r,onIgnore:t}){let{hide:a}=ie();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(le,{style:{marginRight:"auto"},variant:"subtle",onClick:a,children:"Cancel upload"}),(0,E.jsx)(le,{color:"red",onClick:r,children:o.length>1?"Overwrite all":"Overwrite"}),o.length>1&&e&&e.length>0&&(0,E.jsx)(le,{onClick:t,children:"Ignore exist"})]})}function Us(){let{show:o,hide:e}=ie(),r=(0,nt.useCallback)((t,a,n,f)=>{t&&t.length>0?o("Files already exist",(0,E.jsx)(Yd,{intersection:t}),(0,E.jsx)(Zd,{intersection:t,rest:a,onIgnore:f,onOverwrite:n})):console.error("Trying to show empty overwrite confirmation")},[o]);return(0,nt.useMemo)(()=>({confirm:r,hide:e}),[r,e])}function _s(){let o=(0,te.useContext)(yo),{data:e}=U(),{upload:r}=Ke(),{confirm:t,hide:a}=Us(),{confirm:n}=Hs(),f=(0,te.useCallback)(m=>()=>{r(m,e?.path??""),a()},[e,a,r]),s=(0,te.useCallback)((m,D)=>()=>{let x=m.filter(C=>!D.includes(C));x.length>0&&r(x,e?.path??""),a()},[e,r,a]),c=(0,te.useCallback)((m,D)=>{let x=m.filter(C=>!D.includes(C));t(D,x,f(m),s(m,D))},[t,f,s]),i=(0,te.useCallback)(m=>{let D=Ns(m,e?.files??[]);D.length>0?c(m,D):r(m,e?.path??"")},[c,r,e]),u=(0,te.useCallback)((m,D)=>{let x=m.filter(h=>h.size>(o?.maxsize??1e7)),C=m.filter(h=>!x.includes(h)),P=x.reduce((h,b)=>Math.max(h,b.size),-1/0);x.length>0?n(x,C,P,()=>{D(C)}):D(C)},[]),p=(0,te.useCallback)(m=>{e?.path&&u(m,D=>{i(D)})},[e,u,i]);return(0,te.useMemo)(()=>({upload:p}),[p])}var zs={root:"cr9-2"};var ae=l(d(),1);function Ws(){let o=(0,ft.useRef)(null),{accept:e}=(0,ft.useContext)(yo)??{accept:["*"]},{upload:r}=_s();return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(rt.FullScreen,{active:!0,accept:e,className:zs.root,openRef:o,onDrop:r,children:[(0,ae.jsx)(rt.Accept,{children:(0,ae.jsx)(As,{})}),(0,ae.jsx)(rt.Reject,{children:(0,ae.jsx)(ks,{})})]}),(0,ae.jsx)(Es,{onClick:()=>o.current?.()})]})}var be=l(d(),1);function Gs(){let{data:o,create:e}=U(),[r,t]=(0,lt.useState)(!1);return(0,lt.useEffect)(()=>{t(!0)},[]),!r||!o?null:(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(Ws,{}),(0,be.jsx)(fe,{c:"primary.0",size:"lg",onClick:e,children:(0,be.jsx)(we,{size:"20"})})]})}var Yo=l(d(),1);function hD(){let{data:o}=U();return(0,Yo.jsx)(jl,{headerActions:(0,Yo.jsx)(Gs,{}),children:o?(0,Yo.jsx)(Tl,{}):(0,Yo.jsx)(El,{})})}export{xe as a,Jd as b,hD as c,Qd as d};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@tabler/icons-react/dist/esm/defaultAttributes.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/createReactComponent.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconDownload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderUp.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconPencil.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconUpload.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconX.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFileFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconFolderFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/icons/IconTrashFilled.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tabler/icons-react/dist/esm/tabler-icons-react.mjs:
  (**
   * @license @tabler/icons-react v3.2.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   *)

filesize/dist/filesize.esm.js:
  (**
   * filesize
   *
   * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
   * @license BSD-3-Clause
   * @version 10.1.2
   *)
*/
